!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.mobiscroll=t()}(this,function(){"use strict";function e(e){return"function"==typeof e}function t(e){return"object"===(void 0===e?"undefined":ie(e))}function a(e){return"number"==typeof e.length}function s(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})}function n(e,t,a){for(var s in t)a&&(be.isPlainObject(t[s])||be.isArray(t[s]))?((be.isPlainObject(t[s])&&!be.isPlainObject(e[s])||be.isArray(t[s])&&!be.isArray(e[s]))&&(e[s]={}),n(e[s],t[s],a)):void 0!==t[s]&&(e[s]=t[s])}function i(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function r(e,t){return"number"!=typeof t||ue[i(e)]?t:t+"px"}function l(){}function o(e){var t,a=[];for(t in e)a.push(e[t]);return a}function c(e){var t,a={};if(e)for(t=0;t<e.length;t++)a[e[t]]=e[t];return a}function d(e){return e-parseFloat(e)>=0}function u(e){return"string"==typeof e}function m(e,t,a){return Math.max(t,Math.min(e,a))}function h(e,t){var a,s;return t=t||100,function(){var n=this,i=+new Date,r=arguments;a&&i<a+t?(clearTimeout(s),s=setTimeout(function(){a=i,e.apply(n,r)},t)):(a=i,e.apply(n,r))}}function f(e){"vibrate"in navigator&&navigator.vibrate(e||50)}function p(){De++,setTimeout(function(){De--},500)}function b(e,t,a){var s=e.originalEvent||e,n=(a?"page":"client")+t;return s.targetTouches&&s.targetTouches[0]?s.targetTouches[0][n]:s.changedTouches&&s.changedTouches[0]?s.changedTouches[0][n]:e[n]}function v(e,t,a,s,n,i){function r(e){m||(s&&e.preventDefault(),m=this,d=b(e,"X"),u=b(e,"Y"),h=!1,f=new Date)}function l(e){m&&!h&&(Math.abs(b(e,"X")-d)>n||Math.abs(b(e,"Y")-u)>n)&&(h=!0)}function o(t){m&&((i&&new Date-f<100||!h)&&(t.preventDefault(),a.call(m,t,e)),m=!1,p())}function c(){m=!1}var d,u,m,h,f,v=ne.$,g=v(t);n=n||9,e.settings.tap&&g.on("touchstart.mbsc",r).on("touchcancel.mbsc",c).on("touchmove.mbsc",l).on("touchend.mbsc",o),g.on("click.mbsc",function(t){t.preventDefault(),a.call(this,t,e)})}function g(e){if(De&&!e.tap&&("TEXTAREA"!=e.target.nodeName||"mousedown"!=e.type))return e.stopPropagation(),e.preventDefault(),!1}function y(e){var t;for(t in e)if(void 0!==Ae[e[t]])return!0;return!1}function x(e,t){if("touchstart"==e.type)Le(t).attr("data-touch","1");else if(Le(t).attr("data-touch"))return Le(t).removeAttr("data-touch"),!1;return!0}function w(e,t){var a,s=getComputedStyle(e[0]);return Le.each(["t","webkitT","MozT","OT","msT"],function(e,t){if(void 0!==s[t+"ransform"])return a=s[t+"ransform"],!1}),a=a.split(")")[0].split(", "),t?a[13]||a[5]:a[12]||a[4]}function _(e,t,a,s,n,i,r){var l=new Date(e,t,a,s||0,n||0,i||0,r||0);return 23==l.getHours()&&0===(s||0)&&l.setHours(l.getHours()+2),l}function C(e,t){var a={},s=e.parent(),n=s.find(".mbsc-err-msg"),i=e.attr("data-icon-align")||"left",r=e.attr("data-icon");s.hasClass(ma)?s=s.parent():Le('<span class="'+ma+'"></span>').insertAfter(e).append(e),n&&s.find("."+ma).append(n),r&&(-1!==r.indexOf("{")?a=JSON.parse(r):a[i]=r),(r||t)&&(Oe(a,t),s.addClass((a.right?"mbsc-ic-right ":"")+(a.left?" mbsc-ic-left":"")).find("."+ma).append(a.left?'<span class="mbsc-input-ic mbsc-left-ic mbsc-ic mbsc-ic-'+a.left+'"></span>':"").append(a.right?'<span class="mbsc-input-ic mbsc-right-ic mbsc-ic mbsc-ic-'+a.right+'"></span>':""))}function T(e,t,a){var s={},n=a[0],i=a.attr("data-password-toggle"),r=a.attr("data-icon-show")||"eye",l=a.attr("data-icon-hide")||"eye-blocked";i&&(s.right="password"==n.type?r:l),C(a,s),i&&v(e,t.find(".mbsc-right-ic").addClass("mbsc-input-toggle"),function(){"text"==n.type?(n.type="password",Le(this).addClass("mbsc-ic-"+r).removeClass("mbsc-ic-"+l)):(n.type="text",Le(this).removeClass("mbsc-ic-"+r).addClass("mbsc-ic-"+l))})}function M(e,t){"button"!=t&&"submit"!=t&&"segmented"!=t&&(e.addClass("mbsc-control-w").find("label").addClass("mbsc-label"),e.contents().filter(function(){return 3==this.nodeType&&this.nodeValue&&/\S/.test(this.nodeValue)}).each(function(){Le('<span class="mbsc-label"></span>').insertAfter(this).append(this)}))}function k(e){var t=[Math.round(e.r).toString(16),Math.round(e.g).toString(16),Math.round(e.b).toString(16)];return Le.each(t,function(e,a){1==a.length&&(t[e]="0"+a)}),"#"+t.join("")}function D(e){return e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16),{r:e>>16,g:(65280&e)>>8,b:255&e,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function S(e){var t,a,s,n=e.h,i=255*e.s/100,r=255*e.v/100;if(0===i)t=a=s=r;else{var l=r,o=(255-i)*r/255,c=n%60*(l-o)/60;360==n&&(n=0),n<60?(t=l,s=o,a=o+c):n<120?(a=l,s=o,t=l-c):n<180?(a=l,t=o,s=o+c):n<240?(s=l,t=o,a=l-c):n<300?(s=l,a=o,t=o+c):n<360?(t=l,a=o,s=l-c):t=a=s=0}return{r:t,g:a,b:s,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function V(e){var t,a,s=0,n=Math.min(e.r,e.g,e.b),i=Math.max(e.r,e.g,e.b),r=i-n;return a=i,t=i?255*r/i:0,s=t?e.r==i?(e.g-e.b)/r:e.g==i?2+(e.b-e.r)/r:4+(e.r-e.g)/r:-1,s*=60,s<0&&(s+=360),t*=100/255,a*=100/255,{h:s,s:t,v:a,toString:function(){return"hsv("+Math.round(this.h)+","+Math.round(this.s)+"%,"+Math.round(this.v)+"%)"}}}function A(e){var t,a,s=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(s,n,i),l=Math.min(s,n,i),o=(r+l)/2;if(r==l)t=a=0;else{var c=r-l;switch(a=o>.5?c/(2-r-l):c/(r+l),r){case s:t=(n-i)/c+(n<i?6:0);break;case n:t=(i-s)/c+2;break;case i:t=(s-n)/c+4}t/=6}return{h:Math.round(360*t),s:Math.round(100*a),l:Math.round(100*o),toString:function(){return"hsl("+this.h+","+this.s+"%,"+this.l+"%)"}}}function E(e){var t,a,s,n,i,r,l=e.h,o=e.s,c=e.l;return isFinite(l)||(l=0),isFinite(o)||(o=0),isFinite(c)||(c=0),l/=60,l<0&&(l=6- -l%6),l%=6,o=Math.max(0,Math.min(1,o/100)),c=Math.max(0,Math.min(1,c/100)),i=(1-Math.abs(2*c-1))*o,r=i*(1-Math.abs(l%2-1)),l<1?(t=i,a=r,s=0):l<2?(t=r,a=i,s=0):l<3?(t=0,a=i,s=r):l<4?(t=0,a=r,s=i):l<5?(t=r,a=0,s=i):(t=i,a=0,s=r),n=c-i/2,{r:Math.round(255*(t+n)),g:Math.round(255*(a+n)),b:Math.round(255*(s+n)),toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function I(e){return A(D(e))}function L(e){return k(E(e))}function O(e){return k(S(e))}function Y(e){return V(D(e))}function H(e){ya.length||e.show(),ya.push(e)}function N(e){var t=xa.length;xa.push(e),ya.length||(t?xa[0].hide():e.show(!1,!0))}function F(e,t,a,s){return Oe({display:t.display||"center",cssClass:"mbsc-alert",okText:t.okText,cancelText:t.cancelText,context:t.context,theme:t.theme,closeOnOverlayTap:!1,onBeforeClose:function(){e.shift()},onBeforeShow:function(){ne.activeInstance=null},onHide:function(e,s){a&&a(s._resolve),t.callback&&t.callback(s._resolve),s&&s.destroy(),ya.length?ya[0].show():xa.length&&xa[0].show(!1,!0)}},s)}function P(e){return(e.title?"<h2>"+e.title+"</h2>":"")+"<p>"+(e.message||"")+"</p>"}function W(e,t,a){H(new Wt(e,F(ya,t,a)))}function $(e,t,a){var s=new Wt(e,F(ya,t,a,{buttons:["ok","cancel"],onSet:function(){s._resolve=!0}}));s._resolve=!1,H(s)}function j(e,t,a){var s=void 0,n=new Wt(e,F(ya,t,a,{buttons:["ok","cancel"],onShow:function(){s=n._markup.find("input")[0],setTimeout(function(){s.focus()},300)},onSet:function(){n._resolve=s.value}}));n._resolve="",H(n)}function R(e,t,a,s,n){var i=void 0;N(new Wt(e,F(xa,t,a,{display:"bottom",animate:n,cssClass:s||"mbsc-snackbar",scrollLock:!1,focusTrap:!1,buttons:[],onShow:function(e,a){!1!==t.duration&&(i=setTimeout(function(){a&&a.hide()},t.duration||3e3)),t.button&&a.tap(Le(".mbsc-snackbar-btn",e.target),function(){a.hide(),t.button.action&&t.button.action.call(this)})},onClose:function(){clearTimeout(i)}})))}function q(e,t,a){R(e,t,a,"mbsc-toast","fade")}function X(e,t,a){var s=void 0;return ga?s=new Promise(function(s){e(t,a,s)}):e(t,a),s}function U(e){var t=e[0],a=e.attr("data-role"),s=e.attr("type")||t.nodeName.toLowerCase();return/(switch|range|segmented|stepper)/.test(a)&&(s=a),s}function B(e){var t=ne.themes.form[e];return t&&t.addRipple?t:null}function z(){clearTimeout(Ea),Ea=setTimeout(function(){Le("textarea.mbsc-control").each(function(){K(this)})},100)}function K(e){var t=void 0,a=void 0,s=void 0,n=Le(e).attr("rows")||6;e.offsetHeight&&(e.style.height="",s=e.scrollHeight-e.offsetHeight,t=e.offsetHeight+(s>0?s:0),a=Math.round(t/24),a>n?(e.scrollTop=t,t=24*n+(t-24*a),Le(e).addClass("mbsc-textarea-scroll")):Le(e).removeClass("mbsc-textarea-scroll"),t&&(e.style.height=t+"px"))}function G(e){if(!Le(e).hasClass("mbsc-textarea-scroll")){var t=e.scrollHeight-e.offsetHeight,a=e.offsetHeight+t;e.scrollTop=0,e.style.height=a+"px"}}function Z(e){for(var t=0,a=1,s=0;e.length;)t>3?a=3600:t>1&&(a=60),s+=e.pop()*a*(t%2?10:1),t++;return s}function J(e,t){var a=document.createElement("script"),s="mbscjsonp"+ ++Yt;window[s]=function(e){a.parentNode.removeChild(a),delete window[s],e&&t(e)},a.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+s,document.body.appendChild(a)}function Q(e,t){var a=new XMLHttpRequest;a.open("GET",e,!0),a.onload=function(){this.status>=200&&this.status<400&&t(JSON.parse(this.response))},a.onerror=function(){},a.send()}function ee(e,t,a){"jsonp"==a?J(e,t):Q(e,t)}function te(e,t){var a=b(t,"X",!0),s=b(t,"Y",!0),n=e.offset(),i=a-n.left,r=s-n.top,l=Math.max(i,e[0].offsetWidth-i),o=Math.max(r,e[0].offsetHeight-r),c=2*Math.sqrt(Math.pow(l,2)+Math.pow(o,2));ae(Je),Je=Le('<span class="mbsc-ripple"></span>').css({width:c,height:c,top:s-n.top-c/2,left:a-n.left-c/2}).appendTo(e),setTimeout(function(){Je.addClass("mbsc-ripple-scaled mbsc-ripple-visible")},10)}function ae(e){setTimeout(function(){e&&(e.removeClass("mbsc-ripple-visible"),setTimeout(function(){e.remove()},2e3))},100)}function se(e,t,a,s){var n,i;e.off(".mbsc-ripple").on("touchstart.mbsc-ripple mousedown.mbsc-ripple",t,function(e){x(e,this)&&(n=b(e,"X"),i=b(e,"Y"),Ze=Le(this),Ze.hasClass(a)||Ze.hasClass(s)?Ze=null:te(Ze,e))}).on("touchmove.mbsc-ripple mousemove.mbsc-ripple",t,function(e){(Ze&&Math.abs(b(e,"X")-n)>9||Math.abs(b(e,"Y")-i)>9)&&(ae(Je),Ze=null)}).on("touchend.mbsc-ripple touchcancel.mbsc-ripple mouseleave.mbsc-ripple mouseup.mbsc-ripple",t,function(){Ze&&(setTimeout(function(){ae(Je)},100),Ze=null)})}var ne=ne||{},ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},le=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),oe=function e(t,a,s){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,s)}if("value"in n)return n.value;var r=n.get;return void 0!==r?r.call(s):void 0},ce=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},de=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},ue={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},me={readonly:"readOnly"},he=[],fe=Array.prototype.slice,pe=function(){var n=function(e){var t=this,a=0;for(a=0;a<e.length;a++)t[a]=e[a];return t.length=e.length,l(this)},l=function t(a,s){var i=[],r=0;if(a&&!s&&a instanceof n)return a;if(e(a))return t(document).ready(a);if(a)if("string"==typeof a){var l,o,c;if(a=c=a.trim(),c.indexOf("<")>=0&&c.indexOf(">")>=0){var d="div";for(0===c.indexOf("<li")&&(d="ul"),0===c.indexOf("<tr")&&(d="tbody"),0!==c.indexOf("<td")&&0!==c.indexOf("<th")||(d="tr"),0===c.indexOf("<tbody")&&(d="table"),0===c.indexOf("<option")&&(d="select"),o=document.createElement(d),o.innerHTML=c,r=0;r<o.childNodes.length;r++)i.push(o.childNodes[r])}else for(s||"#"!==a[0]||a.match(/[ .<>:~]/)?(s instanceof n&&(s=s[0]),l=(s||document).querySelectorAll(a)):l=[document.getElementById(a.split("#")[1])],r=0;r<l.length;r++)l[r]&&i.push(l[r])}else if(a.nodeType||a===window||a===document)i.push(a);else if(a.length>0&&a[0].nodeType)for(r=0;r<a.length;r++)i.push(a[r]);else t.isArray(a)&&(i=a);return new n(i)};return n.prototype={ready:function(e){return(document.attachEvent?"complete"==document.readyState:"loading"!=document.readyState)?e(l):document.addEventListener("DOMContentLoaded",function(){e(l)},!1),this},concat:he.concat,empty:function(){return this.each(function(){this.innerHTML=""})},map:function(e){return l(l.map(this,function(t,a){return e.call(t,a,t)}))},slice:function(){return l(fe.apply(this,arguments))},addClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),a=0;a<t.length;a++)for(var s=0;s<this.length;s++)void 0!==this[s].classList&&""!==t[a]&&this[s].classList.add(t[a]);return this},removeClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),a=0;a<t.length;a++)for(var s=0;s<this.length;s++)void 0!==this[s].classList&&""!==t[a]&&this[s].classList.remove(t[a]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a++)for(var s=0;s<this.length;s++)void 0!==this[s].classList&&this[s].classList.toggle(t[a]);return this},closest:function(e,a){var s=this[0],n=!1;for(t(e)&&(n=l(e));s&&!(n?n.indexOf(s)>=0:l.matches(s,e));)s=s!==a&&s.nodeType!==s.DOCUMENT_NODE&&s.parentNode;return l(s)},attr:function(e,t){var a;if(1!==arguments.length||"string"!=typeof e){for(var s=0;s<this.length;s++)if(2===arguments.length)this[s].setAttribute(e,t);else for(var n in e)this[s][n]=e[n],this[s].setAttribute(n,e[n]);return this}if(this.length)return a=this[0].getAttribute(e),a||""===a?a:void 0},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},prop:function(e,t){if(e=me[e]||e,1===arguments.length&&"string"==typeof e)return this[0]?this[0][e]:void 0;for(var a=0;a<this.length;a++)this[a][e]=t;return this},val:function(e){if(void 0===e)return this.length&&this[0].multiple?l.map(this.find("option:checked"),function(e){return e.value}):this[0]?this[0].value:void 0;if(this.length&&this[0].multiple)l.each(this[0].options,function(){this.selected=-1!=e.indexOf(this.value)});else for(var t=0;t<this.length;t++)this[t].value=e;return this},on:function(t,a,s,n){function i(e){var t,n,i=e.target;if(l(i).is(a))s.call(i,e);else for(n=l(i).parents(),t=0;t<n.length;t++)l(n[t]).is(a)&&s.call(n[t],e)}function r(e,t,a,s){var n=t.split(".");e.DomNameSpaces||(e.DomNameSpaces=[]),e.DomNameSpaces.push({namespace:n[1],event:n[0],listener:a,capture:s}),e.addEventListener(n[0],a,s)}var o,c,d=t.split(" ");for(o=0;o<this.length;o++)if(e(a)||!1===a)for(e(a)&&(n=s||!1,s=a),c=0;c<d.length;c++)-1!=d[c].indexOf(".")?r(this[o],d[c],s,n):this[o].addEventListener(d[c],s,n);else for(c=0;c<d.length;c++)this[o].DomLiveListeners||(this[o].DomLiveListeners=[]),this[o].DomLiveListeners.push({listener:s,liveListener:i}),-1!=d[c].indexOf(".")?r(this[o],d[c],i,n):this[o].addEventListener(d[c],i,n);return this},off:function(t,a,s,n){function i(e){var t,a,s,n=e.split("."),i=n[0],r=n[1];for(t=0;t<d.length;++t)if(d[t].DomNameSpaces){for(a=0;a<d[t].DomNameSpaces.length;++a)s=d[t].DomNameSpaces[a],s.namespace!=r||s.event!=i&&i||(d[t].removeEventListener(s.event,s.listener,s.capture),s.removed=!0);for(a=d[t].DomNameSpaces.length-1;a>=0;--a)d[t].DomNameSpaces[a].removed&&d[t].DomNameSpaces.splice(a,1)}}var r,l,o,c,d=this;for(r=t.split(" "),l=0;l<r.length;l++)for(o=0;o<this.length;o++)if(e(a)||!1===a)e(a)&&(n=s||!1,s=a),0===r[l].indexOf(".")?i(r[l].substr(1)):this[o].removeEventListener(r[l],s,n);else{if(this[o].DomLiveListeners)for(c=0;c<this[o].DomLiveListeners.length;c++)this[o].DomLiveListeners[c].listener===s&&this[o].removeEventListener(r[l],this[o].DomLiveListeners[c].liveListener,n);this[o].DomNameSpaces&&this[o].DomNameSpaces.length&&r[l]&&i(r[l])}return this},trigger:function(e,t){for(var a=e.split(" "),s=0;s<a.length;s++)for(var n=0;n<this.length;n++){var i;try{i=new CustomEvent(a[s],{detail:t,bubbles:!0,cancelable:!0})}catch(e){i=document.createEvent("Event"),i.initEvent(a[s],!0,!0),i.detail=t}this[n].dispatchEvent(i)}return this},width:function(e){return void 0!==e?this.css("width",e):this[0]===window?window.innerWidth:this[0]===document?document.documentElement.scrollWidth:this.length>0?parseFloat(this.css("width")):null},height:function(e){if(void 0!==e)return this.css("height",e);if(this[0]===window)return window.innerHeight;if(this[0]===document){var t=document.body,a=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight)}return this.length>0?parseFloat(this.css("height")):null},innerWidth:function(){var e=this;if(this.length>0){if(this[0].innerWidth)return this[0].innerWidth;var t=this[0].offsetWidth;return["left","right"].forEach(function(a){t-=parseInt(e.css(s("border-"+a+"-width"))||0,10)}),t}},innerHeight:function(){var e=this;if(this.length>0){if(this[0].innerHeight)return this[0].innerHeight;var t=this[0].offsetHeight;return["top","bottom"].forEach(function(a){t-=parseInt(e.css(s("border-"+a+"-width"))||0,10)}),t}},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),a=document.documentElement;return{top:t.top+window.pageYOffset-a.clientTop,left:t.left+window.pageXOffset-a.clientLeft}}},hide:function(){for(var e=0;e<this.length;e++)this[e].style.display="none";return this},show:function(){for(var e=0;e<this.length;e++)"none"==this[e].style.display&&(this[e].style.display=""),"none"==getComputedStyle(this[e],"").getPropertyValue("display")&&(this[e].style.display="block");return this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},styles:function(){return this[0]?window.getComputedStyle(this[0],null):void 0},css:function(e,t){var a,s,n=this[0],l="";if(arguments.length<2){if(!n)return;if("string"==typeof e)return n.style[e]||getComputedStyle(n,"").getPropertyValue(e)}if("string"==typeof e)t||0===t?l=i(e)+":"+r(e,t):this.each(function(){this.style.removeProperty(i(e))});else for(s in e)if(e[s]||0===e[s])l+=i(s)+":"+r(s,e[s])+";";else for(a=0;a<this.length;a++)this[a].style.removeProperty(i(s));return this.each(function(){this.style.cssText+=";"+l})},each:function(e){for(var t=0;t<this.length&&!1!==e.apply(this[t],[t,this[t]]);t++);return this},filter:function(t){for(var a=[],s=0;s<this.length;s++)e(t)?t.call(this[s],s,this[s])&&a.push(this[s]):l.matches(this[s],t)&&a.push(this[s]);return new n(a)},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;this.empty();for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},is:function(e){return this.length>0&&l.matches(this[0],e)},not:function(s){var n=[];if(e(s)&&void 0!==s.call)this.each(function(e){s.call(this,e)||n.push(this)});else{var i="string"==typeof s?this.filter(s):a(s)&&e(s.item)?fe.call(s):l(s);t(i)&&(i=l.map(i,function(e){return e})),this.each(function(e,t){i.indexOf(t)<0&&n.push(t)})}return l(n)},indexOf:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t},index:function(e){return e?this.indexOf(l(e)[0]):this.parent().children().indexOf(this[0])},get:function(e){return void 0===e?fe.call(this):this[e>=0?e:e+this.length]},eq:function(e){if(void 0===e)return this;var t,a=this.length;return e>a-1?new n([]):e<0?(t=a+e,new n(t<0?[]:[this[t]])):new n([this[e]])},append:function(e){var t,a;for(t=0;t<this.length;t++)if("string"==typeof e){var s=document.createElement("div");for(s.innerHTML=e;s.firstChild;)this[t].appendChild(s.firstChild)}else if(e instanceof n)for(a=0;a<e.length;a++)this[t].appendChild(e[a]);else this[t].appendChild(e);return this},appendTo:function(e){return l(e).append(this),this},prepend:function(e){var t,a;for(t=0;t<this.length;t++)if("string"==typeof e){var s=document.createElement("div");for(s.innerHTML=e,a=s.childNodes.length-1;a>=0;a--)this[t].insertBefore(s.childNodes[a],this[t].childNodes[0])}else if(e instanceof n)for(a=0;a<e.length;a++)this[t].insertBefore(e[a],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},prependTo:function(e){return l(e).prepend(this),this},insertBefore:function(e){for(var t=l(e),a=0;a<this.length;a++)if(1===t.length)t[0].parentNode.insertBefore(this[a],t[0]);else if(t.length>1)for(var s=0;s<t.length;s++)t[s].parentNode.insertBefore(this[a].cloneNode(!0),t[s]);return this},insertAfter:function(e){for(var t=l(e),a=0;a<this.length;a++)if(1===t.length)t[0].parentNode.insertBefore(this[a],t[0].nextSibling);else if(t.length>1)for(var s=0;s<t.length;s++)t[s].parentNode.insertBefore(this[a].cloneNode(!0),t[s].nextSibling);return this},next:function(e){return new n(this.length>0?e?this[0].nextElementSibling&&l(this[0].nextElementSibling).is(e)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(e){var t=[],a=this[0];if(!a)return new n([]);for(;a.nextElementSibling;){var s=a.nextElementSibling;e?l(s).is(e)&&t.push(s):t.push(s),a=s}return new n(t)},prev:function(e){return new n(this.length>0?e?this[0].previousElementSibling&&l(this[0].previousElementSibling).is(e)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(e){var t=[],a=this[0];if(!a)return new n([]);for(;a.previousElementSibling;){var s=a.previousElementSibling;e?l(s).is(e)&&t.push(s):t.push(s),a=s}return new n(t)},parent:function(e){for(var t=[],a=0;a<this.length;a++)null!==this[a].parentNode&&(e?l(this[a].parentNode).is(e)&&t.push(this[a].parentNode):t.push(this[a].parentNode));return l(l.unique(t))},parents:function(e){for(var t=[],a=0;a<this.length;a++)for(var s=this[a].parentNode;s;)e?l(s).is(e)&&t.push(s):t.push(s),s=s.parentNode;return l(l.unique(t))},find:function(e){for(var t=[],a=0;a<this.length;a++)for(var s=this[a].querySelectorAll(e),i=0;i<s.length;i++)t.push(s[i]);return new n(t)},children:function(e){for(var t=[],a=0;a<this.length;a++)for(var s=this[a].childNodes,i=0;i<s.length;i++)e?1===s[i].nodeType&&l(s[i]).is(e)&&t.push(s[i]):1===s[i].nodeType&&t.push(s[i]);return new n(l.unique(t))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,t,a=this;for(e=0;e<arguments.length;e++){var s=l(arguments[e]);for(t=0;t<s.length;t++)a[a.length]=s[t],a.length++}return a},before:function(e){return l(e).insertBefore(this),this},after:function(e){return l(e).insertAfter(this),this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return void 0===e?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return void 0===e?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},contents:function(){return this.map(function(e,t){return fe.call(t.childNodes)})},nextUntil:function(e){for(var t=this,a=[];t.length&&!t.filter(e).length;)a.push(t[0]),t=t.next();return l(a)},prevUntil:function(e){for(var t=this,a=[];t.length&&!l(t).filter(e).length;)a.push(t[0]),t=t.prev();return l(a)},detach:function(){return this.remove()}},l.fn=n.prototype,l}(),be=pe;ne.$=pe,be.inArray=function(e,t,a){return he.indexOf.call(t,e,a)},be.extend=function(e){var t,a=fe.call(arguments,1);return"boolean"==typeof e&&(t=e,e=a.shift()),e=e||{},a.forEach(function(a){n(e,a,t)}),e},be.isFunction=e,be.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)},be.isPlainObject=function(e){return t(e)&&null!==e&&e!==e.window&&Object.getPrototypeOf(e)==Object.prototype},be.each=function(e,a){var s,n;if(t(e)&&a){if(be.isArray(e)||e instanceof pe)for(s=0;s<e.length&&!1!==a.call(e[s],s,e[s]);s++);else for(n in e)if(e.hasOwnProperty(n)&&"length"!==n&&!1===a.call(e[n],n,e[n]))break;return this}},be.unique=function(e){for(var t=[],a=0;a<e.length;a++)-1===t.indexOf(e[a])&&t.push(e[a]);return t},be.map=function(e,t){var s,n,i,r=[];if(a(e))for(n=0;n<e.length;n++)null!==(s=t(e[n],n))&&r.push(s);else for(i in e)null!==(s=t(e[i],i))&&r.push(s);return r.length>0?be.fn.concat.apply([],r):r},be.matches=function(e,t){return!(!t||!e||1!==e.nodeType)&&(e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector).call(e,t)},ne.presetShort=function(e,t,a){ne[e]=function(s,n){var i,r,l={},o=n||{};return be.extend(o,{preset:!1===a?void 0:e}),be(s).each(function(){i=new ne.classes[t||"Scroller"](this,o),l[this.id]=i}),r=Object.keys(l),1==r.length?l[r[0]]:l}};var ve,ge,ye,xe,we=[],_e="undefined"!=typeof window,Ce=_e?navigator.userAgent:"",Te=Ce.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),Me=_e&&window.requestAnimationFrame||function(e){e()},ke=_e&&window.cancelAnimationFrame||function(){};/Android/i.test(Te)?(ve="android",(ge=Ce.match(/Android\s+([\d\.]+)/i))&&(we=ge[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(Te)?(ve="ios",(ge=Ce.match(/OS\s+([\d\_]+)/i))&&(we=ge[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(Te)?ve="wp":/Windows|MSIE/i.test(Te)&&(ve="windows"),ye=we[0],xe=we[1];var De=0;_e&&(["mouseover","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,g,!0)}),"android"==ve&&ye<5&&document.addEventListener("change",function(e){De&&"checkbox"==e.target.type&&!e.target.mbscChange&&(e.stopPropagation(),e.preventDefault()),delete e.target.mbscChange},!0));var Se;!function(){function e(){var e=document.cookie.replace(/(?:(?:^|.*;\s*)ASP.NET_SessionId\s*\=\s*([^;]*).*$)|^.*$/,"$1");document.cookie="mobiscrollClientError=1; expires="+new Date((new Date).getTime()+864e5).toUTCString()+"; path=/";try{window.name=(window.name||"")+";mobiscrollClientError"}catch(e){}t("error",{trialCode:a.apiKey,sessionID:e},function(){document.cookie="mobiscrollClientError=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/";try{window.name=(window.name||"").replace(/;mobiscrollClientError/g,"")}catch(e){}})}var a,s=ne.$,n=+new Date,i={},r=s.extend;a=r(ne,{$:s,version:"3.2.5",dtdDV:!0,util:{preventClick:p,vibrate:f},autoTheme:"mobiscroll",presets:{scroller:{},numpad:{},listview:{},menustrip:{}},themes:{form:{},page:{},frame:{},scroller:{},listview:{},menustrip:{},progress:{}},platform:{name:ve,majorVersion:ye,minorVersion:xe},i18n:{},instances:i,classes:{},components:{},settings:{},setDefaults:function(e){r(this.settings,e)},customTheme:function(e,t){var a,s=ne.themes,n=["frame","scroller","listview","menustrip","form","progress"];for(a=0;a<n.length;a++)s[n[a]][e]=r({},s[n[a]][t],{baseTheme:t})}}),a.presetShort=a.presetShort||function(){},Se=function(e,t){var o,c,d,u,m,h,f,p=this;p.settings={},p._init=l,p._destroy=l,p._processSettings=l,p.init=function(n){var i;for(i in p.settings)delete p.settings[i];if(d=p.settings,r(t,n),p._hasDef&&(f=a.settings),r(d,p._defaults,f,t),p._hasTheme&&(m=d.theme,"auto"!=m&&m||(m=a.autoTheme),"default"==m&&(m="mobiscroll"),t.theme=m,u=a.themes[p._class]?a.themes[p._class][m]:{}),p._hasLang&&(o=a.i18n[d.lang]),p._hasTheme&&h("onThemeLoad",{lang:o,settings:t}),r(d,u,o,f,t),p._processSettings(),{form:!0,page:!0,scrollview:!0,progress:!0,progressbase:!0,switch:!0,slider:!0,sliderbase:!0,stepper:!0}[p._class])p._init(n),h("onInit");else{var l,b,v={className:p._class,buttons:p.buttons,platform:a.platform,userAgent:navigator.userAgent,defSortHandle:s(e).find(d.listSelector||"ul,ol").length?"left":"right",settings:{activeClass:d.activeClass,ampmText:d.ampmText,amText:d.amText,animateIcons:d.animateIcons,backText:d.backText,baseTheme:d.baseTheme,buttons:d.buttons,btnClass:d.btnClass,btnWidth:d.btnWidth,closeIcon:d.closeIcon,context:"body"==d.context?"body":"",controls:d.controls,cssClass:d.cssClass,dateDisplay:d.dateDisplay,dateFormat:d.dateFormat,dateWheels:d.dateWheels,dayNames:d.dayNames,dayNamesShort:d.dayNamesShort,daySuffix:d.daySuffix,display:d.display,dayText:d.dayText,endYear:d.endYear,fixedHeader:d.fixedHeader,handleClass:d.handleClass,handleMarkup:d.handleMarkup,hideText:d.hideText,hourText:d.hourText,itemNode:d.itemNode,itemWidth:d.itemWidth,lang:d.lang,lapIcon:d.lapIcon,lapText:d.lapText,layout:d.layout,leftArrowClass:d.leftArrowClass,max:d.max,min:d.min,minuteText:d.minuteText,monthNames:d.monthNames,monthNamesShort:d.monthNamesShort,monthSuffix:d.monthSuffix,monthText:d.monthText,nowIcon:d.nowIcon,nowText:d.nowText,pmText:d.pmText,preset:d.preset,resetIcon:d.resetIcon,resetText:d.resetText,rightArrowClass:d.rightArrowClass,rtl:d.rtl,secText:d.secText,select:d.select,snap:d.snap,sort:d.sort,sortable:d.sortable,sortHandle:d.sortHandle,startIcon:d.startIcon,startText:d.startText,startYear:d.startYear,stepHour:d.stepHour,stepMinute:d.stepMinute,stepSecond:d.stepSecond,steps:d.steps,stopIcon:d.stopIcon,stopText:d.stopText,striped:d.striped,theme:d.theme,timeFormat:d.timeFormat,timeWheels:d.timeWheels,todayText:d.todayText,type:d.type,variant:d.variant,wrapperClass:d.wrapperClass,yearSuffix:d.yearSuffix,yearText:d.yearText}},g=[],y={},x=["refresh","redraw","navigate","showMonthView","changeTab","addValue","removeValue","getDate","setDate","addEvent","removeEvent","getEvents","setEvents","setActiveDate","start","stop","reset","lap","resetlap","getTime","setTime","getEllapsedTime","setEllapsedTime"],w={jsonp:1,getInst:1,init:1,destroy:1},_=function(e){p[e]=function(){g.push({func:e,args:arguments})}};for(b in p)"function"!=typeof p[b]||w[b]||(y[b]=p[b],_(b));for(l=0;l<x.length;l++)_(x[l]);"timer"!=d.preset||t.buttons||(v.settings.buttons=["toggle","resetlap"],"inline"!==d.display&&v.settings.buttons.push("hide")),"eventcalendar"!=d.preset||t.buttons||"inline"==d.display||(v.settings.buttons=["close"]);for(b in y)p[b]=y[b];var i=r({},t);for(delete i.data,p._hasPreset&&(c=a.presets[p._class][d.preset])&&(c=c.call(e,p),r(d,c,i)),p._init(n),h("onInit"),l=0;l<g.length;l++)p[g[l].func].apply(p,g[l].args);g=null,y=null}},p.destroy=function(){p&&(p._destroy(),h("onDestroy"),delete i[e.id],p=null)},p.tap=function(e,t,a,s,n){v(p,e,t,a,s,n)},p.trigger=function(a,s){var n,i,r,l=[f,u,c,t];for(i=0;i<4;i++)(r=l[i])&&r[a]&&(n=r[a].call(e,s||{},p));return n},p.option=function(e,t){var a={};"object"===(void 0===e?"undefined":ie(e))?a=e:a[e]=t,p.init(a)},p.getInst=function(){return p},p.zone={run:function(e){e()}},t=t||{},h=p.trigger,p.__ready||function(){s(e).addClass("mbsc-comp"),e.id?i[e.id]&&i[e.id].destroy():e.id="mobiscroll"+ ++n,i[e.id]=p,p.__ready=!0}()},_e&&s(function(){(document.cookie.replace(/(?:(?:^|.*;\s*)mobiscrollClientError\s*\=\s*([^;]*).*$)|^.*$/,"$1")||/mobiscrollClientError/.test(window.name||""))&&e()})}();var Ve,Ae,Ee,Ie,Le=ne.$,Oe=Le.extend;_e&&(Ae=document.createElement("modernizr").style,Ee=function(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(y([t[e]+"Transform"]))return"-"+t[e].toLowerCase()+"-";return""}(),Ie=Ee.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz"),Ve=void 0!==Ae.animation?"animationend":"webkitAnimationEnd");var Ye,He,Ne=ne.classes,Fe=ne.themes,Pe=/(iphone|ipod)/i.test(Ce)&&ye>=7,We="android"==ve,$e="ios"==ve,je=$e&&8==ye,Re=$e&&ye>7,qe=function(e){e.preventDefault()},Xe=function(e,t,a){function s(e){A&&A.removeClass("mbsc-fr-btn-a"),A=Le(this),A.hasClass("mbsc-fr-btn-d")||A.hasClass("mbsc-fr-btn-nhl")||A.addClass("mbsc-fr-btn-a"),"mousedown"===e.type?Le(document).on("mouseup",n):"pointerdown"===e.type&&Le(document).on("pointerup",n)}function n(e){
A&&(A.removeClass("mbsc-fr-btn-a"),A=null),"mouseup"===e.type?Le(document).off("mouseup",n):"pointerup"===e.type&&Le(document).off("pointerup",n)}function i(e){13==e.keyCode?Q.select():27==e.keyCode&&Q.cancel()}function r(e){e||We||$.focus(),Q.ariaMessage(X.ariaMessage)}function o(e){var t=Ye,a=X.focusOnClose;Q._markupRemove(),C.remove(),O&&(E.mbscModals--,X.scrollLock&&E.mbscLock--,E.mbscLock||_.removeClass("mbsc-fr-lock"),E.mbscModals||(_.removeClass("mbsc-fr-lock-ios mbsc-fr-lock-ctx"),W&&(x.css({top:"",left:""}),D.scrollLeft(U),D.scrollTop(z)),e||(t||(t=ee),setTimeout(function(){void 0===a||!0===a?(He=!0,t[0].focus()):a&&Le(a)[0].focus()},200)))),Q._isVisible=!1,Y=!1,G("onHide")}function c(e){clearTimeout(ae[e.type]),ae[e.type]=setTimeout(function(){var t="scroll"==e.type;t&&!B||(Q.position(!t),"orientationchange"==e.type&&(j.style.display="none",j.offsetHeight,j.style.display=""))},200)}function d(e){e.target.nodeType&&!$.contains(e.target)&&$.focus()}function h(e,t){e&&e(),!1!==Q.show()&&(Ye=t)}function f(){Q._fillValue(),G("onSet",{valueText:Q._value})}function v(){G("onCancel",{valueText:Q._value})}function g(){Q.setVal(null,!0)}var y,x,w,_,C,T,M,k,D,S,V,A,E,I,L,O,Y,H,N,F,P,W,$,j,R,q,X,U,B,z,K,G,Z,J,Q=this,ee=Le(e),te=[],ae={};Se.call(this,e,t,!0),Q.position=function(e){var t,a,s,n,i,r,l,o,c,d,u,h,f,p,b,v,g={},y=0,w=0,_=0,T=0;!q&&Y&&(Q._position(C),h=H.offsetHeight,f=H.offsetWidth,Z===f&&J===h&&e||(Q._isFullScreen||/top|bottom/.test(X.display)?k.width(f):S.width(""),!1!==G("onPosition",{target:H,windowWidth:f,windowHeight:h})&&O&&(Le(".mbsc-comp",C).each(function(){var e=ne.instances[this.id];e&&e!==Q&&e.position&&e.position()}),!Q._isFullScreen&&/center|bubble/.test(X.display)&&(Le(".mbsc-w-p",C).each(function(){p=this.getBoundingClientRect().width,T+=p,_=p>_?p:_}),S.css({width:Q._isLiquid?Math.min(X.maxPopupWidth,f-16):Math.ceil(T>f?_:T),"white-space":T>f?"":"nowrap"})),N=j.offsetWidth,F=j.offsetHeight,B=F<=h&&N<=f,P&&(y=D.scrollLeft(),w=D.scrollTop()),"center"==X.display?(v=Math.max(0,y+(f-N)/2),b=Math.max(0,w+(h-F)/2)):"bubble"==X.display?(t=void 0===X.anchor?ee:Le(X.anchor),l=Le(".mbsc-fr-arr-i",C)[0],n=t.offset(),i=n.top+(L?w-x.offset().top:0),r=n.left+(L?y-x.offset().left:0),a=t[0].offsetWidth,s=t[0].offsetHeight,o=l.offsetWidth,c=l.offsetHeight,v=m(r-(N-a)/2,y+8,y+f-N-8),b=i-F-c/2,b<w||i>w+h?(k.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),b=i+s+c/2):k.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),Le(".mbsc-fr-arr",C).css({left:m(r+a/2-(v+(N-o)/2),0,o)}),B=b>w&&v>y&&b+F<=w+h&&v+N<=y+f):(v=y,b="top"==X.display?w:Math.max(0,w+h-F)),P&&(d=Math.max(b+F,L?E.scrollHeight:Le(document).height()),u=Math.max(v+N,L?E.scrollWidth:Le(document).width()),M.css({width:u,height:d}),X.scroll&&"bubble"==X.display&&(b+F+8>w+h||i>w+h||i+s<w)&&(q=!0,setTimeout(function(){q=!1},300),D.scrollTop(Math.min(i,b+F-h+8,d-h)))),g.top=Math.floor(b),g.left=Math.floor(v),k.css(g),Z=f,J=h)))},Q.attachShow=function(e,t){var a,s=Le(e),n=s.prop("readonly");if("inline"!==X.display){if((X.showOnFocus||X.showOnTap)&&s.is("input,select")&&(s.prop("readonly",!0).on("mousedown.mbsc",function(e){e.preventDefault()}).on("focus.mbsc",function(){Q._isVisible&&this.blur()}),a=Le('label[for="'+s.attr("id")+'"]'),a.length||(a=s.closest("label"))),s.is("select"))return;X.showOnFocus&&s.on("focus.mbsc",function(){He?He=!1:h(t,s)}),X.showOnTap&&(s.on("keydown.mbsc",function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),e.stopPropagation(),h(t,s))}),Q.tap(s,function(){h(t,s)}),a&&a.length&&Q.tap(a,function(){h(t,s)})),te.push({readOnly:n,el:s,lbl:a})}},Q.select=function(){O?Q.hide(!1,"set",!1,f):f()},Q.cancel=function(){O?Q.hide(!1,"cancel",!1,v):v()},Q.clear=function(){Q._clearValue(),G("onClear"),O&&Q._isVisible&&!Q.live?Q.hide(!1,"clear",!1,g):g()},Q.enable=function(){X.disabled=!1,Q._isInput&&ee.prop("disabled",!1)},Q.disable=function(){X.disabled=!0,Q._isInput&&ee.prop("disabled",!0)},Q.gethtml=function(){var e="";return V.length>0&&(e+='<div class="mbsc-fr-btn-cont">',Le.each(V,function(t,a){a=u(a)?Q.buttons[a]:a,"set"===a.handler&&(a.parentClass="mbsc-fr-btn-s"),"cancel"===a.handler&&(a.parentClass="mbsc-fr-btn-c"),e+="<div"+(X.btnWidth?' style="width:'+100/V.length+'%"':"")+' class="mbsc-fr-btn-w '+(a.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+t+" mbsc-fr-btn-e "+(void 0===a.cssClass?X.btnClass:a.cssClass)+(a.icon?" mbsc-ic mbsc-ic-"+a.icon:"")+'">'+(a.text||"")+"</div></div>"}),e+="</div>"),e+="</div></div></div></div>"+(O?"</div></div>":"")},Q.show=function(e,t){function a(){C.off(Ve,a).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+I).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+I),r(t)}var l;if(!X.disabled&&!Q._isVisible){if(Q._readValue(),!1===G("onBeforeShow"))return!1;if(Ye=null,I=X.animate,V=X.buttons||[],P=L||"bubble"==X.display,W=Pe&&!P&&X.scrollLock,V.length,K=!1,!1!==I&&("top"==X.display?I=I||"slidedown":"bottom"==X.display?I=I||"slideup":"center"!=X.display&&"bubble"!=X.display||(I=I||"pop")),O&&(z=Math.max(0,D.scrollTop()),U=Math.max(0,D.scrollLeft()),Z=0,J=0,W&&!_.hasClass("mbsc-fr-lock-ios")&&x.css({top:-z+"px",left:-U+"px"}),_.addClass((X.scrollLock?"mbsc-fr-lock":"")+(W?" mbsc-fr-lock-ios":"")+(L?" mbsc-fr-lock-ctx":"")),Le(document.activeElement).is("input,textarea")&&document.activeElement.blur(),ne.activeInstance&&ne.activeInstance.hide(),ne.activeInstance=Q,E.mbscModals=E.mbscModals||0,E.mbscLock=E.mbscLock||0,E.mbscModals++,X.scrollLock&&E.mbscLock++),l='<div lang="'+X.lang+'" class="mbsc-fr mbsc-no-touch mbsc-'+X.theme+(X.baseTheme?" mbsc-"+X.baseTheme:"")+" mbsc-fr-"+X.display+" "+(X.cssClass||"")+" "+(X.compClass||"")+(Q._isLiquid?" mbsc-fr-liq":"")+(Re?" mbsc-fr-hb":"")+(V.length>0?V.length>=3?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(O?'<div class="mbsc-fr-persp"><div class="mbsc-fr-overlay"></div><div role="dialog" tabindex="-1" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(X.rtl?" mbsc-rtl":" mbsc-ltr")+(X.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===X.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+'<div class="mbsc-fr-w"><div aria-live="assertive" class="mbsc-fr-aria mbsc-fr-hdn"></div>'+(X.headerText?'<div class="mbsc-fr-hdr">'+(u(X.headerText)?X.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">',l+=Q._generateContent(),l+="</div>",l+=Q.gethtml(),C=Le(l),M=Le(".mbsc-fr-persp",C),T=Le(".mbsc-fr-scroll",C),S=Le(".mbsc-fr-w",C),w=Le(".mbsc-fr-hdr",C),k=Le(".mbsc-fr-popup",C),y=Le(".mbsc-fr-aria",C),H=C[0],$=T[0],j=k[0],Q._markup=C,Q._header=w,Q._isVisible=!0,R="orientationchange resize",Q._markupReady(C),G("onMarkupReady",{target:H}),O){if(Le(window).on("keydown",i),X.scrollLock&&C.on("touchmove mousewheel wheel",function(e){B&&e.preventDefault()}),X.focusTrap&&D.on("focusin",d),X.closeOnOverlayTap){var o,m,h,f;T.on("touchstart mousedown",function(e){m||e.target!=T[0]||(m=!0,o=!1,h=b(e,"X"),f=b(e,"Y"))}).on("touchmove mousemove",function(e){m&&!o&&(Math.abs(b(e,"X")-h)>9||Math.abs(b(e,"Y")-f)>9)&&(o=!0)}).on("touchcancel",function(){m=!1}).on("touchend touchcancel mouseup",function(e){m&&!o&&(Q.cancel(),"mouseup"!=e.type&&p()),m=!1})}P&&(R+=" scroll")}setTimeout(function(){if(O)C.appendTo(x);else if(ee.is("div")&&!Q._hasContent)ee.empty().append(C);else if(ee.hasClass("mbsc-control")){var i=ee.closest(".mbsc-control-w");C.insertAfter(i),i.hasClass("mbsc-select")&&i.addClass("mbsc-select-inline")}else C.insertAfter(ee);Y=!0,Q._markupInserted(C),G("onMarkupInserted",{target:H}),C.on("selectstart mousedown",qe).on("click",".mbsc-fr-btn-e",qe).on("keydown",".mbsc-fr-btn-e",function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.click())}).on("keydown",function(e){if(32==e.keyCode)e.preventDefault();else if(9==e.keyCode&&O&&X.focusTrap){var t=C.find('[tabindex="0"]').filter(function(){return this.offsetWidth>0||this.offsetHeight>0}),a=t.index(Le(":focus",C)),s=t.length-1,n=0;e.shiftKey&&(s=0,n=-1),a===s&&(t.eq(n)[0].focus(),e.preventDefault())}}).on("touchstart mousedown pointerdown",".mbsc-fr-btn-e",s).on("touchend",".mbsc-fr-btn-e",n),Le("input,select,textarea",C).on("selectstart mousedown",function(e){e.stopPropagation()}).on("keydown",function(e){32==e.keyCode&&e.stopPropagation()}),H.addEventListener("touchstart",function(){K||(K=!0,x.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},!0),Le.each(V,function(e,t){Q.tap(Le(".mbsc-fr-btn"+e,C),function(e){t=u(t)?Q.buttons[t]:t,(u(t.handler)?Q.handlers[t.handler]:t.handler).call(this,e,Q)},!0)}),Q._attachEvents(C),Q.position(),D.on(R,c),O&&(I&&!e?C.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+I).on(Ve,a).find(".mbsc-fr-popup").addClass("mbsc-anim-"+I):r(t)),G("onShow",{target:H,valueText:Q._tempValue})},W?100:0)}},Q.hide=function(e,t,a,s){function n(){C.off(Ve,n),o(e)}if(!Q._isVisible||!a&&!Q._isValid&&"set"==t||!a&&!1===G("onBeforeClose",{valueText:Q._tempValue,button:t}))return!1;O&&(Le(document.activeElement).is("input,textarea")&&j.contains(document.activeElement)&&document.activeElement.blur(),Le(window).off("keydown",i),delete ne.activeInstance),C&&(O&&I&&!e?C.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+I).on(Ve,n).find(".mbsc-fr-popup").addClass("mbsc-anim-"+I):o(e),Q._detachEvents(C),D.off(R,c).off("focusin",d)),s&&s(),ee.trigger("blur"),G("onClose",{valueText:Q._value})},Q.ariaMessage=function(e){y.html(""),setTimeout(function(){y.html(e)},100)},Q.isVisible=function(){return Q._isVisible},Q.setVal=l,Q.getVal=l,Q._generateContent=l,Q._attachEvents=l,Q._detachEvents=l,Q._readValue=l,Q._clearValue=l,Q._fillValue=l,Q._markupReady=l,Q._markupInserted=l,Q._markupRemove=l,Q._position=l,Q.__processSettings=l,Q.__init=l,Q.__destroy=l,Q._destroy=function(){Q.hide(!0,!1,!0),ee.off(".mbsc"),Le.each(te,function(e,t){t.el.off(".mbsc").prop("readonly",t.readOnly),t.lbl&&t.lbl.off(".mbsc")}),Q.__destroy()},Q._processSettings=function(){var e,t;for(Q.__processSettings(),X.buttons=X.buttons||("inline"!==X.display?["set","cancel"]:[]),X.headerText=void 0===X.headerText?"inline"!==X.display&&"{value}":X.headerText,V=X.buttons||[],O="inline"!==X.display,L="body"!=X.context,x=Le(X.context),_=L?x:Le("body,html"),E=x[0],Q._window=D=Le(L?X.context:window),Q.live=!0,t=0;t<V.length;t++)"ok"!=(e=V[t])&&"set"!=e&&"set"!=e.handler||(Q.live=!1);Q.buttons.set={text:X.setText,icon:X.setIcon,handler:"set"},Q.buttons.cancel={text:X.cancelText,icon:X.cancelIcon,handler:"cancel"},Q.buttons.close={text:X.closeText,icon:X.closeIcon,handler:"cancel"},Q.buttons.clear={text:X.clearText,icon:X.clearIcon,handler:"clear"},Q._isInput=ee.is("input")},Q._init=function(){Q._isVisible&&Q.hide(!0,!1,!0),ee.off(".mbsc"),Q.__init(),Q._isLiquid="liquid"==X.layout,O?(Q._readValue(),Q._hasContent||Q.attachShow(ee)):Q.show(),ee.on("change.mbsc",function(){Q._preventChange||Q.setVal(ee.val(),!0,!1),Q._preventChange=!1})},Q.buttons={},Q.handlers={set:Q.select,cancel:Q.cancel,clear:Q.clear},Q._value=null,Q._isValid=!0,Q._isVisible=!1,X=Q.settings,G=Q.trigger,a||Q.init(t)};Xe.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:We||$e,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,tap:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!je},Ne.Frame=Xe,Fe.frame.mobiscroll={headerText:!1,btnWidth:!1},Fe.scroller.mobiscroll=Oe({},Fe.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),_e&&Le(window).on("focus",function(){Ye&&(He=!0)});var Ue=ne.classes,Be="ios"==ve,ze=function(e,t,a){function s(e){G("onStart",{domEvent:e}),ae.stopProp&&e.stopPropagation(),(ae.prevDef||"mousedown"==e.type)&&e.preventDefault(),ae.readonly||ae.lock&&L||x(e,this)&&!I&&ne.dtdDV&&(h&&h.removeClass("mbsc-btn-a"),S=!1,L||(h=Le(e.target).closest(".mbsc-btn-e",this),h.length&&!h.hasClass("mbsc-btn-d")&&(S=!0,f=setTimeout(function(){h.addClass("mbsc-btn-a")},100))),I=!0,N=!1,O=!1,Q.scrolled=L,q=b(e,"X"),X=b(e,"Y"),M=q,v=0,g=0,y=0,R=new Date,j=+w(B,Z)||0,L&&c(j,Be?0:1),"mousedown"===e.type&&Le(document).on("mousemove",n).on("mouseup",r))}function n(e){I&&(ae.stopProp&&e.stopPropagation(),M=b(e,"X"),k=b(e,"Y"),v=M-q,g=k-X,y=Z?g:v,S&&(Math.abs(g)>ae.thresholdY||Math.abs(v)>ae.thresholdX)&&(clearTimeout(f),h.removeClass("mbsc-btn-a"),S=!1),(Q.scrolled||!O&&Math.abs(y)>K)&&(N||G("onGestureStart",D),Q.scrolled=N=!0,H||(H=!0,Y=Me(i))),Z||ae.scrollLock?e.preventDefault():Q.scrolled?e.preventDefault():Math.abs(g)>7&&(O=!0,Q.scrolled=!0,se.trigger("touchend")))}function i(){A&&(y=m(y,-W*A,W*A)),c(m(j+y,E-T,V+T)),H=!1}function r(e){if(I){var t,a=new Date-R;ae.stopProp&&e.stopPropagation(),ke(Y),H=!1,!O&&Q.scrolled&&(ae.momentum&&a<300&&(t=y/a,y=Math.max(Math.abs(y),t*t/ae.speedUnit)*(y<0?-1:1)),o(y)),S&&(clearTimeout(f),h.addClass("mbsc-btn-a"),setTimeout(function(){h.removeClass("mbsc-btn-a")},100),O||Q.scrolled||G("onBtnTap",{target:h[0]})),"mouseup"==e.type&&Le(document).off("mousemove",n).off("mouseup",r),I=!1}}function l(e){if(e=e.originalEvent||e,y=Z?e.deltaY||e.wheelDelta||e.detail:e.deltaX,G("onStart",{domEvent:e}),ae.stopProp&&e.stopPropagation(),y&&ne.dtdDV){if(e.preventDefault(),e.deltaMode&&1==e.deltaMode&&(y*=5),y=m(-y,-20,20),j=J,ae.readonly||j+y<E||j+y>V)return;N||(D={posX:Z?0:J,posY:Z?J:0,originX:Z?0:j,originY:Z?j:0,direction:y>0?Z?270:360:Z?90:180},G("onGestureStart",D)),H||(H=!0,Y=Me(i)),N=!0,clearTimeout(F),F=setTimeout(function(){ke(Y),H=!1,N=!1,o(y)},200)}}function o(e){var t,a,s;if(A&&(e=m(e,-W*A,W*A)),s=m(Math.round((j+e)/W)*W,E,V),ee=Math.round(s/W),$){if(e<0){for(t=$.length-1;t>=0;t--)if(Math.abs(s)+p>=$[t].breakpoint){ee=t,te=2,s=$[t].snap2;break}}else if(e>=0)for(t=0;t<$.length;t++)if(Math.abs(s)<=$[t].breakpoint){ee=t,te=1,s=$[t].snap1;break}s=m(s,E,V)}a=ae.time||(J<E||J>V?1e3:Math.max(1e3,Math.abs(s-J)*ae.timeUnit)),D.destinationX=Z?0:s,D.destinationY=Z?s:0,D.duration=a,D.transitionTiming=C,G("onGestureEnd",D),c(s,a)}function c(e,t,a,s){var n=e!=J,i=t>1,r=function(){clearInterval(P),clearTimeout(z),L=!1,J=e,D.posX=Z?0:e,D.posY=Z?e:0,n&&G("onMove",D),i&&G("onAnimationEnd",D),s&&s()};D={posX:Z?0:J,posY:Z?J:0,originX:Z?0:j,originY:Z?j:0,direction:e-J>0?Z?270:360:Z?90:180},J=e,i&&(D.destinationX=Z?0:e,D.destinationY=Z?e:0,D.duration=t,D.transitionTiming=C,G("onAnimationStart",D)),U[Ie+"Transition"]=t?Ee+"transform "+Math.round(t)+"ms "+C:"",U[Ie+"Transform"]="translate3d("+(Z?"0,"+e+"px,":e+"px,0,")+"0)",!n&&!L||!t||t<=1?r():t&&(L=!a,clearInterval(P),P=setInterval(function(){var t=+w(B,Z)||0;D.posX=Z?0:t,D.posY=Z?t:0,G("onMove",D),Math.abs(t-e)<2&&r()},100),clearTimeout(z),z=setTimeout(function(){r()},t)),ae.sync&&ae.sync(e,t,C)}var h,f,p,v,g,y,_,C,T,M,k,D,S,V,A,E,I,L,O,Y,H,N,F,P,W,$,j,R,q,X,U,B,z,K,G,Z,J,Q=this,ee=0,te=1,ae=t,se=Le(e);Se.call(this,e,t,!0),Q.scrolled=!1,Q.scroll=function(t,a,s,n){t=d(t)?Math.round(t/W)*W:Math.ceil((Le(t,e).length?Math.round(B.offset()[_]-Le(t,e).offset()[_]):J)/W)*W,t=m(t,E,V),ee=Math.round(t/W),j=J,c(t,a,s,n)},Q.refresh=function(e){var t;p=void 0===ae.contSize?Z?se.height():se.width():ae.contSize,E=void 0===ae.minScroll?Math.min(0,Z?p-B.height():p-B.width()):ae.minScroll,V=void 0===ae.maxScroll?0:ae.maxScroll,$=null,!Z&&ae.rtl&&(t=V,V=-E,E=-t),u(ae.snap)&&($=[],B.find(ae.snap).each(function(){var e=Z?this.offsetTop:this.offsetLeft,t=Z?this.offsetHeight:this.offsetWidth;$.push({breakpoint:e+t/2,snap1:-e,snap2:p-e-t})})),W=d(ae.snap)?ae.snap:1,A=ae.snap?ae.maxSnapScroll:0,C=ae.easing,T=ae.elastic?d(ae.snap)?W:d(ae.elastic)?ae.elastic:0:0,void 0===J&&(J=ae.initialPos,ee=Math.round(J/W)),e||Q.scroll(ae.snap?$?$[ee]["snap"+te]:ee*W:J)},Q._processSettings=function(){Z="Y"==ae.axis,_=Z?"top":"left",B=ae.moveElement||se.children().eq(0),U=B[0].style,K=Z?ae.thresholdY:ae.thresholdX},Q._init=function(){Q.refresh(),se.on("touchstart mousedown",s).on("touchmove",n).on("touchend touchcancel",r),ae.mousewheel&&se.on("wheel mousewheel",l),e.addEventListener&&e.addEventListener("click",function(e){Q.scrolled&&(Q.scrolled=!1,e.stopPropagation(),e.preventDefault())},!0)},Q._destroy=function(){clearInterval(P),se.off("touchstart mousedown",s).off("touchmove",n).off("touchend touchcancel",r).off("wheel mousewheel",l)},ae=Q.settings,G=Q.trigger,a||Q.init(t)};ze.prototype={_class:"scrollview",_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",thresholdX:10,thresholdY:5,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}},Ue.ScrollView=ze,ne.presetShort("scrollview","ScrollView",!1);var Ke=ne.themes;Ke.frame.ios={display:"bottom",headerText:!1,btnWidth:!1,deleteIcon:"ios-backspace",scroll3d:!0},Ke.scroller.ios=Oe({},Ke.frame.ios,{rows:5,height:34,minWidth:55,selectedLineHeight:!0,selectedLineBorder:1,showLabel:!1,useShortLabels:!0,btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",checkIcon:"ion-ios7-checkmark-empty",filterClearIcon:"ion-close-circled",dateDisplay:"MMdyy",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),Ke.listview.ios={leftArrowClass:"mbsc-ic-ion-ios7-arrow-back",rightArrowClass:"mbsc-ic-ion-ios7-arrow-forward"},Ke.form.ios={};var Ge=ne.themes;Ge.frame["android-holo"]={},Ge.scroller["android-holo"]=Oe({},Ge.frame["android-holo"],{dateDisplay:"Mddyy",rows:5,minWidth:76,height:36,showLabel:!1,selectedLineHeight:!0,selectedLineBorder:2,useShortLabels:!0,icon:{filled:"star3",empty:"star"},btnPlusClass:"mbsc-ic mbsc-ic-arrow-down6",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up6"}),Ge.form["android-holo"]={};var Ze,Je,Qe=ne.themes;Qe.frame.material={headerText:!1,btnWidth:!1,deleteIcon:"material-backspace",onMarkupReady:function(e){se(Le(e.target),".mbsc-fr-btn-e","mbsc-fr-btn-d","mbsc-fr-btn-nhl")}},Qe.scroller.material=Oe({},Qe.frame.material,{showLabel:!1,selectedLineBorder:2,weekDays:"min",icon:{filled:"material-star",empty:"material-star-outline"},checkIcon:"material-check",btnPlusClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-down",btnMinusClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-up",btnCalPrevClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-left",btnCalNextClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-right",onEventBubbleShow:function(e){var t=Le(e.eventList),a=Le(e.target).closest(".mbsc-cal-row").index()<2,s=Le(".mbsc-cal-event-color",t).eq(a?0:-1).css("background-color");Le(".mbsc-cal-events-arr",t).css("border-color",a?"transparent transparent "+s+" transparent":s+"transparent transparent transparent")}}),Qe.listview.material={leftArrowClass:"mbsc-ic-material-keyboard-arrow-left",rightArrowClass:"mbsc-ic-material-keyboard-arrow-right",onItemActivate:function(e){te(Le(e.target),e.domEvent)},onItemDeactivate:function(){ae(Je)},onSlideStart:function(e){Le(".mbsc-ripple",e.target).remove()},onSortStart:function(e){Le(".mbsc-ripple",e.target).remove()}},Qe.menustrip.material={onInit:function(){se(Le(this),".mbsc-ms-item.mbsc-btn-e","mbsc-btn-d","mbsc-btn-nhl")},onMarkupInit:function(){Le(".mbsc-ripple",this).remove()},onDestroy:function(){Le(this).off(".mbsc-ripple")}},Qe.form.material={addRipple:function(e,t){te(e,t)},removeRipple:function(){ae(Je)}};var et=(_e&&window.CSS,"ios"==ve&&ne.platform.majorVersion<8),tt=et||"wp"==ve||"android"==ve;ne.presetShort("scroller","Scroller",!1);var at=function(e,t,a){function s(e){var t=+Le(this).attr("data-index");e.stopPropagation(),"mousedown"===e.type&&e.preventDefault(),x(e,this)&&!w(t)&&(E=Le(this).addClass("mbsc-sc-btn-a"),W=b(e,"X"),$=b(e,"Y"),F=!0,P=!1,setTimeout(function(){v(t,"inc"==E.attr("data-dir")?1:-1)},100),"mousedown"===e.type&&Le(document).on("mousemove",n).on("mouseup",i))}function n(e){(Math.abs(W-b(e,"X"))>7||Math.abs($-b(e,"Y"))>7)&&g(!0)}function i(e){g(),e.preventDefault(),"mouseup"===e.type&&Le(document).off("mousemove",n).off("mouseup",i)}function r(e){var t,a,s=Le(this).attr("data-index");38==e.keyCode?(t=!0,a=-1):40==e.keyCode?(t=!0,a=1):32==e.keyCode&&(t=!0,c(s,K[s]._$markup.find('.mbsc-sc-itm[data-val="'+j[s]+'"]'))),t&&(e.stopPropagation(),e.preventDefault(),a&&!F&&(F=!0,P=!1,v(s,a)))}function l(){g()}function c(e,t){var a=K[e],s=t.attr("data-index"),n=p(a,s),i=Q._tempSelected[e],r=d(a.multiple)?a.multiple:1/0;!1!==B("onItemTap",{target:t[0],index:e,value:n,selected:t.hasClass("mbsc-sc-itm-sel")})&&(a.multiple&&!a._disabled[n]&&(void 0!==i[n]?(t.removeClass(Y).removeAttr("aria-selected"),delete i[n]):(1==r&&(Q._tempSelected[e]=i={},a._$markup.find(".mbsc-sc-itm-sel").removeClass(Y).removeAttr("aria-selected")),o(i).length<r&&(t.addClass(Y).attr("aria-selected","true"),i[n]=n))),S(a,e,s,J,!0,!0,a.multiple),!Q.live||a.multiple||!0!==U.setOnTap&&!U.setOnTap[e]||setTimeout(function(){Q.select()},200))}function u(e,t){return(e._array?e._map[t]:e.getIndex(t,Q))||0}function m(e,t){var a=e.data;if(t>=e.min&&t<=e.max)return e._array?e.circular?Le(a).get(t%e._length):a[t]:Le.isFunction(a)?a(t,Q):""}function h(e){return Le.isPlainObject(e)?void 0!==e.value?e.value:e.display:e}function f(e){var t=Le.isPlainObject(e)?e.display:e;return void 0===t?"":t}function p(e,t){return h(m(e,t))}function v(e,t){P||y(e,t),F&&ne.dtdDV&&(clearInterval(N),N=setInterval(function(){y(e,t)},U.delay))}function g(e){clearInterval(N),P=e,F=!1,E&&E.removeClass("mbsc-sc-btn-a")}function y(e,t){var a=K[e];S(a,e,a._current+t,J,1==t?1:2)}function w(e){return Le.isArray(U.readonly)?U.readonly[e]:U.readonly}function _(e,t,a){var s=e._index-e._batch;return e.data=e.data||[],e.key=void 0!==e.key?e.key:t,e.label=void 0!==e.label?e.label:t,e._map={},e._array=Le.isArray(e.data),e._array&&(e._length=e.data.length,Le.each(e.data,function(t,a){e._map[h(a)]=t})),e.circular=void 0===U.circular?void 0===e.circular?e._array&&e._length>U.rows:e.circular:Le.isArray(U.circular)?U.circular[t]:U.circular,e.min=e._array?e.circular?-1/0:0:void 0===e.min?-1/0:e.min,e.max=e._array?e.circular?1/0:e._length-1:void 0===e.max?1/0:e.max,e._nr=t,e._index=u(e,j[t]),e._disabled={},e._batch=0,e._current=e._index,e._first=e._index-Z,e._last=e._index+Z,e._offset=e._first,a?(e._offset-=e._margin/R+(e._index-s),e._margin+=(e._index-s)*R):e._margin=0,e._refresh=function(t){var a=-(e.min-e._offset+(e.multiple&&!O?Math.floor(U.rows/2):0))*R,s=Math.min(a,-(e.max-e._offset-(e.multiple&&!O?Math.floor(U.rows/2):0))*R);Oe(e._scroller.settings,{minScroll:s,maxScroll:a}),e._scroller.refresh(t)},G[e.key]=e,e}function C(e,t,a,s,n){var i,r,l,o,c,d,u,p,b="",v=Q._tempSelected[t],g=e._disabled||{};for(i=a;i<=s;i++)l=m(e,i),c=f(l),o=h(l),r=l&&void 0!==l.cssClass?l.cssClass:"",d=l&&void 0!==l.label?l.label:"",u=l&&l.invalid,p=void 0!==o&&o==j[t]&&!e.multiple,b+='<div role="option" aria-selected="'+!!v[o]+'" class="mbsc-sc-itm '+(n?"mbsc-sc-itm-3d ":"")+r+" "+(p?"mbsc-sc-itm-sel ":"")+(v[o]?Y:"")+(void 0===o?" mbsc-sc-itm-ph":" mbsc-btn-e")+(u?" mbsc-sc-itm-inv-h mbsc-btn-d":"")+(g[o]?" mbsc-sc-itm-inv mbsc-btn-d":"")+'" data-index="'+i+'" data-val="'+o+'"'+(d?' aria-label="'+d+'"':"")+(p?' aria-selected="true"':"")+' style="height:'+R+"px;line-height:"+R+"px;"+(n?Ee+"transform:rotateX("+(e._offset-i)*L%360+"deg) translateZ("+R*U.rows/2+"px);":"")+'">'+(z>1?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(R/z)+"px;font-size:"+Math.round(R/z*.8)+'px;">':"")+c+(z>1?"</div>":"")+"</div>";return b}function T(t){var a=U.headerText;return a?"function"==typeof a?a.call(e,t):a.replace(/\{value\}/i,t):""}function M(e,t,a){var s=Math.round(-a/R)+e._offset,n=s-e._current,i=e._first,r=e._last,l=i+Z-I+1,o=r-Z+I;n&&(e._first+=n,e._last+=n,e._current=s,n>0?(e._$scroller.append(C(e,t,Math.max(r+1,i+n),r+n)),Le(".mbsc-sc-itm",e._$scroller).slice(0,Math.min(n,r-i+1)).remove(),O&&(e._$3d.append(C(e,t,Math.max(o+1,l+n),o+n,!0)),Le(".mbsc-sc-itm",e._$3d).slice(0,Math.min(n,o-l+1)).attr("class","mbsc-sc-itm-del"))):n<0&&(e._$scroller.prepend(C(e,t,i+n,Math.min(i-1,r+n))),Le(".mbsc-sc-itm",e._$scroller).slice(Math.max(n,i-r-1)).remove(),O&&(e._$3d.prepend(C(e,t,l+n,Math.min(l-1,o+n),!0)),Le(".mbsc-sc-itm",e._$3d).slice(Math.max(n,l-o-1)).attr("class","mbsc-sc-itm-del"))),e._margin+=n*R,e._$scroller.css("margin-top",e._margin+"px"))}function k(e,t,a,s){var n,i=K[e],r=s||i._disabled,l=u(i,t),o=t,c=t,d=0,m=0;if(void 0===t&&(t=p(i,l)),!0===r[t]){for(n=0;l-d>=i.min&&r[o]&&n<100;)n++,d++,o=p(i,l-d);for(n=0;l+m<i.max&&r[c]&&n<100;)n++,m++,c=p(i,l+m);t=(m<d&&m&&2!==a||!d||l-d<0||1==a)&&!r[c]?c:o}return t}function D(t,a,s,n,i,r){var l,o,c,d,m=Q._isVisible;X=!0,d=U.validate.call(e,{values:j.slice(0),index:a,direction:s},Q)||{},X=!1,d.valid&&(Q._tempWheelArray=j=d.valid.slice(0)),r||Le.each(K,function(e,n){if(m&&n._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-btn-d"),n._disabled={},d.disabled&&d.disabled[e]&&Le.each(d.disabled[e],function(e,t){n._disabled[t]=!0,m&&n._$markup.find('.mbsc-sc-itm[data-val="'+t+'"]').addClass("mbsc-sc-itm-inv mbsc-btn-d")}),j[e]=n.multiple?j[e]:k(e,j[e],s),m){if(n.multiple&&void 0!==a||n._$markup.find(".mbsc-sc-itm-sel").removeClass(Y).removeAttr("aria-selected"),n.multiple){if(void 0===a)for(var r in Q._tempSelected[e])n._$markup.find('.mbsc-sc-itm[data-val="'+r+'"]').addClass(Y).attr("aria-selected","true")}else n._$markup.find('.mbsc-sc-itm[data-val="'+j[e]+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");o=u(n,j[e]),l=o-n._index+n._batch,Math.abs(l)>2*Z+1&&(c=l+(2*Z+1)*(l>0?-1:1),n._offset+=c,n._margin-=c*R,n._refresh()),n._index=o+n._batch,n._scroller.scroll(-(o-n._offset+n._batch)*R,a===e||void 0===a?t:J,i)}}),B("onValidated"),Q._tempValue=U.formatValue(j,Q),m&&Q._header.html(T(Q._tempValue)),Q.live&&(Q._hasValue=n||Q._hasValue,V(n,n,0,!0),n&&B("onSet",{valueText:Q._value})),n&&B("onChange",{valueText:Q._tempValue})}function S(e,t,a,s,n,i,r){var l=p(e,a);void 0!==l&&(j[t]=l,e._batch=e._array?Math.floor(a/e._length)*e._length:0,setTimeout(function(){D(s,t,n,!0,i,r)},10))}function V(e,t,a,s,n){if(s?Q._tempValue=U.formatValue(Q._tempWheelArray,Q):D(a),!n){Q._wheelArray=[];for(var i=0;i<j.length;i++)Q._wheelArray[i]=K[i]&&K[i].multiple?Object.keys(Q._tempSelected[i])[0]:j[i];Q._value=Q._hasValue?Q._tempValue:null,Q._selected=Oe(!0,{},Q._tempSelected)}e&&(Q._isInput&&ee.val(Q._hasValue?Q._tempValue:""),B("onFill",{valueText:Q._hasValue?Q._tempValue:"",change:t}),t&&(Q._preventChange=!0,ee.trigger("change")))}var A,E,I,L,O,Y,H,N,F,P,W,$,j,R,q,X,U,B,z,K,G,Z=40,J=1e3,Q=this,ee=Le(e);Xe.call(this,e,t,!0),Q.setVal=Q._setVal=function(t,a,s,n,i){Q._hasValue=null!==t&&void 0!==t,Q._tempWheelArray=j=Le.isArray(t)?t.slice(0):U.parseValue.call(e,t,Q)||[],V(a,void 0===s?a:s,i,!1,n)},Q.getVal=Q._getVal=function(e){var t=Q._hasValue||e?Q[e?"_tempValue":"_value"]:null;return d(t)?+t:t},Q.setArrayVal=Q.setVal,Q.getArrayVal=function(e){return e?Q._tempWheelArray:Q._wheelArray},Q.changeWheel=function(e,t,a){var s,n;Le.each(e,function(e,t){(n=G[e])&&(s=n._nr,Oe(n,t),_(n,s,!0),Q._isVisible&&(O&&n._$3d.html(C(n,s,n._first+Z-I+1,n._last-Z+I,!0)),n._$scroller.html(C(n,s,n._first,n._last)).css("margin-top",n._margin+"px"),n._refresh(X)))}),!Q._isVisible||Q._isLiquid||X||Q.position(),X||D(t,void 0,void 0,a)},Q.getValidValue=k,Q._generateContent=function(){var e,t=0,a="",s=O?Ee+"transform: translateZ("+(R*U.rows/2+3)+"px);":"",n='<div class="mbsc-sc-whl-l" style="'+s+"height:"+R+"px;margin-top:-"+(R/2+(U.selectedLineBorder||0))+'px;"></div>',i=0;return Le.each(U.wheels,function(r,l){a+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+(O?" mbsc-sc-whl-gr-3d-c":"")+(U.showLabel?" mbsc-sc-lbl-v":"")+'">'+n+'<div class="mbsc-sc-whl-gr'+(O?" mbsc-sc-whl-gr-3d":"")+(H?" mbsc-sc-cp":"")+(U.width||U.maxWidth?'"':'" style="max-width:'+U.maxPopupWidth+'px;"')+">",Le.each(l,function(r,l){Q._tempSelected[i]=Oe({},Q._selected[i]),K[i]=_(l,i),t+=U.maxWidth?U.maxWidth[i]||U.maxWidth:U.width?U.width[i]||U.width:0,e=void 0!==l.label?l.label:r,a+='<div class="mbsc-sc-whl-w '+(l.cssClass||"")+(l.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(U.width?"width:"+(U.width[i]||U.width)+"px;":(U.minWidth?"min-width:"+(U.minWidth[i]||U.minWidth)+"px;":"")+(U.maxWidth?"max-width:"+(U.maxWidth[i]||U.maxWidth)+"px;":""))+'"><div class="mbsc-sc-whl-o" style="'+s+'"></div>'+n+'<div tabindex="0" aria-live="off" aria-label="'+e+'"'+(l.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+i+'" class="mbsc-sc-whl" style="height:'+U.rows*R*(O?1.1:1)+'px;">'+(H?'<div data-index="'+i+'" data-dir="inc" class="mbsc-sc-btn mbsc-sc-btn-plus '+(U.btnPlusClass||"")+'" style="height:'+R+"px;line-height:"+R+'px;"></div><div data-index="'+i+'" data-dir="dec" class="mbsc-sc-btn mbsc-sc-btn-minus '+(U.btnMinusClass||"")+'" style="height:'+R+"px;line-height:"+R+'px;"></div>':"")+'<div class="mbsc-sc-lbl">'+e+'</div><div class="mbsc-sc-whl-c" style="height:'+q+"px;margin-top:-"+(q/2+1)+"px;"+s+'"><div class="mbsc-sc-whl-sc" style="top:'+(q-R)/2+'px;">',a+=C(l,i,l._first,l._last)+"</div></div>",O&&(a+='<div class="mbsc-sc-whl-3d" style="height:'+R+"px;margin-top:-"+R/2+'px;">',a+=C(l,i,l._first+Z-I+1,l._last-Z+I,!0),a+="</div>"),a+="</div></div>",i++}),a+="</div></div>"}),t&&(U.maxPopupWidth=t),a},Q._attachEvents=function(e){Le(".mbsc-sc-btn",e).on("touchstart mousedown",s).on("touchmove",n).on("touchend touchcancel",i),Le(".mbsc-sc-whl",e).on("keydown",r).on("keyup",l)},Q._detachEvents=function(){for(var e=0;e<K.length;e++)K[e]._scroller.destroy()},Q._markupReady=function(e){A=e,Le(".mbsc-sc-whl-w",A).each(function(e){var t,a=Le(this),s=K[e],n=-(s.min-s._offset+(s.multiple&&!O?Math.floor(U.rows/2):0))*R,i=Math.min(n,-(s.max-s._offset-(s.multiple&&!O?Math.floor(U.rows/2):0))*R);s._$markup=a,s._$scroller=Le(".mbsc-sc-whl-sc",this),s._$3d=Le(".mbsc-sc-whl-3d",this),s._scroller=new ze(this,{mousewheel:U.mousewheel,moveElement:s._$scroller,initialPos:(s._first-s._index)*R,contSize:0,snap:R,minScroll:i,maxScroll:n,maxSnapScroll:Z,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(e,t,a){O&&(s._$3d[0].style[Ie+"Transition"]=t?Ee+"transform "+Math.round(t)+"ms "+a:"",s._$3d[0].style[Ie+"Transform"]="rotateX("+-e/R*L+"deg)")},onStart:function(t,a){a.settings.readonly=w(e)},onGestureStart:function(){a.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),B("onWheelGestureStart",{index:e})},onGestureEnd:function(a){var n=90==a.direction?1:2,i=a.duration,r=a.destinationY;t=Math.round(-r/R)+s._offset,S(s,e,t,i,n)},onAnimationStart:function(){a.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){a.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),B("onWheelAnimationEnd",{index:e}),s._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(t){M(s,e,t.posY)},onBtnTap:function(t){c(e,Le(t.target))}})}),D()},Q._fillValue=function(){Q._hasValue=!0,V(!0,!0,0,!0)},Q._clearValue=function(){Le(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",A).removeClass(Y).removeAttr("aria-selected")},Q._readValue=function(){var t=ee.val()||"",a=0;""!==t&&(Q._hasValue=!0),Q._tempWheelArray=j=Q._hasValue&&Q._wheelArray?Q._wheelArray.slice(0):U.parseValue.call(e,t,Q)||[],Q._tempSelected=Oe(!0,{},Q._selected),Le.each(U.wheels,function(e,t){Le.each(t,function(e,t){K[a]=_(t,a),a++})}),V(!1,!1,0,!0),B("onRead")},Q.__processSettings=function(){U=Q.settings,B=Q.trigger,z=U.multiline,Y="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+U.checkIcon,K=[],G={}},Q.__init=function(){H=U.showScrollArrows,O=U.scroll3d&&!tt&&!H,R=U.height,q=O?2*Math.round((R-.03*(R*U.rows/2+3))/2):R,I=Math.round(1.8*U.rows),L=360/(2*I),H&&(U.rows=Math.max(3,U.rows)),U.cssClass=(U.cssClass||"")+" mbsc-sc"},Q._getItemValue=h,Q._tempSelected={},Q._selected={},a||Q.init(t)};at.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_hasPreset:!0,_class:"scroller",_defaults:Oe({},Xe.prototype._defaults,{minWidth:80,
height:40,rows:3,multiline:1,delay:300,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",validate:function(){},formatValue:function(e){return e.join(" ")},parseValue:function(e,t){var a,s,n=[],i=[],r=0;return null!==e&&void 0!==e&&(n=(e+"").split(" ")),Le.each(t.settings.wheels,function(e,l){Le.each(l,function(e,l){s=l.data,a=t._getItemValue(s[0]),Le.each(s,function(e,s){if(n[r]==t._getItemValue(s))return a=t._getItemValue(s),!1}),i.push(a),r++})}),i}})},ne.classes.Scroller=at;var st={defaults:{shortYearCutoff:"+10",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],amText:"am",pmText:"pm",getYear:function(e){return e.getFullYear()},getMonth:function(e){return e.getMonth()},getDay:function(e){return e.getDate()},getDate:_,getMaxDayOfMonth:function(e,t){return 32-new Date(e,t,32,12).getDate()},getWeekNumber:function(e){e=new Date(e),e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)}},adjustedDate:_,formatDate:function(e,t,a){if(!t)return null;var s,n,i=Oe({},st.defaults,a),r=function(t){for(var a=0;s+1<e.length&&e.charAt(s+1)==t;)a++,s++;return a},l=function(e,t,a){var s=""+t;if(r(e))for(;s.length<a;)s="0"+s;return s},o=function(e,t,a,s){return r(e)?s[t]:a[t]},c="",d=!1;for(s=0;s<e.length;s++)if(d)"'"!=e.charAt(s)||r("'")?c+=e.charAt(s):d=!1;else switch(e.charAt(s)){case"d":c+=l("d",i.getDay(t),2);break;case"D":c+=o("D",t.getDay(),i.dayNamesShort,i.dayNames);break;case"o":c+=l("o",(t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5,3);break;case"m":c+=l("m",i.getMonth(t)+1,2);break;case"M":c+=o("M",i.getMonth(t),i.monthNamesShort,i.monthNames);break;case"y":n=i.getYear(t),c+=r("y")?n:(n%100<10?"0":"")+n%100;break;case"h":var u=t.getHours();c+=l("h",u>12?u-12:0===u?12:u,2);break;case"H":c+=l("H",t.getHours(),2);break;case"i":c+=l("i",t.getMinutes(),2);break;case"s":c+=l("s",t.getSeconds(),2);break;case"a":c+=t.getHours()>11?i.pmText:i.amText;break;case"A":c+=t.getHours()>11?i.pmText.toUpperCase():i.amText.toUpperCase();break;case"'":r("'")?c+="'":d=!0;break;default:c+=e.charAt(s)}return c},parseDate:function(e,t,a){var s=Oe({},st.defaults,a),n=s.defaultValue&&s.defaultValue.getTime?s.defaultValue:new Date;if(!e||!t)return n;if(t.getTime)return t;t="object"==(void 0===t?"undefined":ie(t))?t.toString():t+"";var i,r=s.shortYearCutoff,l=s.getYear(n),o=s.getMonth(n)+1,c=s.getDay(n),d=-1,u=n.getHours(),m=n.getMinutes(),h=0,f=-1,p=!1,b=function(t){var a=i+1<e.length&&e.charAt(i+1)==t;return a&&i++,a},v=function(e){b(e);var a="@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2,s=new RegExp("^\\d{1,"+a+"}"),n=t.substr(x).match(s);return n?(x+=n[0].length,parseInt(n[0],10)):0},g=function(e,a,s){var n,i=b(e)?s:a;for(n=0;n<i.length;n++)if(t.substr(x,i[n].length).toLowerCase()==i[n].toLowerCase())return x+=i[n].length,n+1;return 0},y=function(){x++},x=0;for(i=0;i<e.length;i++)if(p)"'"!=e.charAt(i)||b("'")?y():p=!1;else switch(e.charAt(i)){case"d":c=v("d");break;case"D":g("D",s.dayNamesShort,s.dayNames);break;case"o":d=v("o");break;case"m":o=v("m");break;case"M":o=g("M",s.monthNamesShort,s.monthNames);break;case"y":l=v("y");break;case"H":u=v("H");break;case"h":u=v("h");break;case"i":m=v("i");break;case"s":h=v("s");break;case"a":f=g("a",[s.amText,s.pmText],[s.amText,s.pmText])-1;break;case"A":f=g("A",[s.amText,s.pmText],[s.amText,s.pmText])-1;break;case"'":b("'")?y():p=!0;break;default:y()}if(l<100&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l<=("string"!=typeof r?r:(new Date).getFullYear()%100+parseInt(r,10))?0:-100)),d>-1)for(o=1,c=d;;){var w=32-new Date(l,o-1,32,12).getDate();if(c<=w)break;o++,c-=w}u=-1==f?u:f&&u<12?u+12:f||12!=u?u:0;var _=s.getDate(l,o-1,c,u,m,h);return s.getYear(_)!=l||s.getMonth(_)+1!=o||s.getDay(_)!=c?n:_}};ne.util.datetime=st,function(e){var t=ne,a=t.$,s=t.util.datetime,n=s.adjustedDate,i=new Date,r={startYear:i.getFullYear()-100,endYear:i.getFullYear()+1,separator:" ",dateFormat:"mm/dd/yy",dateDisplay:"MMddyy",timeFormat:"h:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now",todayText:"Today"},l=function(i){function l(e,t,a,s){return Math.min(s,Math.floor(e/t)*t+a)}function o(e){return e<10?"0"+e:e}function c(e){var t,a,s,i=[];if(e){for(t=0;t<e.length;t++)if(a=e[t],a.start&&a.start.getTime)for(s=new Date(a.start);s<=a.end;)i.push(n(s.getFullYear(),s.getMonth(),s.getDate())),s.setDate(s.getDate()+1);else i.push(a);return i}return e}function d(e,t,a){return Math.floor((a-t)/e)*e+t}function u(e){return{value:e,display:(/yy/i.test(G)?e:(e+"").substr(2,2))+(j.yearSuffix||"")}}function m(e){return e}function h(e){return j.getYear(e)}function f(e){return j.getMonth(e)}function p(e){return j.getDay(e)}function b(e){var t=e.getHours();return t=ae&&t>=12?t-12:t,l(t,ie,ce,me)}function v(e){return l(e.getMinutes(),re,de,he)}function g(e){return l(e.getSeconds(),le,ue,fe)}function y(e){return e.getMilliseconds()}function x(e){return e.getHours()>11?1:0}function w(e){return e.getFullYear()+"-"+o(e.getMonth()+1)+"-"+o(e.getDate())}function _(e){return l(Math.round((e.getTime()-new Date(e).setHours(0,0,0,0))/1e3),O,0,86400)}function C(t,a,s,n){var i;return N[a]===e||(i=+t[N[a]],isNaN(i))?s?ye[a](s):F[a]!==e?F[a]:ye[a](n):i}function T(t){var a,s=new Date((new Date).setHours(0,0,0,0));if(null===t)return t;N.dd!==e&&(a=t[N.dd].split("-"),a=new Date(a[0],a[1]-1,a[2])),N.tt!==e&&(a=a||s,a=new Date(a.getTime()+t[N.tt]%86400*1e3));var n=C(t,"y",a,s),i=C(t,"m",a,s),r=Math.min(C(t,"d",a,s),j.getMaxDayOfMonth(n,i)),l=C(t,"h",a,s);return j.getDate(n,i,r,ae&&C(t,"a",a,s)?l+12:l,C(t,"i",a,s),C(t,"s",a,s),C(t,"u",a,s))}function M(t,a){var s,n,i=["y","m","d","a","h","i","s","u","dd","tt"],r=[];if(null===t||t===e)return t;for(s=0;s<i.length;s++)n=i[s],N[n]!==e&&(r[N[n]]=ye[n](t)),a&&(F[s]=ye[n](t));return r}function k(e,t){return t?Math.floor(new Date(e)/864e5):e.getMonth()+12*(e.getFullYear()-1970)}function D(e){var t=/d/i.test(e);return{label:"",cssClass:"mbsc-dt-whl-date",min:k(w(Q),t),max:k(w(ee),t),data:function(a){var n=new Date((new Date).setHours(0,0,0,0)),i=t?new Date(864e5*a):new Date(1970,a,1);return t&&(i=new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate())),{invalid:t&&!A(i,!0),value:w(i),display:n.getTime()==i.getTime()?j.todayText:s.formatDate(e,i,j)}},getIndex:function(e){return k(e,t)}}}function S(e){var t,a,n,i=[];for(/s/i.test(e)?a=le:/i/i.test(e)?a=60*re:/h/i.test(e)&&(a=3600*ie),O=ve.tt=a,t=0;t<86400;t+=a)n=new Date((new Date).setHours(0,0,0,0)+1e3*t),i.push({value:t,display:s.formatDate(e,n,j)});return{label:"",cssClass:"mbsc-dt-whl-time",data:i}}function V(e,t){var a,s,n=!1,i=!1,r=0,l=0;if(Q=T(M(Q)),ee=T(M(ee)),A(e))return e;if(e<Q&&(e=Q),e>ee&&(e=ee),a=e,s=e,2!==t)for(n=A(a);!n&&a<ee;)a=new Date(a.getTime()+864e5),n=A(a),r++;if(1!==t)for(i=A(s);!i&&s>Q;)s=new Date(s.getTime()-864e5),i=A(s),l++;return 1===t&&n?a:2===t&&i?s:l<=r&&i?s:a}function A(e,t){return!(!t&&e<Q)&&(!(!t&&e>ee)&&(!!E(e,q)||!E(e,R)))}function E(e,t){var a,s,n;if(t)for(s=0;s<t.length;s++)if(a=t[s],n=a+"",!a.start)if(a.getTime){if(e.getFullYear()==a.getFullYear()&&e.getMonth()==a.getMonth()&&e.getDate()==a.getDate())return!0}else if(n.match(/w/i)){if((n=+n.replace("w",""))==e.getDay())return!0}else if(n=n.split("/"),n[1]){if(n[0]-1==e.getMonth()&&n[1]==e.getDate())return!0}else if(n[0]==e.getDate())return!0;return!1}function I(e,t,a,s,n,i,r){var l,o,c,d;if(e)for(o=0;o<e.length;o++)if(l=e[o],d=l+"",!l.start)if(l.getTime)j.getYear(l)==t&&j.getMonth(l)==a&&(i[j.getDay(l)]=r);else if(d.match(/w/i))for(d=+d.replace("w",""),c=d-s;c<n;c+=7)c>=0&&(i[c+1]=r);else d=d.split("/"),d[1]?d[0]-1==a&&(i[d[1]]=r):i[d[0]]=r}function L(t,a,s,n,i,r,o,c){var d,u,m,h,f,p,b,v,g,y,x,w,_,C,T,M,k,D,S,V,A={},E=j.getDate(n,i,r),I=["a","h","i","s"];if(t){for(b=0;b<t.length;b++)x=t[b],x.start&&(x.apply=!1,m=x.d,k=m+"",D=k.split("/"),m&&(m.getTime&&n==j.getYear(m)&&i==j.getMonth(m)&&r==j.getDay(m)||!k.match(/w/i)&&(D[1]&&r==D[1]&&i==D[0]-1||!D[1]&&r==D[0])||k.match(/w/i)&&E.getDay()==+k.replace("w",""))&&(x.apply=!0,A[E]=!0));for(b=0;b<t.length;b++)if(x=t[b],d=0,M=0,v=pe[s],g=be[s],C=!0,T=!0,u=!1,x.start&&(x.apply||!x.d&&!A[E])){for(w=x.start.split(":"),_=x.end.split(":"),y=0;y<3;y++)w[y]===e&&(w[y]=0),_[y]===e&&(_[y]=59),w[y]=+w[y],_[y]=+_[y];if("tt"==s)v=l(Math.round((new Date(E).setHours(w[0],w[1],w[2])-new Date(E).setHours(0,0,0,0))/1e3),O,0,86400),g=l(Math.round((new Date(E).setHours(_[0],_[1],_[2])-new Date(E).setHours(0,0,0,0))/1e3),O,0,86400);else{for(w.unshift(w[0]>11?1:0),_.unshift(_[0]>11?1:0),ae&&(w[1]>=12&&(w[1]=w[1]-12),_[1]>=12&&(_[1]=_[1]-12)),y=0;y<a;y++)P[y]!==e&&(S=l(w[y],ve[I[y]],pe[I[y]],be[I[y]]),V=l(_[y],ve[I[y]],pe[I[y]],be[I[y]]),h=0,f=0,p=0,ae&&1==y&&(h=w[0]?12:0,f=_[0]?12:0,p=P[0]?12:0),C||(S=0),T||(V=be[I[y]]),(C||T)&&S+h<P[y]+p&&P[y]+p<V+f&&(u=!0),P[y]!=S&&(C=!1),P[y]!=V&&(T=!1));if(!c)for(y=a+1;y<4;y++)w[y]>0&&(d=ve[s]),_[y]<be[I[y]]&&(M=ve[s]);u||(S=l(w[a],ve[s],pe[s],be[s])+d,V=l(_[a],ve[s],pe[s],be[s])-M,C&&(v=S),T&&(g=V))}if(C||T||u)for(y=v;y<=g;y+=ve[s])o[y]=!c}}}var O,Y,H,N={},F={},P=[],W=function(e){var t,a,n,i={};if(e.is("input")){switch(e.attr("type")){case"date":t="yy-mm-dd";break;case"datetime":t="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":t="yy-mm-ddTHH:ii:ss";break;case"month":t="yy-mm",i.dateOrder="mmyy";break;case"time":t="HH:ii:ss"}i.format=t,a=e.attr("min"),n=e.attr("max"),a&&(i.min=s.parseDate(t,a)),n&&(i.max=s.parseDate(t,n))}return i}(a(this)),$=a.extend({},i.settings),j=a.extend(i.settings,t.util.datetime.defaults,r,W,$),R=c(j.invalid),q=c(j.valid),X=j.preset,U="datetime"==X?j.dateFormat+j.separator+j.timeFormat:"time"==X?j.timeFormat:j.dateFormat,B=W.format||U,z=j.dateWheels||j.dateFormat,K=j.timeWheels||j.timeFormat,G=j.dateWheels||j.dateDisplay,Z=K,J=j.baseTheme||j.theme,Q=j.min||n(j.startYear,0,1),ee=j.max||n(j.endYear,11,31,23,59,59),te=/time/i.test(X),ae=/h/.test(Z),se=/D/.test(G),ne=j.steps||{},ie=ne.hour||j.stepHour||1,re=ne.minute||j.stepMinute||1,le=ne.second||j.stepSecond||1,oe=ne.zeroBased,ce=oe?0:Q.getHours()%ie,de=oe?0:Q.getMinutes()%re,ue=oe?0:Q.getSeconds()%le,me=d(ie,ce,ae?11:23),he=d(re,de,59),fe=d(re,de,59),pe={y:Q.getFullYear(),m:0,d:1,h:ce,i:de,s:ue,a:0,tt:0},be={y:ee.getFullYear(),m:11,d:31,h:me,i:he,s:fe,a:1,tt:86400},ve={y:1,m:1,d:1,h:ie,i:re,s:le,a:1,tt:1},ge={"android-holo":40,bootstrap:46,ios:50,jqm:46,material:46,mobiscroll:46,wp:50},ye={y:h,m:f,d:p,h:b,i:v,s:g,u:y,a:x,dd:w,tt:_};return i.getDate=i.getVal=function(e){return i._hasValue||e?T(i.getArrayVal(e)):null},i.setDate=function(e,t,a,s,n){i.setArrayVal(M(e),t,n,s,a)},H=function(){var t,a,s,n,i,r,l,c,d=0,h=[],f=[],p=[];if(X.match(/date/i)){for(t=z.split(/\|/.test(z)?"|":""),n=0;n<t.length;n++)if(s=t[n],r=0,s.length)if(/y/i.test(s)&&r++,/m/i.test(s)&&r++,/d/i.test(s)&&r++,r>1&&N.dd===e)N.dd=d,d++,f.push(D(s)),p=f,Y=!0;else if(/y/i.test(s)&&N.y===e)N.y=d,d++,f.push({cssClass:"mbsc-dt-whl-y",label:j.yearText,min:j.getYear(Q),max:j.getYear(ee),data:u,getIndex:m});else if(/m/i.test(s)&&N.m===e){for(N.m=d,l=[],d++,i=0;i<12;i++)c=G.replace(/[dy]/gi,"").replace(/mm/,o(i+1)+(j.monthSuffix||"")).replace(/m/,i+1+(j.monthSuffix||"")),l.push({value:i,display:/MM/.test(c)?c.replace(/MM/,'<span class="mbsc-dt-month">'+j.monthNames[i]+"</span>"):c.replace(/M/,'<span class="mbsc-dt-month">'+j.monthNamesShort[i]+"</span>")});f.push({cssClass:"mbsc-dt-whl-m",label:j.monthText,data:l})}else if(/d/i.test(s)&&N.d===e){for(N.d=d,l=[],d++,i=1;i<32;i++)l.push({value:i,display:(/dd/i.test(G)?o(i):i)+(j.daySuffix||"")});f.push({cssClass:"mbsc-dt-whl-d",label:j.dayText,data:l})}h.push(f)}if(X.match(/time/i)){for(a=K.split(/\|/.test(K)?"|":""),n=0;n<a.length;n++)if(s=a[n],r=0,s.length&&(/h/i.test(s)&&r++,/i/i.test(s)&&r++,/s/i.test(s)&&r++,/a/i.test(s)&&r++),r>1&&N.tt===e)N.tt=d,d++,p.push(S(s));else if(/h/i.test(s)&&N.h===e){for(l=[],N.h=d,d++,i=ce;i<(ae?12:24);i+=ie)l.push({value:i,display:ae&&0===i?12:/hh/i.test(Z)?o(i):i});p.push({cssClass:"mbsc-dt-whl-h",label:j.hourText,data:l})}else if(/i/i.test(s)&&N.i===e){for(l=[],N.i=d,d++,i=de;i<60;i+=re)l.push({value:i,display:/ii/i.test(Z)?o(i):i});p.push({cssClass:"mbsc-dt-whl-i",label:j.minuteText,data:l})}else if(/s/i.test(s)&&N.s===e){for(l=[],N.s=d,d++,i=ue;i<60;i+=le)l.push({value:i,display:/ss/i.test(Z)?o(i):i});p.push({cssClass:"mbsc-dt-whl-s",label:j.secText,data:l})}else/a/i.test(s)&&N.a===e&&(N.a=d,d++,p.push({cssClass:"mbsc-dt-whl-a",label:j.ampmText,data:/A/.test(s)?[{value:0,display:j.amText.toUpperCase()},{value:1,display:j.pmText.toUpperCase()}]:[{value:0,display:j.amText},{value:1,display:j.pmText}]}));p!=f&&h.push(p)}return h}(),i.format=U,i.order=N,i.handlers.now=function(){i.setDate(new Date,i.live,1e3,!0,!0)},i.buttons.now={text:j.nowText,handler:"now"},{minWidth:Y&&te?ge[J]:e,compClass:"mbsc-dt",wheels:H,headerText:!!j.headerText&&function(){return s.formatDate(U,T(i.getArrayVal(!0)),j)},formatValue:function(e){return s.formatDate(B,T(e),j)},parseValue:function(e){return e||(F={}),M(e?s.parseDate(B,e,j):j.defaultValue&&j.defaultValue.getTime?j.defaultValue:new Date,!!e&&!!e.getTime)},validate:function(t){var s,n,r,l,o=t.values,c=t.index,d=t.direction,u=i.settings.wheels[0][N.d],m=V(T(o),d),h=M(m),f=[],p={},b=ye.y(m),v=ye.m(m),g=j.getMaxDayOfMonth(b,v),y=!0,x=!0;if(a.each(["dd","y","m","d","tt","a","h","i","s"],function(t,s){if(N[s]!==e){var i=pe[s],r=be[s],l=ye[s](m);if(f[N[s]]=[],y&&Q&&(i=ye[s](Q)),x&&ee&&(r=ye[s](ee)),"y"!=s&&"dd"!=s)for(n=pe[s];n<=be[s];n+=ve[s])(n<i||n>r)&&f[N[s]].push(n);if(l<i&&(l=i),l>r&&(l=r),y&&(y=l==i),x&&(x=l==r),"d"==s){var o=j.getDate(b,v,1).getDay(),c={};I(R,b,v,o,g,c,1),I(q,b,v,o,g,c,0),a.each(c,function(e,t){t&&f[N[s]].push(e)})}}}),te&&a.each(["a","h","i","s","tt"],function(t,s){var n=ye[s](m),r=ye.d(m),l={};N[s]!==e&&(L(R,t,s,b,v,r,l,0),L(q,t,s,b,v,r,l,1),a.each(l,function(e,t){t&&f[N[s]].push(e)}),P[t]=i.getValidValue(N[s],n,d,l))}),u&&(u._length!==g||se&&(c===e||c===N.y||c===N.m))){for(p[N.d]=u,u.data=[],s=1;s<=g;s++)l=j.getDate(b,v,s).getDay(),r=G.replace(/[my]/gi,"").replace(/dd/,(s<10?"0"+s:s)+(j.daySuffix||"")).replace(/d/,s+(j.daySuffix||"")),u.data.push({value:s,display:r.match(/DD/)?r.replace(/DD/,'<span class="mbsc-dt-day">'+j.dayNames[l]+"</span>"):r.replace(/D/,'<span class="mbsc-dt-day">'+j.dayNamesShort[l]+"</span>")});i._tempWheelArray[N.d]=h[N.d],i.changeWheel(p)}return{disabled:f,valid:h}}}};a.each(["date","time","datetime"],function(e,t){ne.presets.scroller[t]=l})}(),function(){["date","time","datetime"].forEach(function(e){ne.presetShort(e)})}(),function(){var e=ne,t=e.$,a=(e.themes.frame,[]),s=[{label:"省份",data:[]},{label:"城市",data:[]},{label:"区县",data:[]}],n=e.presets.scroller;e.presetShort("area"),n.area=function(e){var n={load:function(){this.province(!0)},province:function(e){var a=[];t(area_list).each(function(e,t){a.push({value:e,area_id:t.area_id,display:t.area_name})}),s[0].data=a,e&&this.city(0)},city:function(e){var a=[];t(area_list[e].data).each(function(e,t){a.push({value:e,area_id:t.area_id,display:t.area_name})}),s[1].data=a,this.county(e,0)},county:function(e,a){var n=area_list[e].data[a].data,i=[];"object"==typeof n&&(t(n).each(function(e,t){i.push({value:e,area_id:t.area_id,display:t.area_name})}),s[2].data=i)}};return n.load(),{compClass:"mbsc-area",circular:!1,headerText:!1,wheels:[s],formatValue:function(e){for(var t=[],a=0;a<3;a++){var n=s[a].data[e[a]];n&&t.push(n.display)}return t.join(" ")},onSet:function(t){for(var a=e._tempWheelArray,n=[],i=0;i<3;i++){var r=s[i].data[a[i]];r&&n.push({area_id:r.area_id,area_name:r.display})}e.DataArray=n},validate:function(t){var i=t.index,r={},l=[],o=(t.direction,t.values);return void 0!==i&&(a=o,0==i&&(n.city(o[0]),r={1:{data:s[1].data},2:{data:s[2].data}},l=[o[0],0,0]),1==i&&(n.county(o[0],o[1]),r={2:{data:s[2].data}},l=[o[0],o[1],0]),e.changeWheel(r,1e3),2!=i?{valid:l}:void 0)}}}}();var nt=ne.presets.scroller,it=ne.classes,rt=ne.util,lt=rt.datetime.adjustedDate,ot=new Date,ct={min:new Date(ot.getFullYear()-100,0,1),max:new Date(ot.getFullYear()+1,11,31,23,59,59),controls:["calendar"],firstDay:0,weekDays:"short",maxMonthWidth:170,months:1,preMonths:1,highlight:!0,outerMonthChange:!0,quickNav:!0,yearChange:!0,todayClass:"mbsc-cal-today",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left6",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right6",dateText:"Date",timeText:"Time",calendarText:"Calendar",todayText:"Today",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"};nt.calbase=function(e){function t(e){var t;Se=Le(this),Ae=!1,"keydown"!=e.type?(ke=b(e,"X"),De=b(e,"Y"),t=x(e,this)):t=32===e.keyCode,Ee||!t||Se.hasClass("mbsc-fr-btn-d")||(Ee=!0,setTimeout(n,100),"mousedown"==e.type&&Le(document).on("mousemove",a).on("mouseup",s))}function a(e){(Math.abs(ke-b(e,"X"))>7||Math.abs(De-b(e,"Y"))>7)&&(Ee=!1,Se.removeClass("mbsc-fr-btn-a"))}function s(e){"touchend"==e.type&&e.preventDefault(),Se&&!Ae&&n(),Ee=!1,"mouseup"==e.type&&Le(document).off("mousemove",a).off("mouseup",s)}function n(){Ae=!0,Se.hasClass("mbsc-cal-prev-m")?D():Se.hasClass("mbsc-cal-next-m")?k():Se.hasClass("mbsc-cal-prev-y")?V(Se):Se.hasClass("mbsc-cal-next-y")&&S(Se)}function i(e){return!(e<lt(fe.getFullYear(),fe.getMonth(),fe.getDate())||e>pe||void 0!==_e[e]&&void 0===we[e])}function r(e,t,a){var s,n,i,r,l={},o=mt+Ne;return e&&Le.each(e,function(e,c){if(s=c.d||c.start||c,n=s+"",c.start&&c.end)for(r=new Date(c.start);r<=c.end;)i=lt(r.getFullYear(),r.getMonth(),r.getDate()),l[i]=l[i]||[],l[i].push(c),r.setDate(r.getDate()+1);else if(s.getTime)i=lt(s.getFullYear(),s.getMonth(),s.getDate()),l[i]=l[i]||[],l[i].push(c);else if(n.match(/w/i)){var d=+n.replace("w",""),u=0,m=Ze.getDate(t,a-mt-Fe,1).getDay();for(Ze.firstDay-m+1>1&&(u=7),N=0;N<5*He;N++)i=Ze.getDate(t,a-mt-Fe,7*N-u-m+1+d),l[i]=l[i]||[],l[i].push(c)}else if(n=n.split("/"),n[1])a+o>=11&&(i=Ze.getDate(t+1,n[0]-1,n[1]),l[i]=l[i]||[],l[i].push(c)),a-o<=1&&(i=Ze.getDate(t-1,n[0]-1,n[1]),l[i]=l[i]||[],l[i].push(c)),i=Ze.getDate(t,n[0]-1,n[1]),l[i]=l[i]||[],l[i].push(c);else for(N=0;N<He;N++)i=Ze.getDate(t,a-mt-Fe+N,n[0]),Ze.getDay(i)==n[0]&&(l[i]=l[i]||[],l[i].push(c))}),l}function o(t,a){_e=r(Ze.invalid,t,a),we=r(Ze.valid,t,a),e.onGenMonth(t,a)}function c(e,t,a,s,n,i,r){var l='<div class="mbsc-cal-h mbsc-cal-sc-c mbsc-cal-'+e+"-c "+(Ze.calendarClass||"")+'"><div class="mbsc-cal-sc"><div class="mbsc-cal-sc-p"><div class="mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-row">';for(H=1;H<=t;H++)l+=H<=12||H>a?'<div class="mbsc-cal-sc-m-cell mbsc-cal-sc-cell mbsc-cal-sc-empty"><div class="mbsc-cal-sc-cell-i">&nbsp;</div></div>':'<div tabindex="0" role="button"'+(i?' aria-label="'+i[H-13]+'"':"")+' class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-cal-sc-m-cell mbsc-cal-sc-cell mbsc-cal-'+e+'-s" data-val='+(s+H-13)+'><div class="mbsc-cal-sc-cell-i mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-cell">'+(r?r[H-13]:s+H-13+n)+"</div></div></div>",H<t&&(H%12==0?l+='</div></div></div><div class="mbsc-cal-sc-p" style="'+(dt?"top":st?"right":"left")+":"+100*Math.round(H/12)+'%"><div class="mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-row">':H%3==0&&(l+='</div><div class="mbsc-cal-sc-row">'));return l+="</div></div></div></div></div>"}function d(t,a){var s,n,r,l,o,c,d,u,m,h,f,p,b,v,g,y,x=1,w=0,_=Ze.getDate(t,a,1),C=Ze.getYear(_),T=Ze.getMonth(_),M=null!==Ze.defaultValue||e._hasValue?e.getDate(!0):null,k=Ze.getDate(C,T,1).getDay(),D='<div class="mbsc-cal-table">',S='<div class="mbsc-cal-week-nr-c">';for(Ze.firstDay-k+1>1&&(w=7),y=0;y<42;y++)g=y+Ze.firstDay-w,s=Ze.getDate(C,T,g-k+1),r=s.getFullYear(),l=s.getMonth(),o=s.getDate(),c=Ze.getMonth(s),d=Ze.getDay(s),v=Ze.getMaxDayOfMonth(r,l),u=r+"-"+l+"-"+o,m=Oe({valid:i(s),selected:M&&M.getFullYear()===r&&M.getMonth()===l&&M.getDate()===o},e.getDayProps(s,M)),h=m.valid,f=m.selected,n=m.cssClass,p=new Date(s).setHours(12,0,0,0)===(new Date).setHours(12,0,0,0),b=c!==T,Ke[u]=m,y%7==0&&(D+=(y?"</div>":"")+'<div class="mbsc-cal-row'+(Ze.highlight&&M&&M-s>=0&&M-s<6048e5?" mbsc-cal-week-hl":"")+'">'),Qe&&1==s.getDay()&&("month"==Qe&&b&&x>1?x=1==o?1:2:"year"==Qe&&(x=Ze.getWeekNumber(s)),S+='<div class="mbsc-cal-week-nr"><div class="mbsc-cal-week-nr-i">'+x+"</div></div>",x++),D+='<div role="button" tabindex="-1" aria-label="'+(p?Ze.todayText+", ":"")+Ze.dayNames[s.getDay()]+", "+Ze.monthNames[c]+" "+d+" "+(m.ariaLabel?", "+m.ariaLabel:"")+'"'+(b&&!We?' aria-hidden="true"':"")+(f?' aria-selected="true"':"")+(h?"":' aria-disabled="true"')+' data-day="'+g%7+'" data-full="'+u+'"class="mbsc-cal-day '+(Ze.dayClass||"")+(f?" mbsc-cal-day-sel":"")+(p?" "+Ze.todayClass:"")+(n?" "+n:"")+(1==d?" mbsc-cal-day-first":"")+(d==v?" mbsc-cal-day-last":"")+(b?" mbsc-cal-day-diff":"")+(h?" mbsc-cal-day-v mbsc-fr-btn-e mbsc-fr-btn-nhl":" mbsc-cal-day-inv")+'"><div class="mbsc-cal-day-i '+(f?gt:"")+" "+(Ze.innerDayClass||"")+'"><div class="mbsc-cal-day-fg">'+d+"</div>"+(m.markup||"")+'<div class="mbsc-cal-day-frame"></div></div></div>';return D+="</div></div>"+S+"</div>"}function u(e,t,a){var s=Ze.getDate(e,t,1),n=Ze.getYear(s),i=Ze.getMonth(s),r=n+vt;if(ut){if(je&&je.removeClass("mbsc-cal-sc-sel").removeAttr("aria-selected").find(".mbsc-cal-sc-cell-i").removeClass(gt),Re&&Re.removeClass("mbsc-cal-sc-sel").removeAttr("aria-selected").find(".mbsc-cal-sc-cell-i").removeClass(gt),je=Le('.mbsc-cal-year-s[data-val="'+n+'"]',W).addClass("mbsc-cal-sc-sel").attr("aria-selected","true"),Re=Le('.mbsc-cal-month-s[data-val="'+i+'"]',W).addClass("mbsc-cal-sc-sel").attr("aria-selected","true"),je.find(".mbsc-cal-sc-cell-i").addClass(gt),Re.find(".mbsc-cal-sc-cell-i").addClass(gt),$e&&$e.scroll(je,a),Le(".mbsc-cal-month-s",W).removeClass("mbsc-fr-btn-d"),n===oe)for(H=0;H<de;H++)Le('.mbsc-cal-month-s[data-val="'+H+'"]',W).addClass("mbsc-fr-btn-d");if(n===ce)for(H=ue+1;H<=12;H++)Le('.mbsc-cal-month-s[data-val="'+H+'"]',W).addClass("mbsc-fr-btn-d")}for(1==re.length&&re.attr("aria-label",n).html(r),H=0;H<Ye;++H)s=Ze.getDate(e,t-Fe+H,1),n=Ze.getYear(s),i=Ze.getMonth(s),r=n+vt,Le(se[H]).attr("aria-label",Ze.monthNames[i]+(ht?"":" "+n)).html((!ht&&le<ie?r+" ":"")+ee[i]+(!ht&&le>ie?" "+r:"")),re.length>1&&Le(re[H]).html(r);Ze.getDate(e,t-Fe-1,1)<me?f(Le(".mbsc-cal-prev-m",W)):h(Le(".mbsc-cal-prev-m",W)),Ze.getDate(e,t+Ye-Fe,1)>he?f(Le(".mbsc-cal-next-m",W)):h(Le(".mbsc-cal-next-m",W)),Ze.getDate(e,t,1).getFullYear()<=me.getFullYear()?f(Le(".mbsc-cal-prev-y",W)):h(Le(".mbsc-cal-prev-y",W)),Ze.getDate(e,t,1).getFullYear()>=he.getFullYear()?f(Le(".mbsc-cal-next-y",W)):h(Le(".mbsc-cal-next-y",W))}function h(e){e.removeClass(wt).find(".mbsc-cal-btn-txt").removeAttr("aria-disabled")}function f(e){e.addClass(wt).find(".mbsc-cal-btn-txt").attr("aria-disabled","true")}function p(t){e.trigger("onDayHighlight",{date:t}),Ze.highlight&&(Le(".mbsc-cal-day-sel .mbsc-cal-day-i",j).removeClass(gt),Le(".mbsc-cal-day-sel",j).removeClass("mbsc-cal-day-sel").removeAttr("aria-selected"),Le(".mbsc-cal-week-hl",j).removeClass("mbsc-cal-week-hl"),(null!==Ze.defaultValue||e._hasValue)&&Le('.mbsc-cal-day[data-full="'+t.getFullYear()+"-"+t.getMonth()+"-"+t.getDate()+'"]',j).addClass("mbsc-cal-day-sel").attr("aria-selected","true").find(".mbsc-cal-day-i").addClass(gt).closest(".mbsc-cal-row").addClass("mbsc-cal-week-hl"))}function v(t,a){if(B&&("calendar"===Te||a)){var s,n,i=Ze.getDate(ve,ge,1),r=Math.abs(12*(Ze.getYear(t)-Ze.getYear(i))+Ze.getMonth(t)-Ze.getMonth(i));e.needsSlide&&r&&(ve=Ze.getYear(t),ge=Ze.getMonth(t),t>i?(n=r>mt-Fe+Ye-1,ge-=n?0:r-mt,s="next"):t<i&&(n=r>mt+Fe,ge+=n?0:r-mt,s="prev"),_(ve,ge,s,Math.min(r,mt),n,!0)),a||(be=t,p(t)),e.needsSlide=!0}}function g(t,a,s){if(s||e.trigger("onMonthLoading",{year:t,month:a}),o(t,a),Ue.length)for(H=0;H<He;H++)Ue[H].html(d(t,a-Fe-mt+H));w(),Pe=void 0,e.trigger("onMonthLoaded",{year:t,month:a})}function y(e,t){for(var a=mt,s=mt;s&&Ze.getDate(e,t+s+Ye-Fe-1,1)>he;)s--;for(;a&&Ze.getDate(e,t-a-Fe,1)<me;)a--;Oe(te.settings,{contSize:Ye*q,snap:q,minScroll:X-(st?a:s)*q,maxScroll:X+(st?s:a)*q}),te.refresh()}function w(){Qe&&Z.html(Le(".mbsc-cal-week-nr-c",Ue[mt]).html()),Le(".mbsc-cal-slide-a .mbsc-cal-day",R).attr("tabindex",0)}function _(t,a,s,n,i,r,c){if(t&&Be.push({y:t,m:a,dir:s,slideNr:n,load:i,active:r,callback:c}),!Me&&Be.length){var m,h=Be.shift();if(t=h.y,a=h.m,s="next"===h.dir,n=h.slideNr,i=h.load,r=h.active,c=h.callback||l,m=Ze.getDate(t,a,1),t=Ze.getYear(m),a=Ze.getMonth(m),Me=!0,e.changing=!0,e.trigger("onMonthChange",{year:t,month:a}),e.trigger("onMonthLoading",{year:t,month:a}),o(t,a),i)for(H=0;H<Ye;H++)Ue[s?He-Ye+H:H].html(d(t,a-Fe+H));r&&Xe.addClass("mbsc-cal-slide-a"),setTimeout(function(){e.ariaMessage(Ze.monthNames[a]+" "+t),u(t,a,200),X=s?X-q*n*rt:X+q*n*rt,te.scroll(X,r?200:0,!1,function(){var r;if(G=X,Ue.length){if(Xe.removeClass("mbsc-cal-slide-a").attr("aria-hidden","true"),s)for(r=Ue.splice(0,n),H=0;H<n;H++)Ue.push(r[H]),T(Ue[Ue.length-1],+Ue[Ue.length-2].attr("data-curr")+100*rt);else for(r=Ue.splice(He-n,n),H=n-1;H>=0;H--)Ue.unshift(r[H]),T(Ue[0],+Ue[1].attr("data-curr")-100*rt);for(H=0;H<n;H++)Ue[s?He-n+H:H].html(d(t,a-Fe-mt+H+(s?He-n:0))),i&&Ue[s?H:He-n+H].html(d(t,a-Fe-mt+H+(s?0:He-n)));for(H=0;H<Ye;H++)Ue[mt+H].addClass("mbsc-cal-slide-a").removeAttr("aria-hidden");y(t,a),Me=!1}Be.length?setTimeout(function(){_()},10):(ve=t,ge=a,e.changing=!1,Le(".mbsc-cal-day",R).attr("tabindex",-1),w(),void 0!==Pe?g(t,a,Pe):e.trigger("onMonthLoaded",{year:t,month:a}),c())})},10)}}function C(){var t=Le(this),a=e.live,s=e.getDate(!0),n=t.attr("data-full"),i=n.split("-"),r=lt(i[0],i[1],i[2]),l=lt(r.getFullYear(),r.getMonth(),r.getDate(),s.getHours(),s.getMinutes(),s.getSeconds()),o=t.hasClass("mbsc-cal-day-sel");!We&&t.hasClass("mbsc-cal-day-diff")||!1!==e.trigger("onDayChange",Oe(Ke[n],{date:l,target:this,selected:o}))&&(e.needsSlide=!1,U=!0,e.setDate(l,a,.2,!a,!0),Ze.outerMonthChange&&(Ee=!0,r<Ze.getDate(ve,ge-Fe,1)?D():r>Ze.getDate(ve,ge-Fe+Ye,0)&&k(),Ee=!1),e.live&&e.trigger("onSet",{valueText:e._value}))}function T(e,t){e.attr("data-curr",t),e[0].style[Ie+"Transform"]="translate3d("+(dt?"0,"+t+"%,":t+"%,0,")+"0)"}function M(t){e.isVisible()&&B&&(e.changing?Pe=t:g(ve,ge,t))}function k(){Ee&&Ze.getDate(ve,ge+Ye-Fe,1)<=he&&ne.dtdDV&&_(ve,++ge,"next",1,!1,!0,k)}function D(){Ee&&Ze.getDate(ve,ge-Fe-1,1)>=me&&ne.dtdDV&&_(ve,--ge,"prev",1,!1,!0,D)}function S(e){Ee&&Ze.getDate(ve,ge,1)<=Ze.getDate(Ze.getYear(he)-1,Ze.getMonth(he)-Ne,1)&&ne.dtdDV?_(++ve,ge,"next",mt,!0,!0,function(){S(e)}):Ee&&!e.hasClass("mbsc-fr-btn-d")&&ne.dtdDV&&_(Ze.getYear(he),Ze.getMonth(he)-Ne,"next",mt,!0,!0)}function V(e){Ee&&Ze.getDate(ve,ge,1)>=Ze.getDate(Ze.getYear(me)+1,Ze.getMonth(me)+Fe,1)&&ne.dtdDV?_(--ve,ge,"prev",mt,!0,!0,function(){V(e)}):Ee&&!e.hasClass("mbsc-fr-btn-d")&&ne.dtdDV&&_(Ze.getYear(me),Ze.getMonth(me)+Fe,"prev",mt,!0,!0)}function A(t,a){t.hasClass("mbsc-cal-v")||(t.addClass("mbsc-cal-v"+(a?"":" mbsc-cal-p-in")).removeClass("mbsc-cal-p-out mbsc-cal-h"),e.trigger("onSelectShow"))}function E(e,t){e.hasClass("mbsc-cal-v")&&e.removeClass("mbsc-cal-v mbsc-cal-p-in").addClass("mbsc-cal-h"+(t?"":" mbsc-cal-p-out"))}function I(e,t){(t||e).hasClass("mbsc-cal-v")?E(e):A(e)}function L(){Le(this).removeClass("mbsc-cal-p-out mbsc-cal-p-in")}function O(e){return e[0].innerWidth||e.innerWidth()}var Y,H,N,F,P,W,$,j,R,q,X,U,B,z,K,G,Z,J,Q,ee,te,ae,se,ie,re,le,oe,ce,de,ue,me,he,fe,pe,be,ve,ge,ye,xe,we,_e,Ce,Te,Me,ke,De,Se,Ae,Ee,Ye,He,Ne,Fe,Pe,We,$e,je,Re,qe=this,Xe=[],Ue=[],Be=[],ze={},Ke={},Ge=Oe({},e.settings),Ze=Oe(e.settings,ct,Ge),Je="full"==Ze.weekDays?"":"min"==Ze.weekDays?"Min":"Short",Qe=Ze.weekCounter,et=Ze.layout||(/top|bottom|inline/.test(Ze.display)?"liquid":""),tt="liquid"==et&&"bubble"!==Ze.display,at="center"==Ze.display,st=Ze.rtl,rt=st?-1:1,ot=tt?null:Ze.calendarWidth,dt="vertical"==Ze.calendarScroll,ut=Ze.quickNav,mt=Ze.preMonths,ht=Ze.yearChange,ft=Ze.controls.join(","),pt=(!0===Ze.tabs||!1!==Ze.tabs&&tt)&&Ze.controls.length>1,bt=!pt&&void 0===Ze.tabs&&!tt&&Ze.controls.length>1,vt=Ze.yearSuffix||"",gt=Ze.activeClass||"",yt="mbsc-cal-tab-sel "+(Ze.activeTabClass||""),xt=Ze.activeTabInnerClass||"",wt="mbsc-fr-btn-d "+(Ze.disabledClass||""),_t=dt?"Y":"X",Ct="",Tt="";return ft.match(/calendar/)?B=!0:ut=!1,ft.match(/date/)&&(ze.date=1),ft.match(/time/)&&(ze.time=1),B&&ze.date&&(pt=!0,bt=!1),Ze.layout=et,Ze.preset=(ze.date||B?"date":"")+(ze.time?"time":""),"inline"==Ze.display&&Le(this).closest('[data-role="page"]').on("pageshow",function(){e.position()}),e.changing=!1,e.needsSlide=!0,e.getDayProps=l,e.onGenMonth=l,e.prepareObj=r,e.refresh=function(){M(!1)},e.redraw=function(){M(!0)},e.navigate=function(t,a){var s,n,i=e.isVisible();Be=[],a&&i?v(t,!0):(s=Ze.getYear(t),n=Ze.getMonth(t),!i||s==ve&&n==ge||(Me=!1,e.changing=!1,e.trigger("onMonthChange",{year:s,month:n}),u(s,n),g(s,n),X=G,te.scroll(X),y(t.getFullYear(),t.getMonth())),ve=s,ge=n)},e.showMonthView=function(){ut&&!Q&&(E(Tt,!0),E(Ct,!0),A(J,!0),Q=!0)},e.changeTab=function(t){e._isVisible&&ze[t]&&Te!=t&&(Te=t,Le(".mbsc-cal-pnl",W).removeClass("mbsc-cal-p-in").addClass("mbsc-cal-pnl-h"),Le(".mbsc-cal-tab",W).removeClass(yt).removeAttr("aria-selected").find(".mbsc-cal-tab-i").removeClass(xt),Le('.mbsc-cal-tab[data-control="'+t+'"]',W).addClass(yt).attr("aria-selected","true").find(".mbsc-cal-tab-i").addClass(xt),ze[Te].removeClass("mbsc-cal-pnl-h").addClass("mbsc-cal-p-in"),"calendar"==Te&&(Y=e.getDate(!0),Y.getFullYear()===be.getFullYear()&&Y.getMonth()===be.getMonth()&&Y.getDate()===be.getDate()||v(Y)),e.showMonthView(),e.trigger("onTabChange",{tab:Te}))},F=nt.datetime.call(this,e),ie=(Ze.dateWheels||Ze.dateFormat).search(/m/i),le=(Ze.dateWheels||Ze.dateFormat).search(/y/i),Oe(F,{ariaMessage:Ze.calendarText,onMarkupReady:function(n){var i,r,l="";if(W=Le(n.target),$="inline"==Ze.display?Le(this).is("div")?Le(this):Le(this).parent():e._window,be=e.getDate(!0),ve||(ve=Ze.getYear(be),ge=Ze.getMonth(be)),X=0,G=0,K=!0,Me=!1,ee=Ze.monthNames,Te="calendar",Ze.min&&(me=lt(Ze.min.getFullYear(),Ze.min.getMonth(),1),fe=Ze.min),Ze.max&&(he=lt(Ze.max.getFullYear(),Ze.max.getMonth(),1),pe=Ze.max),W.addClass("mbsc-calendar"),P=Le(".mbsc-fr-popup",W),Ce=Le(".mbsc-fr-c",W),ze.date?ze.date=Le(".mbsc-sc-whl-gr-c",W).eq(0):B&&Le(".mbsc-sc-whl-gr-c",W).eq(0).addClass("mbsc-cal-hdn"),ze.time&&(ze.time=Le(".mbsc-sc-whl-gr-c",W).eq(1)),B){for(Ye="auto"==Ze.months?Math.max(1,Math.min(3,Math.floor((ot||O($))/280))):Ze.months,He=Ye+2*mt,Ne=Math.floor(Ye/2),Fe=Math.round(Ye/2)-1,We=void 0===Ze.showOuterDays?Ye<2:Ze.showOuterDays,dt=dt&&Ye<2,r='<div class="mbsc-cal-btnw"><div class="'+(st?"mbsc-cal-next-m":"mbsc-cal-prev-m")+' mbsc-cal-prev mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(Ze.btnCalPrevClass||"")+'" aria-label="'+Ze.prevMonthText+'"></div></div>',H=0;H<Ye;++H)r+='<div class="mbsc-cal-btnw-m" style="width: '+100/Ye+'%"><span role="button" class="mbsc-cal-month"></span></div>';for(r+='<div class="'+(st?"mbsc-cal-prev-m":"mbsc-cal-next-m")+' mbsc-cal-next mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(Ze.btnCalNextClass||"")+'" aria-label="'+Ze.nextMonthText+'"></div></div></div>',
ht&&(l='<div class="mbsc-cal-btnw"><div class="'+(st?"mbsc-cal-next-y":"mbsc-cal-prev-y")+' mbsc-cal-prev mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(Ze.btnCalPrevClass||"")+'" aria-label="'+Ze.prevYearText+'"></div></div><span role="button" class="mbsc-cal-year"></span><div class="'+(st?"mbsc-cal-prev-y":"mbsc-cal-next-y")+' mbsc-cal-next mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(Ze.btnCalNextClass||"")+'" aria-label="'+Ze.nextYearText+'"></div></div></div>'),ut&&(oe=Ze.getYear(me),ce=Ze.getYear(he),de=Ze.getMonth(me),ue=Ze.getMonth(he),xe=Math.ceil((ce-oe+1)/12)+2,Ct=c("month",36,24,0,"",Ze.monthNames,Ze.monthNamesShort),Tt=c("year",12*xe,ce-oe+13,oe,vt)),z='<div class="mbsc-w-p mbsc-cal-c"><div class="mbsc-cal mbsc-cal-hl-now '+(Ye>1?" mbsc-cal-multi ":"")+(Qe?" mbsc-cal-weeks ":"")+(dt?" mbsc-cal-vertical":"")+(We?"":" mbsc-cal-hide-diff ")+(Ze.calendarClass||"")+'"><div class="mbsc-cal-header"><div class="mbsc-cal-btnc '+(ht?"mbsc-cal-btnc-ym":"mbsc-cal-btnc-m")+'">'+(le<ie||Ye>1?l+r:r+l)+'</div></div><div class="mbsc-cal-body"><div class="mbsc-cal-m-c mbsc-cal-v"><div class="mbsc-cal-days-c">',N=0;N<Ye;++N){for(z+='<div aria-hidden="true" class="mbsc-cal-days" style="width: '+100/Ye+'%"><table cellpadding="0" cellspacing="0"><tr>',H=0;H<7;H++)z+="<th>"+Ze["dayNames"+Je][(H+Ze.firstDay)%7]+"</th>";z+="</tr></table></div>"}for(z+='</div><div class="mbsc-cal-week-nrs-c '+(Ze.weekNrClass||"")+'"><div class="mbsc-cal-week-nrs"></div></div><div class="mbsc-cal-anim-c '+(Ze.calendarClass||"")+'"><div class="mbsc-cal-anim">',H=0;H<Ye+2*mt;H++)z+='<div class="mbsc-cal-slide" aria-hidden="true"></div>';z+="</div></div></div>"+Ct+Tt+"</div></div></div>",ze.calendar=Le(z)}if(Le.each(Ze.controls,function(e,t){ze[t]=Le('<div class="mbsc-cal-pnl" id="'+qe.id+"_dw_pnl_"+e+'"></div>').append(Le('<div class="mbsc-cal-pnl-i"></div>').append(ze[t])).appendTo(Ce)}),i='<div class="mbsc-cal-tabs"><ul role="tablist">',Le.each(Ze.controls,function(e,t){ze[t]&&(i+='<li role="tab" aria-controls="'+qe.id+"_dw_pnl_"+e+'" class="mbsc-cal-tab '+(e?"":yt)+'" data-control="'+t+'"><a href="#" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-cal-tab-i '+(e?"":xt)+'">'+Ze[t+"Text"]+"</a></li>")}),i+="</ul></div>",Ce.before(i),j=Le(".mbsc-cal-anim-c",W),R=Le(".mbsc-cal-anim",j),Z=Le(".mbsc-cal-week-nrs",W),B){for(Q=!0,Xe=Le(".mbsc-cal-slide",R).each(function(e,t){Ue.push(Le(t))}),Xe.slice(mt,mt+Ye).addClass("mbsc-cal-slide-a").removeAttr("aria-hidden"),H=0;H<He;H++)T(Ue[H],100*(H-mt)*rt);g(ve,ge),te=new it.ScrollView(j[0],{axis:_t,easing:"",contSize:0,snap:1,maxSnapScroll:mt,moveElement:R,mousewheel:Ze.mousewheel,time:200,lock:!0,stopProp:!1,minScroll:-1/0,maxScroll:1/0,onAnimationEnd:function(e){var t=Math.round((e["pos"+_t]-X)/q)*rt;t&&_(ve,ge-t,t>0?"prev":"next",t>0?t:-t)}})}se=Le(".mbsc-cal-month",W),re=Le(".mbsc-cal-year",W),J=Le(".mbsc-cal-m-c",W),ut&&(J.on(Ve,L),Ct=Le(".mbsc-cal-month-c",W).on(Ve,L),Tt=Le(".mbsc-cal-year-c",W).on(Ve,L),ye={axis:_t,contSize:0,snap:1,maxSnapScroll:1,rtl:Ze.rtl,mousewheel:Ze.mousewheel,time:200,stopProp:!1,minScroll:-1/0,maxScroll:1/0},$e=new it.ScrollView(Tt[0],ye),ae=new it.ScrollView(Ct[0],ye)),tt?W.addClass("mbsc-cal-liq"):Le(".mbsc-cal",W).width(ot||280*Ye),Ze.calendarHeight&&Le(".mbsc-cal-anim-c",W).height(Ze.calendarHeight),e.tap(j,function(e){var t=Le(e.target);Me||te.scrolled||!0===Ze.readonly||(t=t.closest(".mbsc-cal-day",this),t.hasClass("mbsc-cal-day-v")&&C.call(t[0]))}),Le(".mbsc-cal-btn",W).on("touchstart mousedown keydown",t).on("touchmove",a).on("touchend touchcancel keyup",s),Le(".mbsc-cal-tab",W).on("touchstart click",function(t){x(t,this)&&ne.dtdDV&&e.changeTab(Le(this).attr("data-control"))}),ut&&(e.tap(Le(".mbsc-cal-month",W),function(){Tt.hasClass("mbsc-cal-v")||(I(J),Q=J.hasClass("mbsc-cal-v")),I(Ct),E(Tt)}),e.tap(Le(".mbsc-cal-year",W),function(){Tt.hasClass("mbsc-cal-v")||$e.scroll(je),Ct.hasClass("mbsc-cal-v")||(I(J),Q=J.hasClass("mbsc-cal-v")),I(Tt),E(Ct)}),e.tap(Le(".mbsc-cal-month-s",W),function(){ae.scrolled||Le(this).hasClass("mbsc-fr-btn-d")||e.navigate(Ze.getDate(ve,Le(this).attr("data-val"),1))}),e.tap(Le(".mbsc-cal-year-s",W),function(){$e.scrolled||(Y=Ze.getDate(ve,ge,1),Y=Ze.getDate(Le(this).attr("data-val"),Y.getMonth(),1),e.navigate(new Date(m(Y,me,he))))}),e.tap(Tt,function(){$e.scrolled||(E(Tt),A(J),Q=!0)}),e.tap(Ct,function(){ae.scrolled||(E(Ct),A(J),Q=!0)}))},onShow:function(){B&&u(ve,ge)},onPosition:function(t){var a,s,n,i,r,l,o=0,c=0,d=0,u=t.windowHeight;if(tt&&(at&&j.height(""),Ce.height(""),R.width("")),q&&(r=q),B&&(q=Math.round(Math.round(j[0][dt?"offsetHeight":"offsetWidth"])/Ye)),q&&(W.removeClass("mbsc-cal-m mbsc-cal-l"),q>1024?W.addClass("mbsc-cal-l"):q>640&&W.addClass("mbsc-cal-m")),(pt&&(K||tt)||bt)&&(Le(".mbsc-cal-pnl",W).removeClass("mbsc-cal-pnl-h"),Le.each(ze,function(e,t){a=t[0].offsetWidth,o=Math.max(o,a),c=Math.max(c,t[0].offsetHeight),d+=a}),pt||bt&&d>O($)?(s=!0,Te=Le(".mbsc-cal-tabs .mbsc-cal-tab-sel",W).attr("data-control"),P.addClass("mbsc-cal-tabbed")):(Te="calendar",o="",c="",P.removeClass("mbsc-cal-tabbed"),Ce.css({width:"",height:""}))),tt&&at&&B&&(e._isFullScreen=!0,s&&Ce.height(ze.calendar[0].offsetHeight),i=P[0].offsetHeight,u>=i&&j.height(u-i+j[0].offsetHeight),c=Math.max(c,ze.calendar[0].offsetHeight)),s&&(Ce.css({width:tt?"":o,height:c}),B&&(q=Math.round(Math.round(j[0][dt?"offsetHeight":"offsetWidth"])/Ye))),q){if(R[dt?"height":"width"](q),q!==r){if(ht)for(ee=Ze.maxMonthWidth>Le(".mbsc-cal-btnw-m",W).width()?Ze.monthNamesShort:Ze.monthNames,H=0;H<Ye;++H)Le(se[H]).text(ee[Ze.getMonth(Ze.getDate(ve,ge-Fe+H,1))]);ut&&(l=Tt[0][dt?"offsetHeight":"offsetWidth"],Oe($e.settings,{contSize:l,snap:l,minScroll:(2-xe)*l,maxScroll:-l}),Oe(ae.settings,{contSize:l,snap:l,minScroll:-l,maxScroll:-l}),$e.refresh(),ae.refresh(),Tt.hasClass("mbsc-cal-v")&&$e.scroll(je)),tt&&!K&&r&&(n=X/r,X=n*q,G=X),y(ve,ge)}}else q=r;s&&(Le(".mbsc-cal-pnl",W).addClass("mbsc-cal-pnl-h"),ze[Te].removeClass("mbsc-cal-pnl-h")),e.trigger("onCalResize"),K=!1},onHide:function(){Be=[],Ue=[],Te=null,ve=null,ge=null,Me=!0,q=0,te&&te.destroy(),ut&&$e&&ae&&($e.destroy(),ae.destroy())},onValidated:function(t){var a,s,n;if(s=e.getDate(!0),U)a="calendar";else for(n in e.order)n&&e.order[n]===t&&(a=/[mdy]/.test(n)?"date":"time");e.trigger("onSetDate",{date:s,control:a}),v(s),U=!1}}),F};var dt=ne.util,ut=dt.datetime,mt=ut.adjustedDate,ht=ne.presets.scroller,ft={};ne.presetShort("calendar"),ht.calendar=function(e){function t(e){if(e){if(f[e])return f[e];var t=Le('<div style="background-color:'+e+';"></div>').appendTo("body"),a=window.getComputedStyle?getComputedStyle(t[0]):t[0].style,s=a.backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),n=.299*s[0]+.587*s[1]+.114*s[2],i=n>130?"#000":"#fff";return t.remove(),f[e]=i,i}}function a(e){return mt(e.getFullYear(),e.getMonth(),e.getDate())}function s(e){if(w={},e&&e.length)for(c=0;c<e.length;c++)w[a(e[c])]=e[c]}function n(){e.refresh()}var i,r,l,c,u,m,h,f={},p=Oe({},e.settings),b=Oe(e.settings,ft,p),v=b.activeClass||"",g="multiple"==b.select||b.select>1||"week"==b.selectType,y=d(b.select)?b.select:1/0,x=!!b.events,w={};if(h=ht.calbase.call(this,e),i=Oe({},h),l=void 0===b.firstSelectDay?b.firstDay:b.firstSelectDay,g&&b.defaultValue&&b.defaultValue.length)for(c=0;c<b.defaultValue.length;c++)w[a(b.defaultValue[c])]=b.defaultValue[c];return e.onGenMonth=function(t,a){u=e.prepareObj(b.events||b.marked,t,a)},e.getDayProps=function(e){var a,s=g?void 0!==w[e]:void 0,n=!!u[e]&&u[e],i=n&&n[0]&&n[0].text,r=n&&n[0]&&n[0].color,l=x&&i?t(r):"",o="",c="";if(n){for(a=0;a<n.length;a++)n[a].icon&&(o+='<span class="mbsc-ic mbsc-ic-'+n[a].icon+'"'+(n[a].text?"":n[a].color?' style="color:'+n[a].color+';"':"")+"></span>\n");for(c='<div class="mbsc-cal-day-m"><div class="mbsc-cal-day-m-t">',a=0;a<n.length;a++)c+='<div class="mbsc-cal-day-m-c"'+(n[a].color?' style="background:'+n[a].color+';"':"")+"></div>";c+="</div></div>"}return{marked:n,selected:s,cssClass:n?"mbsc-cal-day-marked":"",ariaLabel:x?i:"",markup:x&&i?'<div class="mbsc-cal-day-txt-c"><div class="mbsc-cal-day-txt" title="'+Le("<div>"+i+"</div>").text()+'"'+(r?' style="background:'+r+";color:"+l+';text-shadow:none;"':"")+">"+o+i+"</div></div>":x&&o?'<div class="mbsc-cal-day-ic-c">'+o+"</div>":n?c:""}},e.addValue=function(e){w[a(e)]=e,n()},e.removeValue=function(e){delete w[a(e)],n()},e.setVal=function(t,a,i,r,l){g&&(s(t),t=t?t[0]:null),e._setVal(t,a,i,r,l),n()},e.getVal=function(t){return g?o(w):e.getDate(t)},Oe(h,{highlight:!g,outerMonthChange:!g,parseValue:function(t){var s,n;if(g&&t&&"string"==typeof t){for(w={},t=t.split(","),s=0;s<t.length;s++)n=ut.parseDate(e.format,t[s].replace(/^\s+|\s+$/g,""),b),w[a(n)]=n;t=t[0]}return g&&b.defaultValue&&b.defaultValue.length&&(b.defaultValue=b.defaultValue[0]),i.parseValue.call(this,t)},formatValue:function(t){var a,s=[];if(g){for(a in w)s.push(ut.formatDate(e.format,w[a],b));return s.join(", ")}return i.formatValue.call(this,t)},onClear:function(){g&&(w={},e.refresh())},onBeforeShow:function(){void 0!==b.setOnDayTap||b.buttons&&b.buttons.length||(b.setOnDayTap=!0),b.setOnDayTap&&"inline"!=b.display&&(b.outerMonthChange=!1),b.counter&&g&&(b.headerText=function(){var e=0,t="week"==b.selectType?7:1;return Le.each(w,function(){e++}),e=Math.round(e/t),(e>1?b.selectedPluralText||b.selectedText:b.selectedText).replace(/{count}/,e)})},onMarkupReady:function(e){i.onMarkupReady.call(this,e),r=Le(e.target),g&&(Le(".mbsc-fr-hdr",r).attr("aria-live","off"),m=Oe({},w)),x&&Le(".mbsc-cal",r).addClass("mbsc-cal-ev")},onDayChange:function(t){var s=t.date,i=a(s),c=Le(t.target),d=t.selected;if(g)if("week"==b.selectType){var u,m,h=i.getDay()-l;for(h=h<0?7+h:h,"multiple"!=b.select&&(w={}),u=0;u<7;u++)m=mt(i.getFullYear(),i.getMonth(),i.getDate()-h+u),d?delete w[m]:o(w).length/7<y&&(w[m]=m);n()}else{var f=Le('.mbsc-cal .mbsc-cal-day[data-full="'+c.attr("data-full")+'"]',r);d?(f.removeClass("mbsc-cal-day-sel").removeAttr("aria-selected").find(".mbsc-cal-day-i").removeClass(v),delete w[i]):o(w).length<y&&(f.addClass("mbsc-cal-day-sel").attr("aria-selected","true").find(".mbsc-cal-day-i").addClass(v),w[i]=i)}if(b.setOnDayTap&&"multiple"!=b.select&&"inline"!=b.display)return e.needsSlide=!1,e.setDate(s),e.select(),!1},onCancel:function(){!e.live&&g&&(w=Oe({},m))}}),h};var pt=ne.util,bt=ne.classes,vt=function(e,t,a){function s(e,t,a){if(!a){K._value=K._hasValue?K._tempValue.slice(0):null;for(var s=0;s<x.length;++s)x[s].tempChangedColor&&K._value&&-1!=K._value.indexOf(x[s].tempChangedColor)&&(x[s].changedColor=x[s].tempChangedColor),delete x[s].tempChangedColor}e&&(K._isInput&&G.val(K._hasValue?K._tempValue:""),w("onFill",{valueText:K._hasValue?K._tempValue:"",change:t}),t&&(J=Oe(!0,{},Q),K._preventChange=!0,G.trigger("change")),m(K._value,!0))}function n(e,t){return t=void 0!==t?t:r(e),'<div class="mbsc-color-input-item" data-color="'+(void 0!==t?t:e)+'" style="background: '+e+';">'+($?"":'<div class="mbsc-color-input-item-close mbsc-ic mbsc-ic-material-close"></div>')+"</div>"}function i(e){E[0].style.background=e?Ee+"linear-gradient(left, "+(g.rtl?"#000000":"#FFFFFF")+" 0%, "+e+" 50%, "+(g.rtl?"#FFFFFF":"#000000")+" 100%)":""}function r(e){if(Object.keys(Q).length&&!isNaN(e))return e;for(var t in x)if(e==x[t].color||e==x[t].changedColor)return t}function l(){if(W){var e,t="";if(q.empty(),K._value){if($)t+=n(K._value,P);else for(e=0;e<K._value.length;++e)t+=n(K._value[e],Object.keys(Q).length&&Q[e].colorIndex?Q[e].colorIndex:r(K._value[e]));q.append(t),K.tap(Le(".mbsc-color-input-item",q),function(e){if(Le(e.target).hasClass("mbsc-color-input-item-close")){var t=Le(this).index();e.stopPropagation(),e.preventDefault(),void 0===P&&(P=Le(e.target).parent().attr("data-color")),A&&(Z=x[P].previewInd,U.eq(Z).parent().removeClass("mbsc-color-active"),J[t]={},Q[t]={}),K._value.splice(t,1),K.setVal(K._value,!0,!0)}else H&&"inline"!==g.display&&(P=Le(e.target).attr("data-color"),isNaN(P)&&(P=r(P)),P&&(x[P].selected=!0,Z=x[P].previewInd,setTimeout(function(){_.scroll(X.eq(P),400),A&&C.scroll(U.eq(Z),400)},200)))})}}}function o(e,t){var a,s=e.match(/\d+/gim);switch(!0){case e.indexOf("rgb")>-1:a=k({r:s[0],g:s[1],b:s[2]});break;case e.indexOf("hsl")>-1:a=L({h:s[0],s:s[1],l:s[2]});break;case e.indexOf("hsv")>-1:a=O({h:s[0],s:s[1],v:s[2]});break;case e.indexOf("#")>-1:a=e}return c(a,t||g.format)}function c(e,t){switch(t){case"rgb":return D(e);case"hsl":return I(e);case"hsv":return Y(e);default:return e}}function d(){var e;for(e=0;e<g.select;++e)if(void 0===Q[e].colorIndex)return e}function u(e,t){Le(".mbsc-color-active",t).removeClass("mbsc-color-active"),H&&(e.parent().addClass("mbsc-color-active"),A&&e&&void 0!==Z&&U.eq(Z).parent().addClass("mbsc-color-active"))}function m(e,t){var a,s,n=[],i=0,r=Le.map(x,function(e){return e.changedColor||e.color});if($){if(e=Le.isArray(e)?e[0]:e,s=r.indexOf(e),s>-1&&n.push(s),e&&!n.length){var o=+Le(".mbsc-color-input-item",q).attr("data-color");isNaN(o)||n.push(o),P=o}}else if(e)if(A&&H)for(var c in J)void 0!==J[c].colorIndex&&n.push(+J[c].colorIndex);else for(a=0;a<e.length;++a)(s=r.indexOf(e[a]))>-1&&(n.push(s),r[s]="temp"+a);for(a=0;a<n.length;++a)h(!0,n[a],i++,x[n[a]].changedColor||x[n[a]].color,!0);for(a=0;a<x.length;++a)-1==n.indexOf(a)&&h(!1,a,void 0,x[a].changedColor||x[a].color,!1);if(A)for(a=i;a<g.select;++a)Q[a]={},U&&U.eq(a).addClass("mbsc-color-preview-item-empty").css({background:"transparent"});J=Oe(!0,{},Q),!1!==t&&l()}function h(e,t,a,s,n,i){if(A&&n&&(Q[a].colorIndex=e?t:void 0,Q[a].color=e?s:void 0,U)){var r=U.eq(a);r.removeClass("mbsc-color-preview-item-empty").css({background:e?s:"transparent"}),e||r.addClass("mbsc-color-preview-item-empty").parent().removeClass("mbsc-color-active")}i&&(e?K._tempValue.splice(a,0,s):K._tempValue.splice(K._tempValue.indexOf(s),1)),X&&(e?X.eq(t).addClass("mbsc-color-selected"):X.eq(t).removeClass("mbsc-color-selected").parent().removeClass("mbsc-color-active")),x[t].previewInd=e?a:void 0,x[t].selected=e}function f(e,t){void 0!==e&&($||x[e].selected)?(P=e,M=x[e].changedColor||x[e].color,B=X.eq(e),H&&(u(X.eq(e),t||""),S=o(x[e].color,"hsl"),S.l=o(M,"hsl").l,i(x[e].color),F.setVal(100-S.l,!1,!1))):H&&i()}function p(){var e,t=[];for(e=0;e<x.length;++e)x[e].selected&&t.push(x[e]);return t}function b(e,t){var a=Le(e.target).index();P=Q[a].colorIndex,B=X.eq(P),Z=a,f(P,t),_.scroll(B,250),w("onPreviewItemTap",{target:e.target,value:Q[a].color,index:a})}function v(e,t){var a=!1,s=Le(".mbsc-color-selected",t);if(B=Le(e.target),B.hasClass("mbsc-color-clear-item"))return M="",void K.clear();($||j>+s.length||B.hasClass("mbsc-color-selected"))&&ne.dtdDV&&(P=B.attr("data-index"),A&&(Z=void 0!==x[P].previewInd?x[P].previewInd:d(),a=H&&B.hasClass("mbsc-color-selected")&&!B.parent().hasClass("mbsc-color-active"),U.length>6&&C.scroll(U.eq(Z))),M=x[P].changedColor||x[P].color,$?(s.removeClass("mbsc-color-selected"),K._tempValue=M,M&&B.toggleClass("mbsc-color-selected"),u(B,t)):(u(B,t),a||h(!x[P].selected,P,Z,M,!0,!0)),f(P,t),K.live&&(K._fillValue(),w("onSet",{value:K._value})),w("onItemTap",{target:e.target,value:M,selected:x[P].selected,index:P}))}var g,y,x,w,_,C,T,M,S,V,A,E,H,N,F,P,W,$,j,R,q,X,U,B,z,K=this,G=Le(e),Z=0,J={},Q={};bt.Frame.call(this,e,t,!0),K.setVal=K._setVal=function(e,t,a,n){K._hasValue=null!==e&&void 0!==e,K._tempValue=$?Le.isArray(e)?e[0]:e:Le.isArray(e)?e:[e],s(t,void 0===a?t:a,n)},K.getVal=K._getVal=function(e){return K._hasValue||e?R?p():K[e?"_tempValue":"_value"]:null},K._readValue=function(){var e=G.val()||"";K._hasValue=!1,0!==e.length&&""!==e&&(K._hasValue=!0),K._hasValue?(K._tempValue=$?e:"hex"==g.format?e.split(","):e.match(/[a-z]{3}\((\d+\.?\d{0,}?),\s*([\d.]+)%{0,},\s*([\d.]+)%{0,}\)/gim),s(!0)):K._tempValue=[],m(K._tempValue,K._hasValue)},K._fillValue=function(){K._hasValue=!0,s(!0,!0)},K._generateContent=function(){var e,t,a,s=T?1:0;for(N=V?Math.ceil((x.length+s)/g.rows):g.rows,t='<div class="mbsc-color-scroll-cont mbsc-w-p '+(V?"":"mbsc-color-vertical")+'"><div class="mbsc-color-cont">'+(V?'<div class="mbsc-color-row">':""),e=0;e<x.length;++e)a=x[e].changedColor||x[e].color,T&&0===e&&(t+='<div class="mbsc-color-item-c"><div tabindex="0" class="mbsc-color-clear-item mbsc-btn-e mbsc-color-selected"><div class="mbsc-color-clear-cross"></div></div></div>'),0!==e&&(e+s)%N==0&&(t+=V?'</div><div class="mbsc-color-row">':""),t+='<div class="mbsc-color-item-c"><div tabindex="0" data-index="'+e+'" class="mbsc-color-item mbsc-btn-e mbsc-ic mbsc-ic-material-check mbsc-color-btn-e '+(x[e].selected?"mbsc-color-selected":"")+'"  style="background:'+a+'"></div></div>';if(t+="</div></div>"+(V?"</div>":""),H&&(t+='<div class="mbsc-color-slider-cont"><input class="mbsc-color-slider" type="range" data-highlight="false" value="50" min="0" max="100"/></div>'),A){t+='<div class="mbsc-color-preview-cont"><div class="mbsc-color-refine-preview">';for(var n in J)t+='<div class="mbsc-color-preview-item-c mbsc-btn-e mbsc-color-btn-e" tabindex="0"><div class="mbsc-color-preview-item '+(J[n].color?"":"mbsc-color-preview-item-empty")+'" style="background: '+(J[n].color||"initial")+';"></div></div>';t+="</div></div>"}return t},K._position=function(e){var t,a;V||(t=e.find(".mbsc-color-cont"),a=Math.ceil(t.find(".mbsc-color-item-c")[0].offsetWidth),t.width(Math.min(Math.floor(e.find(".mbsc-fr-c").width()/a),Math.round(x.length/g.rows))*a+1)),_&&_.refresh(),C&&C.refresh()},K._markupInserted=function(e){V||e.find(".mbsc-color-scroll-cont").css("max-height",e.find(".mbsc-color-item-c")[0].offsetHeight*g.rows),_=new bt.ScrollView(e.find(".mbsc-color-scroll-cont")[0],{axis:V?"X":"Y",rtl:g.rtl,elastic:60,stopProp:!1,mousewheel:g.mousewheel,onBtnTap:function(t){v(t,e)}})},K._attachEvents=function(e){var t;X=Le(".mbsc-color-item",e),e.on("keydown",".mbsc-color-btn-e",function(t){t.stopPropagation(),32==t.keyCode&&(t.target.classList.contains("mbsc-color-item")?v(t,e):b(t,e))}),A&&(U=Le(".mbsc-color-preview-item",e)),H&&(e.addClass("mbsc-color-refine"),z=Le(".mbsc-color-slider",e),F=new bt.Slider(z[0],{theme:g.theme,rtl:g.rtl}),E=e.find(".mbsc-progress-track"),P&&K._value&&f(P,e),z.on("change",function(){void 0!==P&&($||x[P].selected)&&(S.l=100-this.value,t=o(S.toString()).toString(),$?K._tempValue=t:K._tempValue[void 0!==Z?Z:K._tempValue.length]=t,x[P].tempChangedColor=t,X.eq(P).css("background",t),A&&(Q[Z].color=t,U.eq(Z).removeClass("mbsc-color-preview-item-empty").css({background:t})),K.live&&throttle(K._fillValue()))})),A&&(C=new bt.ScrollView(e.find(".mbsc-color-preview-cont")[0],{axis:"X",rtl:g.rtl,mousewheel:g.mousewheel,onBtnTap:function(t){b(t,e)}}))},K._detachEvents=function(){_.destroy(),F&&F.destroy(),C&&C.destroy()},K.__processSettings=function(){var t,a;if(g=K.settings,w=K.trigger,V="horizontal"==g.navigation,K._value=[],K._tempValue=[],$="single"==g.select,T=void 0!==g.clear?g.clear:$,a=g.data||[],!a.length)switch(g.format){case"rgb":a=["rgb(255,235,60)","rgb(255,153,0)","rgb(244,68,55)","rgb(234,30,99)","rgb(156,38,176)","rgb(104,58,183)","rgb(63,81,181)","rgb(33,150,243)","rgb(0,151,136)","rgb(75,175,79)","rgb(126,93,78)","rgb(158,158,158)"],T&&a.splice(10,0,"rgb(83, 71, 65)");break;case"hsl":a=["hsl(54,100%,62%)","hsl(36,100%,50%)","hsl(4,90%,59%)","hsl(340,83%,52%)","hsl(291,64%,42%)","hsl(262,52%,47%)","hsl(231,48%,48%)","hsl(207,90%,54%)","hsl(174,100%,30%)","hsl(122,40%,49%)","hsl(19,24%,40%)","hsl(0,0%,62%)"],T&&a.splice(10,0,"hsl(20, 12%, 29%)");break;default:a=["#ffeb3c","#ff9900","#f44437","#ea1e63","#9c26b0","#683ab7","#3f51b5","#2196f3","#009788","#4baf4f","#7e5d4e","#9e9e9e"],T&&a.splice(10,0,"#534741")}if(H="refine"==g.mode,A=!isNaN(g.select),j=isNaN(g.select)?$?2:a.length:g.select,R=Le.isPlainObject(a[0]),A&&!Object.keys(J).length)for(t=0;t<g.select;++t)J[t]={},Q[t]={};if(!x)for(x=a.slice(0),t=0;t<x.length;++t)Le.isPlainObject(a[t])?x[t].color=a[t].color:(a[t]=a[t].toLowerCase(),x[t]={key:t,name:a[t],color:a[t]});y=g.defaultValue||x[0].color,M=y,S=o(M,"hsl"),(W=g.enhance&&G.is("input"))&&(G.hasClass("mbsc-color-input-hdn")?q=G.prev():(q=Le("<div "+(e.placeholder?'data-placeholder="'+e.placeholder+'"':"")+' class="mbsc-control mbsc-color-input '+(g.inputClass||"")+'" readonly ></div>'),q.insertBefore(G),G.addClass("mbsc-color-input-hdn").attr("tabindex",-1)),g.anchor=q,K.attachShow(q))},K.__init=function(){g.cssClass=(g.cssClass||"")+" mbsc-color"},K.__destroy=function(){W&&(G.removeClass("mbsc-color-input-hdn"),q.remove())},a||K.init(t)};vt.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"color",_defaults:Oe({},bt.Frame.prototype._defaults,{headerText:!1,validate:l,parseValue:l,enhance:!0,rows:2,select:"single",format:"hex",navigation:"horizontal"})},ne.classes.Color=vt,ne.themes.color=ne.themes.frame,ne.presetShort("color","Color",!1),pt.color={hsv2hex:O,hsv2rgb:S,rgb2hsv:V,rgb2hex:k,rgb2hsl:A,hex2rgb:D,hex2hsv:Y,hex2hsl:I};var gt=ne.util,yt=gt.datetime,xt=yt.adjustedDate,wt=ne.presets.scroller,_t={labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs"],eventText:"event",eventsText:"events"};ne.presetShort("eventcalendar"),wt.eventcalendar=function(e){function t(e){if(e){if(x[e])return x[e];var t=Le('<div style="background-color:'+e+';"></div>').appendTo("body"),a=window.getComputedStyle?getComputedStyle(t[0]):t[0].style,s=a.backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),n=.299*s[0]+.587*s[1]+.114*s[2],i=n>130?"#000":"#fff";return t.remove(),x[e]=i,i}}function a(e){var t=_.labelsShort,a=Math.abs(e)/1e3,s=a/60,n=s/60,i=n/24,r=i/365;return a<45&&Math.round(a)+" "+t[5].toLowerCase()||s<45&&Math.round(s)+" "+t[4].toLowerCase()||n<24&&Math.round(n)+" "+t[3].toLowerCase()||i<30&&Math.round(i)+" "+t[2].toLowerCase()||i<365&&Math.round(i/30)+" "+t[1].toLowerCase()||Math.round(r)+" "+t[0].toLowerCase()}function s(e){return e.sort(function(e,t){var a=e.d||e.start,s=t.d||t.start;return(a.getTime?e.start&&e.end&&e.start.toDateString()!==e.end.toDateString()?1:a.getTime():0)-(s.getTime?t.start&&t.end&&t.start.toDateString()!==t.end.toDateString()?1:s.getTime():0)})}function n(e){var t,a=Le(".mbsc-cal-c",d)[0].offsetHeight,s=e[0].offsetHeight,n=e[0].offsetWidth,i=e.offset().top-Le(".mbsc-cal-c",d).offset().top,r=e.closest(".mbsc-cal-row").index()<2;t=u.addClass("mbsc-cal-events-t").css({top:r?i+s:"0",bottom:r?"0":a-i}).addClass("mbsc-cal-events-v").height(),u.css(r?"bottom":"top","auto").removeClass("mbsc-cal-events-t"),p.css("max-height",t),f.refresh(),f.scroll(0),r?u.addClass("mbsc-cal-events-b"):u.removeClass("mbsc-cal-events-b"),Le(".mbsc-cal-events-arr",u).css("left",e.offset().left-u.offset().left+n/2)}function i(t,i){var r=h[t];if(r){var l,o,c,d,p,g='<ul class="mbsc-cal-event-list">';m=i,i.addClass(C).find(".mbsc-cal-day-i").addClass(M),i.hasClass(T)&&i.attr("data-hl","true").removeClass(T),s(r),Le.each(r,function(e,t){d=t.d||t.start,p=t.start&&t.end&&t.start.toDateString()!==t.end.toDateString(),c=t.color,l="",o="",d.getTime&&(l=yt.formatDate((p?"MM d yy ":"")+_.timeFormat,d)),t.end&&(o=yt.formatDate((p?"MM d yy ":"")+_.timeFormat,t.end)),g+='<li role="button" aria-label="'+t.text+(l?", "+_.fromText+" "+l:"")+(o?", "+_.toText+" "+o:"")+'" class="mbsc-cal-event"><div class="mbsc-cal-event-color" style="'+(c?"background:"+c+";":"")+'"></div><div class="mbsc-cal-event-text">'+(d.getTime&&!p?'<div class="mbsc-cal-event-time">'+yt.formatDate(_.timeFormat,d)+"</div>":"")+t.text+"</div>"+(t.start&&t.end?'<div class="mbsc-cal-event-dur">'+a(t.end-t.start)+"</div>":"")+"</li>"}),g+="</ul>",b.html(g),e.trigger("onEventBubbleShow",{target:m[0],eventList:u[0]}),n(m),e.tap(Le(".mbsc-cal-event",b),function(a){f.scrolled||e.trigger("onEventSelect",{domEvent:a,event:r[Le(this).index()],date:t})}),v=!0}}function r(){u&&u.removeClass("mbsc-cal-events-v"),m&&(m.removeClass(C).find(".mbsc-cal-day-i").removeClass(M),m.attr("data-hl")&&m.removeAttr("data-hl").addClass(T)),v=!1}function l(){r(),e.redraw()}function o(e){return xt(e.getFullYear(),e.getMonth(),e.getDate())}var c,d,u,m,h,f,p,b,v,g,y,x={},w=Oe({},e.settings),_=Oe(e.settings,_t,w),C="mbsc-cal-day-sel mbsc-cal-day-ev",T="mbsc-cal-day-hl",M=_.activeClass||"",k=_.showEventCount,D=0,S=Oe(!0,[],_.data);return g=wt.calbase.call(this,e),c=Oe({},g),Le.each(S,function(e,t){void 0===t._id&&(t._id=D++)}),e.onGenMonth=function(t,a){h=e.prepareObj(S,t,a)},e.getDayProps=function(e){var a,s=!!h[e]&&h[e],n=s?h[e].length+" "+(h[e].length>1?_.eventsText:_.eventText):0,i=s&&s[0]&&s[0].color,r=k&&n?t(i):"",l="",o="";if(s){for(a=0;a<s.length;a++)s[a].icon&&(l+='<span class="mbsc-ic mbsc-ic-'+s[a].icon+'"'+(s[a].text?"":s[a].color?' style="color:'+s[a].color+';"':"")+"></span>\n");for(o='<div class="mbsc-cal-day-m"><div class="mbsc-cal-day-m-t">',a=0;a<s.length;a++)o+='<div class="mbsc-cal-day-m-c"'+(s[a].color?' style="background:'+s[a].color+';"':"")+"></div>";o+="</div></div>"}return{marked:s,selected:!1,cssClass:s?"mbsc-cal-day-marked":"",ariaLabel:k?n:"",markup:k&&n?'<div class="mbsc-cal-day-txt-c"><div class="mbsc-cal-day-txt" title="'+Le("<div>"+n+"</div>").text()+'"'+(i?' style="background:'+i+";color:"+r+';text-shadow:none;"':"")+">"+l+n+"</div></div>":k&&l?'<div class="mbsc-cal-day-ic-c">'+l+"</div>":s?o:""}},e.addEvent=function(e){var t=[];return e=Oe(!0,[],Le.isArray(e)?e:[e]),Le.each(e,function(e,a){void 0===a._id&&(a._id=D++),S.push(a),t.push(a._id)}),l(),t},e.removeEvent=function(e){e=Le.isArray(e)?e:[e],Le.each(e,function(e,t){Le.each(S,function(e,a){if(a._id===t)return S.splice(e,1),!1})}),l()},e.getEvents=function(t){var a;return t?(t.setHours(0,0,0,0),a=e.prepareObj(S,t.getFullYear(),t.getMonth()),a[t]?s(a[t]):[]):Oe(!0,[],S)},e.setEvents=function(e){var t=[];return S=Oe(!0,[],e),Le.each(S,function(e,a){void 0===a._id&&(a._id=D++),t.push(a._id)}),l(),t},Oe(g,{highlight:!1,outerMonthChange:!1,headerText:!1,buttons:"inline"!==_.display?["close"]:_.buttons,onMarkupReady:function(t){c.onMarkupReady.call(this,t),d=Le(t.target),k&&Le(".mbsc-cal",d).addClass("mbsc-cal-ev"),d.addClass("mbsc-cal-em"),u=Le('<div class="mbsc-cal-events '+(_.eventBubbleClass||"")+'"><div class="mbsc-cal-events-arr"></div><div class="mbsc-cal-events-i"><div class="mbsc-cal-events-sc"></div></div></div>').appendTo(Le(".mbsc-cal-c",d)),p=Le(".mbsc-cal-events-i",u),b=Le(".mbsc-cal-events-sc",u),f=new ne.classes.ScrollView(p[0]),v=!1,e.tap(p,function(){f.scrolled||r()})},onMonthChange:function(){r()},onSelectShow:function(){r()},onMonthLoaded:function(){y&&(i(y.d,Le('.mbsc-cal-day-v[data-full="'+y.full+'"]:not(.mbsc-cal-day-diff)',d)),y=!1)},onDayChange:function(t){var a=t.date,s=o(a),n=Le(t.target);return r(),n.hasClass("mbsc-cal-day-ev")||setTimeout(function(){e.changing?y={d:s,full:n.attr("data-full")}:i(s,n)},10),!1},onCalResize:function(){v&&n(m)},onHide:function(){c.onHide.call(e),f&&f.destroy()}}),g};var Ct={inputClass:"",values:5,order:"desc",style:"icon",invalid:[],icon:{filled:"star3",empty:"star3"}};ne.presetShort("rating"),ne.presets.scroller.rating=function(e){var t,a,s,n,i,r,l,o,c,u,m=Oe({},e.settings),h=Oe(e.settings,Ct,m),f=Le(this),p=this.id+"_dummy",b=Le('label[for="'+this.id+'"]').attr("for",p),v=void 0!==h.label?h.label:b.length?b.text():f.attr("name"),g=h.defaultValue,y=[[]],x={data:[],label:v,circular:!1},w={},_=[],C=!1,T="grade"===h.style?"circle":"icon";if(f.is("select")&&(h.values={},Le("option",f).each(function(){h.values[Le(this).val()]=Le(this).text()}),Le("#"+p).remove()),Le.isArray(h.values))for(a=0;a<h.values.length;a++)o=+h.values[a],isNaN(o)&&(o=a+1,C=!0),_.push({order:o,key:h.values[a],value:h.values[a]});else if(Le.isPlainObject(h.values)){a=1,C=!0;for(c in h.values)o=+c,isNaN(o)&&(o=a),_.push({order:o,key:c,value:h.values[c]}),a++}else for(a=1;a<=h.values;a++)_.push({order:a,key:a,value:a});for(void 0===h.showText&&C&&(h.showText=!0),void 0===h.icon.empty&&(h.icon.empty=h.icon.filled),_.sort(function(e,t){return"desc"==h.order?t.order-e.order:e.order-t.order}),u="desc"==h.order?_[0].order:_[_.length-1].order,a=0;a<_.length;a++){for(l=_[a].order,i=_[a].key,r=_[a].value,n="",s=1;s<l+1;s++)n+='<span class="mbsc-rating-'+T+("circle"===T?"":" mbsc-ic mbsc-ic-"+h.icon.filled)+' ">'+("circle"==T?s:" ")+"</span>";for(s=l+1;s<=u;s++)n+='<span class="mbsc-rating-'+T+("circle"===T?" mbsc-rating-circle-unf":" mbsc-ic mbsc-ic-"+(h.icon.empty?h.icon.empty+" mbsc-rating-icon-unf":"")+(h.icon.empty===h.icon.filled?" mbsc-rating-icon-same":""))+'"></span>';void 0===g&&(g=i),n+=h.showText?'<span class="mbsc-rating-txt">'+r+"</span>":"",x.data.push({value:i,display:n,label:r}),w[i]=r}return f.is("select")&&(t=Le('<input type="text" id="'+p+'" value="'+w[f.val()]+'" class="'+h.inputClass+'" placeholder="'+(h.placeholder||"")+'" readonly />').insertBefore(f)),y[0].push(x),t&&e.attachShow(t),f.is("select")&&f.hide().closest(".ui-field-contain").trigger("create"),e.getVal=function(t){var a=e._hasValue?e[t?"_tempWheelArray":"_wheelArray"][0]:null;return d(a)?+a:a},{anchor:t,wheels:y,headerText:!1,compClass:"mbsc-rating",setOnTap:!0,formatValue:function(e){return w[e[0]]},parseValue:function(e){var a;for(a in w)if(t&&a==e||!t&&w[a]==e)return[a];return[g]},validate:function(){return{disabled:[h.invalid]}},onFill:function(a){t&&(t.val(a.valueText),f.val(e._tempWheelArray[0]))},onDestroy:function(){t&&t.remove(),f.show()}}};var Tt=ne.presets.scroller,Mt=ne.util.datetime,kt={autoCorrect:!0,showSelector:!0,minRange:1,rangeTap:!0,fromText:"Start",toText:"End"};ne.presetShort("range"),Tt.range=function(e){function t(e,t){e&&(e.setFullYear(t.getFullYear()),e.setMonth(t.getMonth()),e.setDate(t.getDate()))}function a(t){e._startDate=D=g,e._endDate=S=w,I.startInput&&(Le(I.startInput).val(b),t&&Le(I.startInput).trigger("change")),I.endInput&&(Le(I.endInput).val(v),t&&Le(I.endInput).trigger("change"))}function s(e,t){var a=!0;return e&&g&&w&&(w-g>I.maxRange-1&&(V?g=new Date(w-I.maxRange+1):w=new Date(+g+I.maxRange-1)),w-g<I.minRange-1&&(V?g=new Date(w-I.minRange+1):w=new Date(+g+I.minRange-1))),g&&w||(a=!1),t&&l(),a}function n(){return g&&w?Math.max(1,Math.round((new Date(w).setHours(0,0,0,0)-new Date(g).setHours(0,0,0,0))/864e5)+1):0}function i(e){e.addClass("mbsc-range-btn-sel").attr("aria-checked","true").find(".mbsc-range-btn").addClass(Y)}function r(){k&&d&&(Le(".mbsc-range-btn-c",d).removeClass("mbsc-range-btn-sel").removeAttr("aria-checked").find(".mbsc-range-btn",d).removeClass(Y),i(Le(".mbsc-range-btn-c",d).eq(V)))}function l(){var e,t,a,s,n,i=0,r=O||!V?" mbsc-cal-day-hl mbsc-cal-sel-start":" mbsc-cal-sel-start",l=O||V?" mbsc-cal-day-hl mbsc-cal-sel-end":" mbsc-cal-sel-end";if(b=g?Mt.formatDate(m,g,I):"",v=w?Mt.formatDate(m,w,I):"",d&&(Le(".mbsc-range-btn-v-start",d).html(b||"&nbsp;"),Le(".mbsc-range-btn-v-end",d).html(v||"&nbsp;"),e=g?new Date(g):null,a=w?new Date(w):null,!e&&a&&(e=new Date(a)),!a&&e&&(a=new Date(e)),n=V?a:e,Le(".mbsc-cal-table .mbsc-cal-day-sel .mbsc-cal-day-i",d).removeClass(Y),Le(".mbsc-cal-table .mbsc-cal-day-hl",d).removeClass(N),Le(".mbsc-cal-table .mbsc-cal-day-sel",d).removeClass("mbsc-cal-day-sel mbsc-cal-sel-start mbsc-cal-sel-end").removeAttr("aria-selected"),e&&a))for(t=e.setHours(0,0,0,0),s=a.setHours(0,0,0,0);a>=e&&i<84;)Le('.mbsc-cal-day[data-full="'+n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()+'"]',d).addClass("mbsc-cal-day-sel"+(n.getTime()===t?r:"")+(n.getTime()===s?l:"")).attr("aria-selected","true").find(".mbsc-cal-day-i ").addClass(Y),n.setDate(n.getDate()+(V?-1:1)),i++}function o(e,t){return{h:e?e.getHours():t?23:0,i:e?e.getMinutes():t?59:0,s:e?e.getSeconds():t?59:0}}var c,d,u,m,h,f,p,b,v,g,y,w,_,C,T,M,k,D=e._startDate,S=e._endDate,V=0,A=new Date,E=Oe({},e.settings),I=Oe(e.settings,kt,E),L=I.anchor,O=I.rangeTap,Y=I.activeClass||"",H="mbsc-fr-btn-d "+(I.disabledClass||""),N="mbsc-cal-day-hl",F=null===I.defaultValue?[]:I.defaultValue||[new Date(A.setHours(0,0,0,0)),new Date(A.getFullYear(),A.getMonth(),A.getDate()+6,23,59,59,999)];return O&&(I.tabs=!0),h=Tt.calbase.call(this,e),c=Oe({},h),m=e.format,
C="time"===I.controls.join(""),k=1!=I.controls.length||"calendar"!=I.controls[0]||I.showSelector,I.startInput&&(T=Le(I.startInput).prop("readonly"),e.attachShow(Le(I.startInput).prop("readonly",!0),function(){V=0,I.anchor=L||Le(I.startInput)})),I.endInput&&(M=Le(I.endInput).prop("readonly"),e.attachShow(Le(I.endInput).prop("readonly",!0),function(){V=1,I.anchor=L||Le(I.endInput)})),e.setVal=function(t,a,s,n,i){var r=t||[],l=t;(void 0===r[0]||null===r[0]||r[0].getTime)&&(p=!0,g=r[0]||null,b=g?Mt.formatDate(m,g,I):"",V||(l=c.parseValue(b,e))),(void 0===r[1]||null===r[1]||r[1].getTime)&&(p=!0,w=r[1]||null,v=w?Mt.formatDate(m,w,I):"",V&&(l=c.parseValue(v,e))),n||(e._startDate=D=g,e._endDate=S=w),e._setVal(l,a,s,n,i)},e.getVal=function(t){return t?[g,w]:e._hasValue?[D,S]:null},e.getDayProps=function(e){var t=g?new Date(g.getFullYear(),g.getMonth(),g.getDate()):null,a=w?new Date(w.getFullYear(),w.getMonth(),w.getDate()):null;return{selected:t&&a&&e>=t&&e<=w,cssClass:((O||!V)&&t&&t.getTime()===e.getTime()||(O||V)&&a&&a.getTime()===e.getTime()?N:"")+(t&&t.getTime()===e.getTime()?" mbsc-cal-sel-start":"")+(a&&a.getTime()===e.getTime()?" mbsc-cal-sel-end":"")}},e.setActiveDate=function(t){var a;V="start"==t?0:1,a="start"==t?g:w,e.isVisible()&&(r(),O||(Le(".mbsc-cal-table .mbsc-cal-day-hl",d).removeClass(N),a&&Le('.mbsc-cal-day[data-full="'+a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate()+'"]',d).addClass(N)),a&&(f=!0,e.setDate(a,!1,1e3,!0)))},e.getValue=e.getVal,Oe(h,{highlight:!1,outerMonthChange:!1,formatValue:function(){return b+(I.endInput?"":v?" - "+v:"")},parseValue:function(t){var a=t?t.split(" - "):[];return I.defaultValue=F[1],S=I.endInput?Le(I.endInput).val()?Mt.parseDate(m,Le(I.endInput).val(),I):F[1]:a[1]?Mt.parseDate(m,a[1],I):F[1],I.defaultValue=F[0],D=I.startInput?Le(I.startInput).val()?Mt.parseDate(m,Le(I.startInput).val(),I):F[0]:a[0]?Mt.parseDate(m,a[0],I):F[0],I.defaultValue=F[V],b=D?Mt.formatDate(m,D,I):"",v=S?Mt.formatDate(m,S,I):"",e._startDate=D,e._endDate=S,c.parseValue(V?v:b,e)},onFill:function(e){a(e.change)},onBeforeClose:function(t){if("set"===t.button&&!s(!0,!0))return e.setActiveDate(V?"start":"end"),!1},onHide:function(){c.onHide.call(e),V=0,d=null,I.anchor=L},onClear:function(){O&&(V=0)},onBeforeShow:function(){I.headerText=!1,g=D||F[0],w=S||F[1],y=o(g,0),_=o(w,1),I.counter&&(I.headerText=function(){var e=n();return(e>1?I.selectedPluralText||I.selectedText:I.selectedText).replace(/{count}/,e)}),p=!0},onMarkupReady:function(t){var a;g&&(f=!0,e.setDate(g,!1,0,!0),g=e.getDate(!0)),w&&(f=!0,e.setDate(w,!1,0,!0),w=e.getDate(!0)),(V&&w||!V&&g)&&(f=!0,e.setDate(V?w:g,!1,0,!0)),l(),c.onMarkupReady.call(this,t),d=Le(t.target),d.addClass("mbsc-range"),k&&(a='<div class="mbsc-range-btn-t" role="radiogroup"><div class="mbsc-range-btn-c mbsc-range-btn-start"><div role="radio" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+I.fromText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-start">'+(b||"&nbsp;")+'</div></div></div><div class="mbsc-range-btn-c mbsc-range-btn-end"><div role="radio" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+I.toText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-end">'+(v||"&nbsp;")+"</div></div></div></div>",Le(".mbsc-cal-tabs",d).before(a),r()),Le(".mbsc-range-btn-c",d).on("touchstart click",function(t){x(t,this)&&(e.showMonthView(),e.setActiveDate(Le(this).index()?"end":"start"))})},onDayChange:function(e){e.active=V?"end":"start",u=!0},onSetDate:function(a){var n=a.date,i=e.order;f||(void 0===i.h&&n.setHours(V?23:0),void 0===i.i&&n.setMinutes(V?59:0),void 0===i.s&&n.setSeconds(V?59:0),n.setMilliseconds(V?999:0),p&&!u||(O&&u&&(1==V&&n<g&&(V=0),V?n.setHours(_.h,_.i,_.s,999):n.setHours(y.h,y.i,y.s,0)),V?(w=new Date(n),_=o(w)):(g=new Date(n),y=o(g)),C&&I.autoCorrect&&(t(g,n),t(w,n)),O&&u&&!V&&(w=null))),C&&!I.autoCorrect&&w<g&&(w=new Date(w.setDate(w.getDate()+1))),e._isValid=s(p||u||I.autoCorrect,!f),a.active=V?"end":"start",!f&&O&&(u&&(V=V?0:1),r()),e.isVisible()&&(e._isValid?Le(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).removeClass(H):Le(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).addClass(H)),u=!1,p=!1,f=!1},onTabChange:function(t){"calendar"!=t.tab&&e.setDate(V?w:g,!1,1e3,!0),s(!0,!0)},onDestroy:function(){Le(I.startInput).prop("readonly",T),Le(I.endInput).prop("readonly",M)}}),h};var Dt=ne.presets.numpad,St=function(e,t,a){function s(t){var a,s=w.validate.call(e,{values:E.slice(0),variables:W},N)||[],i=s&&s.disabled||[];if(N._isValid=!s.invalid,N._tempValue=w.formatValue.call(e,E.slice(0),W,N),y=E.length,I=s.length||O,N._isVisible&&ne.dtdDV){if(Le(".mbsc-np-ph",p).each(function(e){Le(this).html("ltr"==w.fill?e>=y?g:_||E[e]:e>=O-I?e+y<O?g:_||E[e+y-O]:"")}),Le(".mbsc-np-cph",p).each(function(){Le(this).html(W[Le(this).attr("data-var")]||Le(this).attr("data-ph"))}),y===O)for(a=0;a<=9;a++)i.push(a);for(Le(".mbsc-np-btn",p).removeClass(v),a=0;a<i.length;a++)Le('.mbsc-np-btn[data-val="'+i[a]+'"]',p).addClass(v);N._isValid?Le(".mbsc-fr-btn-s .mbsc-fr-btn",p).removeClass(v):Le(".mbsc-fr-btn-s .mbsc-fr-btn",p).addClass(v),N.live&&(N._hasValue=t||N._hasValue,n(t,!1,t),t&&L("onSet",{valueText:N._value}))}}function n(e,t,a,n){t&&s(),n||(Y=E.slice(0),$=Oe({},W),F=P.slice(0),N._value=N._hasValue?N._tempValue:null),e&&(N._isInput&&H.val(N._hasValue&&N._isValid?N._value:""),L("onFill",{valueText:N._hasValue?N._tempValue:"",change:a}),a&&(N._preventChange=!0,H.trigger("change")))}function i(e){var t,a,s=e||[],n=[];for(P=[],W={},t=0;t<s.length;t++)/:/.test(s[t])?(a=s[t].split(":"),W[a[0]]=a[1],P.push(a[0])):(n.push(s[t]),P.push("digit"));return n}function r(e,t){!(y||t||w.allowLeadingZero)||e.hasClass("mbsc-fr-btn-d")||e.hasClass("mbsc-np-btn-empty")||y<O&&ne.dtdDV&&(P.push("digit"),E.push(t),s(!0))}function l(e){var t,a,n=e.attr("data-val"),i="false"!==e.attr("data-track"),r=e.attr("data-var");if(!e.hasClass("mbsc-fr-btn-d")){if(r&&(a=r.split(":"),i&&P.push(a[0]),W[a[0]]=void 0===a[2]?a[1]:W[a[0]]==a[1]?a[2]:a[1]),n.length+y<=I)for(t=0;t<n.length;++t)a=d(n[t])?+n[t]:n[t],(w.allowLeadingZero||y||a)&&(P.push("digit"),E.push(a),y=E.length);s(!0)}}function o(){var e,t,a=P.pop();if(y||"digit"!==a){if("digit"!==a&&W[a])for(delete W[a],t=P.slice(0),P=[],e=0;e<t.length;e++)t[e]!==a&&P.push(t[e]);else E.pop();s(!0)}}function c(e){V=!0,C=b(e,"X"),T=b(e,"Y"),clearInterval(A),clearTimeout(A),o(),A=setInterval(function(){o()},150)}function u(){clearInterval(A),V=!1}function m(e){if(x(e,this)){if("keydown"==e.type&&32!=e.keyCode)return;c(e),"mousedown"==e.type&&Le(document).on("mousemove",h).on("mouseup",f)}}function h(e){V&&(M=b(e,"X"),k=b(e,"Y"),D=M-C,S=k-T,(Math.abs(D)>7||Math.abs(S)>7)&&u())}function f(e){V&&(e.preventDefault(),u(),"mouseup"==e.type&&Le(document).off("mousemove",h).off("mouseup",f))}var p,v,g,y,w,_,C,T,M,k,D,S,V,A,E,I,L,O,Y,H=Le(e),N=this,F=[],P=[],W={},$={},j={107:"+",109:"-"},R={48:0,49:1,50:2,51:3,52:4,53:5,54:6,55:7,56:8,57:9,96:0,97:1,98:2,99:3,100:4,101:5,102:6,103:7,104:8,105:9};Xe.call(this,e,t,!0),N.setVal=N._setVal=function(t,a,s,r){N._hasValue=null!==t&&void 0!==t,E=i(Le.isArray(t)?t.slice(0):w.parseValue.call(e,t,N)),n(a,!0,void 0===s?a:s,r)},N.getVal=N._getVal=function(e){return N._hasValue||e?N[e?"_tempValue":"_value"]:null},N.setArrayVal=N.setVal,N.getArrayVal=function(e){return e?E.slice(0):N._hasValue?Y.slice(0):null},N._readValue=function(){var t=H.val()||"";""!==t&&(N._hasValue=!0),_?(W={},P=[],E=[]):(W=N._hasValue?$:{},P=N._hasValue?F:[],E=N._hasValue&&Y?Y.slice(0):i(w.parseValue.call(e,t,N)),n(!1,!0))},N._fillValue=function(){N._hasValue=!0,n(!0,!1,!0)},N._generateContent=function(){var e,t,a,s=1,n="",i="";for(i+='<div class="mbsc-np-hdr"><div role="button" tabindex="0" aria-label="'+w.deleteText+'" class="mbsc-np-del mbsc-fr-btn-e mbsc-ic mbsc-ic-'+w.deleteIcon+'"></div><div class="mbsc-np-dsp">',n=w.template.replace(/d/g,'<span class="mbsc-np-ph">'+g+"</span>").replace(/&#100;/g,"d"),n=n.replace(/{([a-zA-Z0-9]*)\:?([a-zA-Z0-9\-\_]*)}/g,'<span class="mbsc-np-cph" data-var="$1" data-ph="$2">$2</span>'),i+=n,i+="</div></div>",i+='<div class="mbsc-np-tbl-c mbsc-w-p"><div class="mbsc-np-tbl">',e=0;e<4;e++){for(i+='<div class="mbsc-np-row">',t=0;t<3;t++)a=s,10==s||12==s?a="":11==s&&(a=0),""===a?10==s&&w.leftKey?i+='<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(w.leftKey.variable?'data-var="'+w.leftKey.variable+'"':"")+' data-val="'+(w.leftKey.value||"")+'" '+(void 0!==w.leftKey.track?' data-track="'+w.leftKey.track+'"':"")+">"+w.leftKey.text+"</div>":12==s&&w.rightKey?i+='<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(w.rightKey.variable?'data-var="'+w.rightKey.variable+'"':"")+' data-val="'+(w.rightKey.value||"")+'" '+(void 0!==w.rightKey.track?' data-track="'+w.rightKey.track+'"':"")+" >"+w.rightKey.text+"</div>":i+='<div class="mbsc-np-btn mbsc-np-btn-empty"></div>':i+='<div tabindex="0" role="button" class="mbsc-np-btn mbsc-fr-btn-e" data-val="'+a+'">'+a+"</div>",s++;i+="</div>"}return i+="</div></div>"},N._markupReady=function(){p=N._markup,s()},N._attachEvents=function(e){e.on("keydown",function(t){var a;void 0!==j[t.keyCode]?(a=Le('.mbsc-np-btn[data-var="sign:-:"]',e),a.length&&(W.sign=107==t.keyCode?"-":"",l(a))):void 0!==R[t.keyCode]?r(Le('.mbsc-np-btn[data-val="'+R[t.keyCode]+'"]',e),R[t.keyCode]):8==t.keyCode&&(t.preventDefault(),o())}),N.tap(Le(".mbsc-np-btn",e),function(){var e=Le(this);e.hasClass("mbsc-np-btn-custom")?l(e):r(e,+e.attr("data-val"))},!1,30,!0),Le(".mbsc-np-del",e).on("touchstart mousedown keydown",m).on("touchmove mousemove",h).on("touchend mouseup keyup",f)},N.__init=function(){w=N.settings,w.cssClass=(w.cssClass||"")+" mbsc-np",w.template=w.template.replace(/\\d/,"&#100;"),g=w.placeholder,O=(w.template.match(/d/g)||[]).length,v="mbsc-fr-btn-d "+(w.disabledClass||""),_=w.mask,L=N.trigger,_&&H.is("input")&&H.attr("type","password")},N._indexOf=function(e,t){var a;for(a=0;a<e.length;++a)if(e[a].toString()===t.toString())return a;return-1},a||N.init(t)};St.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_hasPreset:!0,_class:"numpad",_defaults:Oe({},Xe.prototype._defaults,{template:"dd.dd",placeholder:"0",deleteIcon:"backspace",allowLeadingZero:!1,headerText:!1,fill:"rtl",deleteText:"Delete",decimalSeparator:".",thousandsSeparator:",",validate:l,parseValue:l,formatValue:function(e,t,a){var s,n=1,i=a.settings,r=i.placeholder,l=i.template,o=e.length,c=l.length,d="";for(s=0;s<c;s++)"d"==l[c-s-1]?(d=n<=o?e[o-n]+d:r+d,n++):d=l[c-s-1]+d;return Le.each(t,function(e,t){d=d.replace("{"+e+"}",t)}),Le("<div>"+d+"</div>").text()}})},ne.classes.Numpad=St,ne.themes.numpad=ne.themes.frame,ne.presetShort("numpad","Numpad",!1);var Vt={min:0,max:99.99,scale:2,prefix:"",suffix:"",returnAffix:!1};Dt.decimal=function(e){function t(e,t){for(var a,s=e.slice(0),i=0;s.length;)i=10*i+s.shift();for(a=0;a<n.scale;a++)i/=10;return t?-1*i:i}function a(e){return t(e).toFixed(n.scale).replace(".",n.decimalSeparator).replace(/\B(?=(\d{3})+(?!\d))/g,n.thousandsSeparator)}var s=Oe({},e.settings),n=Oe(e.settings,Vt,s),i=n.min<0;return e.getVal=function(t){var a=e._getVal(t),s=(a+"").replace(n.decimalSeparator,".").replace(n.thousandsSeparator,"");return d(s)?+s:a},{template:(i?"{sign}":"")+n.prefix.replace(/d/g,"\\d")+Array((Math.floor(Math.max(n.max,Math.abs(n.min)))+"").length+1).join("d")+(n.scale?"."+Array(n.scale+1).join("d"):"")+n.suffix.replace(/d/g,"\\d"),leftKey:i?{text:"-/+",variable:"sign:-:",track:!1}:void 0,parseValue:function(e){var t,a,s=e||n.defaultValue,i=[];if(s&&(s=(s+"").replace(n.decimalSeparator,".").replace(n.thousandsSeparator,""),a=s.match(/\d+\.?\d*/g)))for(a=(+a[0]).toFixed(n.scale),t=0;t<a.length;t++)"."!=a[t]&&(+a[t]?i.push(+a[t]):i.length&&i.push(0));return e<0&&i.push("sign:-"),i},formatValue:function(e,s){var i=a(e);return(t(e,s&&"-"==s.sign)<0?"-":"")+(n.returnAffix?n.prefix+i+n.suffix:i)},validate:function(s){var i=s.values,r=a(i),l=t(i,s.variables&&"-"==s.variables.sign),o=[];return i.length||n.allowLeadingZero||o.push(0),e.isVisible()&&Le(".mbsc-np-dsp",e._markup).html((s.variables.sign||"")+n.prefix+r+n.suffix),{disabled:o,invalid:l>n.max||l<n.min||!!n.invalid&&-1!=e._indexOf(n.invalid,l)}}}};var At=["h","m","s"],Et={min:0,max:362439,defaultValue:0,hourTextShort:"h",minuteTextShort:"m",secTextShort:"s"};Dt.timespan=function(e){function t(e){var t,a="",s=3600;return Le(At).each(function(i,r){t=Math.floor(e/s),e-=t*s,s/=60,(t>0||"s"==r&&!a)&&(a=a+(a?" ":"")+t+n[r])}),a}var a=Oe({},e.settings),s=Oe(e.settings,Et,a),n={h:s.hourTextShort.replace(/d/g,"\\d"),m:s.minuteTextShort.replace(/d/g,"\\d"),s:s.secTextShort.replace(/d/g,"\\d")},i='d<span class="mbsc-np-sup mbsc-np-time">'+n.s+"</span>";return s.max>9&&(i="d"+i),s.max>99&&(i='<span class="mbsc-np-ts-m">'+(s.max>639?"d":"")+'d</span><span class="mbsc-np-sup mbsc-np-time">'+n.m+"</span>"+i),s.max>6039&&(i='<span class="mbsc-np-ts-h">'+(s.max>38439?"d":"")+'d</span><span class="mbsc-np-sup mbsc-np-time">'+n.h+"</span>"+i),e.setVal=function(a,s,n,i){return d(a)&&(a=t(a)),e._setVal(a,s,n,i)},e.getVal=function(t){return e._hasValue||t?Z(e.getArrayVal(t)):null},{template:i,parseValue:function(e){var a,i=e||t(s.defaultValue),r=[];return i&&Le(At).each(function(e,t){a=new RegExp("(\\d+)"+n[t],"gi").exec(i),a?(a=+a[1],a>9?(r.push(Math.floor(a/10)),r.push(a%10)):(r.length&&r.push(0),(a||r.length)&&r.push(a))):r.length&&(r.push(0),r.push(0))}),r},formatValue:function(e){return t(Z(e))},validate:function(t){var a=t.values,n=Z(a.slice(0)),i=[];return a.length||i.push(0),{disabled:i,invalid:n>s.max||n<s.min||!!s.invalid&&-1!=e._indexOf(s.invalid,+n)}}}};var It={timeFormat:"hh:ii A",amText:"am",pmText:"pm"};Dt.time=function(e){function t(e,t){var a,s="";for(a=0;a<e.length;++a)s+=e[a]+(a%2==(e.length%2==1?0:1)&&a!=e.length-1?":":"");return Le.each(t,function(e,t){s+=" "+t}),s}function a(e){var t,a,s,l,o,b,v,g,y,x,w=[],_=2*i.length;if(c=_,e.length||(r&&(w.push(0),w.push(n.leftKey.value)),w.push(n.rightKey.value)),!r&&(_-e.length<2||1!=e[0]&&(e[0]>2||e[1]>3)&&_-e.length<=2)&&(w.push("30"),w.push("00")),(r?e[0]>1||e[1]>2:1!=e[0]&&(e[0]>2||e[1]>3))&&e[0]&&(e.unshift(0),c=_-1),e.length==_)for(t=0;t<=9;++t)w.push(t);else if(1==e.length&&r&&1==e[0]||e.length&&e.length%2==0||!r&&2==e[0]&&e[1]>3&&e.length%2==1)for(t=6;t<=9;++t)w.push(t);if(y=void 0!==e[1]?""+e[0]+e[1]:"",x=+h==+(void 0!==e[3]?""+e[2]+e[3]:""),n.invalid)for(t=0;t<n.invalid.length;++t)if(b=n.invalid[t].getHours(),v=n.invalid[t].getMinutes(),g=n.invalid[t].getSeconds(),b==+y){if(2==i.length&&(v<10?0:+(""+v)[0])==+e[2]){w.push(v<10?v:+(""+v)[1]);break}if((g<10?0:+(""+g)[0])==+e[4]){w.push(g<10?g:+(""+g)[1]);break}}if(n.min||n.max){if(a=+d==+y,s=+u==+y,o=s&&x,l=a&&x,0===e.length){for(t=r?2:d>19?d[0]:3;t<=(1==d[0]?9:d[0]-1);++t)w.push(t);if(d>=10&&(w.push(0),2==d[0]))for(t=3;t<=9;++t)w.push(t);if(u&&u<10||d&&d>=10)for(t=u&&u<10?+u[0]+1:0;t<(d&&d>=10?d[0]:10);++t)w.push(t)}if(1==e.length){if(0===e[0])for(t=0;t<d[0];++t)w.push(t);if(d&&0!==e[0]&&(r?1==e[0]:2==e[0]))for(t=r?3:4;t<=9;++t)w.push(t);if(e[0]==d[0])for(t=0;t<d[1];++t)w.push(t);if(e[0]==u[0]&&!r)for(t=+u[1]+1;t<=9;++t)w.push(t)}if(2==e.length&&(a||s))for(t=s?+h[0]+1:0;t<(a?+m[0]:10);++t)w.push(t);if(3==e.length&&(s&&e[2]==h[0]||a&&e[2]==m[0]))for(t=s&&e[2]==h[0]?+h[1]+1:0;t<(a&&e[2]==m[0]?+m[1]:10);++t)w.push(t);if(4==e.length&&(l||o))for(t=o?+p[0]+1:0;t<(l?+f[0]:10);++t)w.push(t);if(5==e.length&&(l&&e[4]==f[0]||o&&e[4]==p[0]))for(t=o&&e[4]==p[0]?+p[1]+1:0;t<(l&&e[4]==f[0]?+f[1]:10);++t)w.push(t)}return w}var s=Oe({},e.settings),n=Oe(e.settings,It,s),i=n.timeFormat.split(":"),r=n.timeFormat.match(/a/i),l=r?"a"==r[0]?n.amText:n.amText.toUpperCase():"",o=r?"a"==r[0]?n.pmText:n.pmText.toUpperCase():"",c=0,d=n.min?""+n.min.getHours():"",u=n.max?""+n.max.getHours():"",m=n.min?""+(n.min.getMinutes()<10?"0"+n.min.getMinutes():n.min.getMinutes()):"",h=n.max?""+(n.max.getMinutes()<10?"0"+n.max.getMinutes():n.max.getMinutes()):"",f=n.min?""+(n.min.getSeconds()<10?"0"+n.min.getSeconds():n.min.getSeconds()):"",p=n.max?""+(n.max.getSeconds()<10?"0"+n.max.getSeconds():n.max.getSeconds()):"";return n.min&&n.min.setFullYear(2014,7,20),n.max&&n.max.setFullYear(2014,7,20),{placeholder:"-",allowLeadingZero:!0,template:(3==i.length?"dd:dd:dd":2==i.length?"dd:dd":"dd")+(r?'<span class="mbsc-np-sup">{ampm:--}</span>':""),leftKey:r?{text:l,variable:"ampm:"+l,value:"00"}:{text:":00",value:"00"},rightKey:r?{text:o,variable:"ampm:"+o,value:"00"}:{text:":30",value:"30"},parseValue:function(e){var t,a,s=e||n.defaultValue,i=[];if(s){if(s+="",a=s.match(/\d/g))for(t=0;t<a.length;t++)i.push(+a[t]);r&&i.push("ampm:"+(s.match(new RegExp(n.pmText,"gi"))?o:l))}return i},formatValue:function(e,a){return t(e,a)},validate:function(s){var i=s.values,l=s.variables,o=t(i,l),d=i.length>=3?new Date(2014,7,20,""+i[0]+(i.length%2==0?i[1]:""),""+i[i.length%2==0?2:1]+i[i.length%2==0?3:2]):"";return{disabled:a(i),length:c,invalid:(r?!new RegExp("^(0?[1-9]|1[012])(:[0-5]\\d)?(:[0-5][0-9]) (?:"+n.amText+"|"+n.pmText+")$","i").test(o):!/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/.test(o))||!!n.invalid&&-1!=e._indexOf(n.invalid,d)||!((!n.min||n.min<=d)&&(!n.max||d<=n.max))}}}};var Lt={dateOrder:"mdy",dateFormat:"mm/dd/yy",delimiter:"/"};Dt.date=function(e){function t(e){return e%4==0&&e%100!=0||e%400==0}function a(e){var a,s,l,o,c,u=[],g=void 0!==e[n+3]?""+e[n]+e[n+1]+e[n+2]+e[n+3]:"",y=void 0!==e[i+1]?""+e[i]+e[i+1]:"",x=void 0!==e[r+1]?""+e[r]+e[r+1]:"",w=""+d.getMaxDayOfMonth(g||2012,y-1||0),_=b===g&&+m==+y,C=v===g&&+h==+y;if(d.invalid)for(a=0;a<d.invalid.length;++a){if(l=d.getYear(d.invalid[a]),o=d.getMonth(d.invalid[a]),c=d.getDay(d.invalid[a]),l==+g&&o+1==+y&&(c<10?0:+(""+c)[0])==+e[r]){u.push(c<10?c:+(""+c)[1]);break}if(o+1==+y&&c==+x&&(""+l).substring(0,3)==""+e[n]+e[n+1]+e[n+2]){u.push((""+l)[3]);break}if(l==+g&&c==+x&&(o<10?0:+(""+(o+1))[0])==+e[i]){u.push(o<10?o:+(""+(o+1))[1]);break}}if("31"!=x||e.length!=i&&e.length!=i+1||(1!=e[i]?u.push(2,4,6,9,11):u.push(1)),"30"==x&&0===e[i]&&e.length<=i+1&&u.push(2),e.length==i){for(a=v===g&&+h<10?1:2;a<=9;++a)u.push(a);b===g&&+m>=10&&u.push(0)}if(e.length==i+1){if(1==e[i]){for(a=v===g?+h[1]+1:3;a<=9;++a)u.push(a);if(b==g)for(a=0;a<+m[1];++a)u.push(a)}if(0===e[i]&&(u.push(0),v===g||b===g))for(a=v===g?+x>+p?+h:+h+1:0;a<=(b===g?+m-1:9);++a)u.push(a)}if(e.length==r){for(a=C?1+(+p>10?+p[0]:0):+w[0]+1;a<=9;++a)u.push(a);if(_)for(a=0;a<(+f<10?0:f[0]);++a)u.push(a)}if(e.length==r+1){if(e[r]>=3||"02"==y)for(a=+w[1]+1;a<=9;++a)u.push(a);if(C&&+p[0]==e[r])for(a=+p[1]+1;a<=9;++a)u.push(a);if(_&&f[0]==e[r])for(a=0;a<+f[1];++a)u.push(a);if(0===e[r]&&(u.push(0),C||_))for(a=C?+p+1:1;a<=(_?+f-1:9);++a)u.push(a)}if(void 0!==e[n+2]&&"02"==y&&"29"==x)for(s=+(""+e[n]+e[n+1]+e[n+2]+0);s<=+(""+e[n]+e[n+1]+e[n+2]+9);++s)u.push(t(s)?"":s%10);if(e.length==n){if(d.min)for(a=0;a<+b[0];++a)u.push(a);if(d.max)for(a=+v[0]+1;a<=9;++a)u.push(a);u.push(0)}if(d.min||d.max)for(s=1;s<4;++s)if(e.length==n+s){if(e[n+s-1]==+b[s-1]&&(3!=s||e[n+s-2]==+b[s-2]))for(a=0;a<+b[s]+(3==s&&e[i+1]&&+m>+y?1:0);++a)u.push(a);if(e[n+s-1]==+v[s-1]&&(3!=s||e[n+s-2]==+v[s-2]))for(a=+v[s]+(3==s&&+h<+y?0:1);a<=9;++a)u.push(a)}return u}function s(e){return new Date(+(""+e[n]+e[n+1]+e[n+2]+e[n+3]),+(""+e[i]+e[i+1])-1,+(""+e[r]+e[r+1]))}var n,i,r,l,o=[],c=Oe({},e.settings),d=Oe(e.settings,st.defaults,Lt,c),u=d.dateOrder,m=d.min?""+(d.getMonth(d.min)+1):0,h=d.max?""+(d.getMonth(d.max)+1):0,f=d.min?""+d.getDay(d.min):0,p=d.max?""+d.getDay(d.max):0,b=d.min?""+d.getYear(d.min):0,v=d.max?""+d.getYear(d.max):0;for(u=u.replace(/y+/gi,"yyyy"),u=u.replace(/m+/gi,"mm"),u=u.replace(/d+/gi,"dd"),n=u.toUpperCase().indexOf("Y"),i=u.toUpperCase().indexOf("M"),r=u.toUpperCase().indexOf("D"),u="",o.push({val:n,n:"yyyy"},{val:i,n:"mm"},{val:r,n:"dd"}),o.sort(function(e,t){return e.val-t.val}),Le.each(o,function(e,t){u+=t.n}),n=u.indexOf("y"),i=u.indexOf("m"),r=u.indexOf("d"),u="",l=0;l<8;++l)u+="d",l+1!=n&&l+1!=i&&l+1!=r||(u+=d.delimiter);return e.getVal=function(t){return e._hasValue||t?s(e.getArrayVal(t)):null},{placeholder:"-",fill:"ltr",allowLeadingZero:!0,template:u,parseValue:function(e){var t,a=[],s=e||d.defaultValue,n=st.parseDate(d.dateFormat,s,d);if(s)for(t=0;t<o.length;++t)a=/m/i.test(o[t].n)?a.concat(((d.getMonth(n)<9?"0":"")+(d.getMonth(n)+1)).split("")):/d/i.test(o[t].n)?a.concat(((d.getDay(n)<10?"0":"")+d.getDay(n)).split("")):a.concat((d.getYear(n)+"").split(""));return a},formatValue:function(e){return st.formatDate(d.dateFormat,s(e),d)},validate:function(t){var n=t.values,i=s(n);return{disabled:a(n),invalid:!("Invalid Date"!=i&&(!d.min||d.min<=i)&&(!d.max||i<=d.max))||!!d.invalid&&-1!=e._indexOf(d.invalid,i)}}}};var Ot=ne.presets.scroller;ne.presetShort("image"),Ot.image=function(e){return e.settings.enhance&&(e._processMarkup=function(e){var t=e.attr("data-icon");return e.children().each(function(e,t){t=Le(t),t.is("img")?Le('<div class="mbsc-img-c"></div>').insertAfter(t).append(t.addClass("mbsc-img")):t.is("p")&&t.addClass("mbsc-img-txt")}),t&&e.prepend('<div class="mbsc-ic mbsc-ic-'+t+'"></div'),e.html('<div class="mbsc-img-w">'+e.html()+"</div>"),e.html()}),Ot.list.call(this,e)};var Yt=0;ne.util.getJson=ee;var Ht={inputClass:"",invalid:[],rtl:!1,showInput:!0,groupLabel:"Groups",dataHtml:"html",dataText:"text",dataValue:"value",dataGroup:"group",dataDisabled:"disabled",filterPlaceholderText:"Type to filter",filterEmptyText:"No results",filterClearIcon:"material-close"};ne.presetShort("select"),ne.presets.scroller.select=function(e){function t(e){var t,a,s,n,i,r,l=0,o=0,c={};if(W={},D={},E=[],k=[],ae.length=0,z)Le.each(w,function(l,d){i=d[N.dataText],a=d[N.dataHtml],r=d[N.dataValue],s=d[N.dataGroup],n={value:r,html:a,text:i,index:l},W[r]=n,e&&!v(i,e)||(E.push(n),K&&(void 0===c[s]?(t={text:s,value:o,options:[],index:o},D[o]=t,c[s]=o,k.push(t),o++):t=D[c[s]],J&&(n.index=t.options.length),n.group=c[s],t.options.push(n)),d[N.dataDisabled]&&ae.push(r))});else if(K){var d=!0;Le("optgroup",Y).each(function(t){D[t]={text:this.label,value:t,options:[],index:t},d=!0,Le("option",this).each(function(a){n={value:this.value,text:this.text,index:J?a:l++,group:t},W[this.value]=n,e&&!v(this.text,e)||(d&&(k.push(D[t]),d=!1),E.push(n),D[t].options.push(n),this.disabled&&ae.push(this.value))})})}else Le("option",Y).each(function(t){n={value:this.value,text:this.text,index:t},W[this.value]=n,e&&!v(this.text,e)||(E.push(n),this.disabled&&ae.push(this.value))});N.defaultValue?_=N.defaultValue:E.length&&(_=E[0].value),Q&&(E=[],l=0,Le.each(D,function(e,t){t.options.length&&(r="__group"+e,n={text:t.text,value:r,group:e,index:l++,cssClass:"mbsc-sel-gr"},W[r]=n,E.push(n),ae.push(n.value),Le.each(t.options,function(e,t){t.index=l++,E.push(t)}))})),F&&(E.length?F.removeClass("mbsc-sel-empty-v"):F.addClass("mbsc-sel-empty-v"))}function a(e,t,a){var s,n=[];for(s=0;s<e.length;s++)n.push({value:e[s].value,display:e[s].html||e[s].text,cssClass:e[s].cssClass});return{circular:!1,multiple:t,data:n,label:a}}function s(){return a(k,!1,N.groupLabel)}function n(){return a(J?D[M].options:E,q,B)}function i(){var e,t,a=[[]];return Z&&(e=s(),j?a[0][S]=e:a[S]=[e]),t=n(),j?a[0][I]=t:a[I]=[t],a}function r(e){R&&(e&&u(e)&&(e=e.split(",")),Le.isArray(e)&&(e=e[0])),A=void 0===e||null===e||""===e?_:e,Z&&(M=W[A]?W[A].group:null)}function m(t,a){var s=t?e._tempWheelArray:e._hasValue?e._wheelArray:null;return s?N.group&&a?s:s[I]:null}function h(e){return O[e]||(W[e]?W[e].text:"")}function f(t){var a,s,n=[];if(q){for(a in e._tempSelected[I])n.push(h(a));return n.join(", ")}return s=t[I],h(s)}function p(){var t,a="",s=e.getVal(),n=f(e.getArrayVal());if(N.filter&&"inline"==N.display||x.val(n),Y.is("select")&&z){if(R)for(t=0;t<s.length;t++)a+='<option value="'+s[t]+'">'+h(s[t])+"</option>";else a='<option value="'+s+'">'+n+"</option>";Y.html(a)}Y[0]!==x[0]&&Y.val(s)}function b(){var t={};t[I]=n(),L=!0,e.changeWheel(t)}function v(e,t){return t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),e.match(new RegExp(t,"ig"))}function g(e){return N.data.dataField?e[N.data.dataField]:N.data.processResponse?N.data.processResponse(e):e}function y(a){var l={};t(a),N.wheels=i(),r(A),l[I]=n(),e._tempWheelArray[I]=A,Z&&(l[S]=s(),e._tempWheelArray[S]=M),e._isVisible&&e.changeWheel(l,0,!0)}var x,w,_,C,T,M,k,D,S,V,A,E,I,L,O={},Y=Le(this),H=Oe({},e.settings),N=Oe(e.settings,Ht,H),F=Le('<div class="mbsc-sel-empty">'+N.filterEmptyText+"</div>"),P=N.readonly,W={},$=N.layout||(/top|bottom|inline/.test(N.display)||N.filter?"liquid":""),j="liquid"==$,R=d(N.select)?N.select:"multiple"==N.select||Y.prop("multiple"),q=R||!!N.filter&&1,X=this.id+"_dummy",U=Le('label[for="'+this.id+'"]').attr("for",X),B=void 0!==N.label?N.label:U.length?U.text():Y.attr("name"),z=!!N.data,K=z?!!N.group:Le("optgroup",Y).length,G=N.group,Z=K&&G&&!1!==G.groupWheel,J=K&&G&&Z&&!0===G.clustered,Q=K&&(!G||!1!==G.header&&!J),te=Y.val()||(R?[]:[""]),ae=[];return e.setVal=function(t,a,s,n,i){q&&(t&&!R&&(t=[t]),t&&u(t)&&(t=t.split(",")),e._tempSelected[I]=c(t),n||(e._selected[I]=c(t)),t=t?t[0]:null),e._setVal(t,a,s,n,i)},e.getVal=function(t,a){if(q){var s=o(t?e._tempSelected[I]:e._selected[I]);return R?s:s.length?s[0]:null}return m(t,a)},e.refresh=function(e,t,a){a=a||l,e?w=e:Le.isArray(N.data)&&(w=N.data),!e&&V&&void 0===t?ee(N.data.url,function(e){w=g(e),y(),a()},N.data.dataType):(y(t),a())},N.invalid.length||(N.invalid=ae),Z?(S=0,I=1):(S=-1,I=0),q&&(R&&Y.prop("multiple",!0),te&&u(te)&&(te=te.split(",")),e._selected[I]=c(te)),e._$input&&e._$input.remove(),Y.next().is("input.mbsc-control")?x=Y.next().removeAttr("tabindex"):N.input?x=Le(N.input):(N.filter&&"inline"==N.display?e._$input=Le('<div class="mbsc-sel-input-wrap"><input type="text" id="'+X+'" class="mbsc-control '+N.inputClass+'" readonly /></div>'):(x=Le('<input type="text" id="'+X+'" class="mbsc-control '+N.inputClass+'" readonly />'),e._$input=x),N.showInput&&(e._$input.insertBefore(Y),x||(x=e._$input.find("#"+X)))),e.attachShow(x.attr("placeholder",N.placeholder||"")),x[0]!==Y[0]&&Y.addClass("mbsc-sel-hdn").attr("tabindex",-1),N.filter&&(C=N.filter.minLength||0),V=N.data&&N.data.url,V?e.refresh(void 0,void 0,p):(z&&(w=N.data),t(),r(Y.val())),{layout:$,headerText:!1,anchor:x,compClass:"mbsc-sel"+(Z?" mbsc-sel-gr-whl":"")+(q?" mbsc-sel-multi":""),setOnTap:!Z||[!1,!0],formatValue:f,parseValue:function(e){return r(void 0===e?Y.val():e),Z?[M,A]:[A]},validate:function(e){var t=e.index,a=[];return a[I]=N.invalid,J&&!L&&void 0===t&&b(),L=!1,{disabled:a}},onRead:p,onFill:p,onMarkupReady:function(e,t){if(N.filter){var a,s,n,i=Le(".mbsc-fr-w",e.target),r=Le('<span class="mbsc-sel-filter-clear mbsc-ic mbsc-ic-'+N.filterClearIcon+'"></span>');"inline"==N.display?(a=x,x.parent().find(".mbsc-sel-filter-clear").remove()):(i.prepend('<div class="mbsc-input mbsc-sel-filter-cont mbsc-control-w"><span class="mbsc-input-wrap"><input type="text" class="mbsc-sel-filter-input mbsc-control"/></span></div>'),a=i.find(".mbsc-sel-filter-input")),T="",n=a[0],a.prop("readonly",!1).attr("placeholder",N.filterPlaceholderText).parent().append(r),i.find(".mbsc-fr-c").prepend(F),t.tap(r,function(){n.value="",t.refresh(),r.removeClass("mbsc-sel-filter-show-clear")}),a.on("keydown",function(e){13!=e.keyCode&&27!=e.keyCode||(e.stopPropagation(),n.blur())}).on("keyup",function(){clearTimeout(s),n.value.length?r.addClass("mbsc-sel-filter-show-clear"):r.removeClass("mbsc-sel-filter-show-clear"),s=setTimeout(function(){T!==n.value&&!1!==t.trigger("onFilter",{filterText:n.value})&&(T=n.value,(T.length>=C||!T.length)&&(V&&N.data.remoteFilter?ee(N.data.url+encodeURIComponent(T),function(e){t.refresh(g(e))},N.data.dataType):t.refresh(void 0,T)))},500)})}},onBeforeShow:function(){R&&N.counter&&(N.headerText=function(){var t=0;return Le.each(e._tempSelected[I],function(){t++}),(t>1?N.selectedPluralText||N.selectedText:N.selectedText).replace(/{count}/,t)}),r(Y.val()),N.filter&&t(void 0),e.settings.wheels=i(),L=!0},onWheelGestureStart:function(e){e.index==S&&(N.readonly=[!1,!0])},onWheelAnimationEnd:function(t){var a=e.getArrayVal(!0);t.index==S?(N.readonly=P,a[S]!=M&&(M=a[S],A=D[M].options[0].value,a[I]=A,J?b():e.setArrayVal(a,!1,!1,!0,1e3))):t.index==I&&a[I]!=A&&(A=a[I],Z&&W[A]&&W[A].group!=M&&(M=W[A].group,a[S]=M,e.setArrayVal(a,!1,!1,!0,1e3)))},onItemTap:function(e){if(e.index==I&&(O[e.value]=W[e.value].text,q&&!R&&e.selected))return!1},onClose:function(){V&&N.data.remoteFilter&&T&&e.refresh()},onDestroy:function(){e._$input&&e._$input.remove(),Y.removeClass("mbsc-sel-hdn").removeAttr("tabindex")}}};var Nt={autostart:!1,step:1,useShortLabels:!1,labels:["Years","Months","Days","Hours","Minutes","Seconds",""],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs",""],startText:"Start",stopText:"Stop",resetText:"Reset",lapText:"Lap",hideText:"Hide"};ne.presetShort("timer"),ne.presets.scroller.timer=function(e){function t(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function a(e){var a={};if(Y&&T[I].index>T.days.index){var s,n,i,r,l=new Date,o=b?l:O,c=b?O:l;for(c=t(c),o=t(o),a.years=o.getFullYear()-c.getFullYear(),a.months=o.getMonth()-c.getMonth(),a.days=o.getDate()-c.getDate(),a.hours=o.getHours()-c.getHours(),a.minutes=o.getMinutes()-c.getMinutes(),a.seconds=o.getSeconds()-c.getSeconds(),a.fract=(o.getMilliseconds()-c.getMilliseconds())/10,s=C.length;s>0;s--)n=C[s-1],i=T[n],r=C[Le.inArray(n,C)-1],T[r]&&a[n]<0&&(a[r]--,a[n]+="months"==r?32-new Date(o.getFullYear(),o.getMonth(),32).getDate():i.until+1);"months"==I&&(a.months+=12*a.years,delete a.years)}else Le(C).each(function(t,s){T[s].index<=T[I].index&&(a[s]=Math.floor(e/T[s].limit),e-=a[s]*T[s].limit)});return a}function s(e){var t=1,a=T[e],s=a.wheel,i=a.prefix,r=a.until,l=T[C[Le.inArray(e,C)-1]];if(a.index<=T[I].index&&(!l||l.limit>E))if(M[e]||H[0].push(s),M[e]=1,s.data=[],s.label=a.label||"",s.cssClass="mbsc-timer-whl-"+e,E>=a.limit&&(t=Math.max(Math.round(E/a.limit),1),d=t*a.limit),e==I)s.min=0,s.data=function(e){return{value:e,display:n(e,i,a.label)}},s.getIndex=function(e){return e};else for(o=0;o<=r;o+=t)s.data.push({value:o,display:n(o,i,a.label)})}function n(e,t,a){return(t||"")+(e<10?"0":"")+e+'<span class="mbsc-timer-lbl">'+a+"</span>"}function i(e){var t,s=[],n=a(e);return Le(C).each(function(e,a){M[a]&&(t=Math.max(Math.round(E/T[a].limit),1),s.push(Math.round(n[a]/t)*t))}),s}function r(e){Y?(f=O-new Date,f<0?(f*=-1,b=!0):b=!1,p=0,A=!0):void 0!==O?(A=!1,f=1e3*O,b="countdown"!=x.mode,e&&(p=0)):(f=0,b="countdown"!=x.mode,A=b,e&&(p=0))}function l(){S?(Le(".mbsc-fr-w",v).addClass("mbsc-timer-running mbsc-timer-locked"),Le(".mbsc-timer-btn-toggle-c > div",v).text(x.stopText),e.buttons.start.icon&&Le(".mbsc-timer-btn-toggle-c > div",v).removeClass("mbsc-ic-"+e.buttons.start.icon),e.buttons.stop.icon&&Le(".mbsc-timer-btn-toggle-c > div",v).addClass("mbsc-ic-"+e.buttons.stop.icon),"stopwatch"==x.mode&&(Le(".mbsc-timer-btn-resetlap-c > div",v).text(x.lapText),e.buttons.reset.icon&&Le(".mbsc-timer-btn-resetlap-c > div",v).removeClass("mbsc-ic-"+e.buttons.reset.icon),e.buttons.lap.icon&&Le(".mbsc-timer-btn-resetlap-c > div",v).addClass("mbsc-ic-"+e.buttons.lap.icon))):(Le(".mbsc-fr-w",v).removeClass("mbsc-timer-running"),Le(".mbsc-timer-btn-toggle-c > div",v).text(x.startText),e.buttons.start.icon&&Le(".mbsc-timer-btn-toggle-c > div",v).addClass("mbsc-ic-"+e.buttons.start.icon),e.buttons.stop.icon&&Le(".mbsc-timer-btn-toggle-c > div",v).removeClass("mbsc-ic-"+e.buttons.stop.icon),"stopwatch"==x.mode&&(Le(".mbsc-timer-btn-resetlap-c > div",v).text(x.resetText),e.buttons.reset.icon&&Le(".mbsc-timer-btn-resetlap-c > div",v).addClass("mbsc-ic-"+e.buttons.reset.icon),e.buttons.lap.icon&&Le(".mbsc-timer-btn-resetlap-c > div",v).removeClass("mbsc-ic-"+e.buttons.lap.icon)))}var o,c,d,u,m,h,f,p,b,v,g,y=Oe({},e.settings),x=Oe(e.settings,Nt,y),w=x.useShortLabels?x.labelsShort:x.labels,_=["toggle","resetlap"],C=["years","months","days","hours","minutes","seconds","fract"],T={years:{index:6,
until:10,limit:31536e6,label:w[0],wheel:{}},months:{index:5,until:11,limit:2592e6,label:w[1],wheel:{}},days:{index:4,until:31,limit:864e5,label:w[2],wheel:{}},hours:{index:3,until:23,limit:36e5,label:w[3],wheel:{}},minutes:{index:2,until:59,limit:6e4,label:w[4],wheel:{}},seconds:{index:1,until:59,limit:1e3,label:w[5],wheel:{}},fract:{index:0,until:99,limit:10,label:w[6],prefix:".",wheel:{}}},M={},k=[],D=0,S=!1,V=!0,A=!1,E=Math.max(10,1e3*x.step),I=x.maxWheel,L="stopwatch"==x.mode||Y,O=x.targetTime,Y=O&&void 0!==O.getTime,H=[[]];return e.start=function(){if(V&&e.reset(),!S){if(r(),!A&&p>=f)return;S=!0,V=!1,m=new Date,u=p,x.readonly=!0,e.setVal(i(b?p:f-p),!0,!0,!1,100),c=setInterval(function(){p=new Date-m+u,e.setVal(i(b?p:f-p),!0,!0,!1,Math.min(100,d-10)),!A&&p+d>=f&&(clearInterval(c),setTimeout(function(){e.stop(),p=f,e.setVal(i(b?p:0),!0,!0,!1,100),e.trigger("onFinish",{time:f}),V=!0},f-p))},d),l(),e.trigger("onStart")}},e.stop=function(){S&&(S=!1,clearInterval(c),p=new Date-m+u,l(),e.trigger("onStop",{ellapsed:p}))},e.toggle=function(){S?e.stop():e.start()},e.reset=function(){e.stop(),p=0,k=[],D=0,e.setVal(i(b?0:f),!0,!0,!1,100),e.settings.readonly=L,V=!0,L||Le(".mbsc-fr-w",v).removeClass("mbsc-timer-locked"),e.trigger("onReset")},e.lap=function(){S&&(h=new Date-m+u,g=h-D,D=h,k.push(h),e.trigger("onLap",{ellapsed:h,lap:g,laps:k}))},e.resetlap=function(){S&&"stopwatch"==x.mode?e.lap():e.reset()},e.getTime=function(){return f},e.setTime=function(e){O=e/1e3,f=e},e.getEllapsedTime=function(){return S?new Date-m+u:0},e.setEllapsedTime=function(t,a){V||(u=p=t,m=new Date,e.setVal(i(b?p:f-p),!0,a,!1,100))},r(!0),I||f||(I="minutes"),"inline"!==x.display&&_.push("hide"),I||Le(C).each(function(e,t){if(!I&&f>=T[t].limit)return I=t,!1}),Le(C).each(function(e,t){s(t)}),d=Math.max(87,d),x.autostart&&setTimeout(function(){e.start()},0),e.handlers.toggle=e.toggle,e.handlers.start=e.start,e.handlers.stop=e.stop,e.handlers.resetlap=e.resetlap,e.handlers.reset=e.reset,e.handlers.lap=e.lap,e.buttons.toggle={parentClass:"mbsc-timer-btn-toggle-c",text:x.startText,icon:x.startIcon,handler:"toggle"},e.buttons.start={text:x.startText,icon:x.startIcon,handler:"start"},e.buttons.stop={text:x.stopText,icon:x.stopIcon,handler:"stop"},e.buttons.reset={text:x.resetText,icon:x.resetIcon,handler:"reset"},e.buttons.lap={text:x.lapText,icon:x.lapIcon,handler:"lap"},e.buttons.resetlap={parentClass:"mbsc-timer-btn-resetlap-c",text:x.resetText,icon:x.resetIcon,handler:"resetlap"},e.buttons.hide={parentClass:"mbsc-timer-btn-hide-c",text:x.hideText,icon:x.closeIcon,handler:"cancel"},{wheels:H,headerText:!1,readonly:L,buttons:_,mode:"countdown",compClass:"mbsc-timer",parseValue:function(){return i(b?0:f)},formatValue:function(e){var t="",a=0;return Le(C).each(function(s,n){"fract"!=n&&M[n]&&(t+=e[a]+("seconds"==n&&M.fract?"."+e[a+1]:"")+" "+w[s]+" ",a++)}),t},validate:function(e){var t=e.values,a=e.index,s=0;V&&void 0!==a&&(O=0,Le(C).each(function(e,a){M[a]&&(O+=T[a].limit*t[s],s++)}),O/=1e3,r(!0))},onBeforeShow:function(){x.showLabel=!0},onMarkupReady:function(e){v=Le(e.target),l(),L&&Le(".mbsc-fr-w",v).addClass("mbsc-timer-locked")},onPosition:function(e){Le(".mbsc-fr-w",e.target).css("min-width",0).css("min-width",Le(".mbsc-fr-btn-cont",e.target)[0].offsetWidth)},onDestroy:function(){clearInterval(c)}}};var Ft={wheelOrder:"hhiiss",useShortLabels:!1,min:0,max:1/0,labels:["Years","Months","Days","Hours","Minutes","Seconds"],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs"]};ne.presetShort("timespan"),ne.presets.scroller.timespan=function(e){function t(e){var t={};return Le(b).each(function(a,s){t[s]=x[s]?Math.floor(e/v[s].limit):0,e-=t[s]*v[s].limit}),t}function a(e){var t=!1,a=y[x[e]-1]||1,n=v[e],i=n.label,l=n.wheel;if(l.data=[],l.label=n.label,f.match(new RegExp(n.re+n.re,"i"))&&(t=!0),e==w)l.min=c[e],l.max=u[e],l.data=function(e){return{value:e*a,display:s(e*a,t,i)}},l.getIndex=function(e){return Math.round(e/a)};else for(r=0;r<=n.until;r+=a)l.data.push({value:r,display:s(r,t,i)})}function s(e,t,a){return(e<10&&t?"0":"")+e+'<span class="mbsc-ts-lbl">'+a+"</span>"}function n(e){var t=0;return Le.each(g,function(a,s){isNaN(+e[0])||(t+=v[s.v].limit*e[a])}),t}function i(e,t){return Math.floor(e/t)*t}var r,l,o,c,u,m=Oe({},e.settings),h=Oe(e.settings,Ft,m),f=h.wheelOrder,p=h.useShortLabels?h.labelsShort:h.labels,b=["years","months","days","hours","minutes","seconds"],v={years:{ord:0,index:6,until:10,limit:31536e6,label:p[0],re:"y",wheel:{}},months:{ord:1,index:5,until:11,limit:2592e6,label:p[1],re:"m",wheel:{}},days:{ord:2,index:4,until:31,limit:864e5,label:p[2],re:"d",wheel:{}},hours:{ord:3,index:3,until:23,limit:36e5,label:p[3],re:"h",wheel:{}},minutes:{ord:4,index:2,until:59,limit:6e4,label:p[4],re:"i",wheel:{}},seconds:{ord:5,index:1,until:59,limit:1e3,label:p[5],re:"s",wheel:{}}},g=[],y=h.steps||[],x={},w="seconds",_=h.defaultValue||Math.max(h.min,Math.min(0,h.max)),C=[[]];return Le(b).each(function(e,t){(l=f.search(new RegExp(v[t].re,"i")))>-1&&(g.push({o:l,v:t}),v[t].index>v[w].index&&(w=t))}),g.sort(function(e,t){return e.o>t.o?1:-1}),Le.each(g,function(e,t){x[t.v]=e+1,C[0].push(v[t.v].wheel)}),c=t(h.min),u=t(h.max),Le.each(g,function(e,t){a(t.v)}),e.getVal=function(t,a){return a?e._getVal(t):e._hasValue||t?n(e.getArrayVal(t)):null},{showLabel:!0,wheels:C,compClass:"mbsc-ts",parseValue:function(e){var a,s=[];return d(e)||!e?(o=t(e||_),Le.each(g,function(e,t){s.push(o[t.v])})):Le.each(g,function(t,n){a=new RegExp("(\\d+)\\s?("+h.labels[v[n.v].ord]+"|"+h.labelsShort[v[n.v].ord]+")","gi").exec(e),s.push(a?a[1]:0)}),Le(s).each(function(e,t){s[e]=i(t,y[e]||1)}),s},formatValue:function(e){var t="";return Le.each(g,function(a,s){t+=+e[a]?e[a]+" "+v[s.v].label+" ":""}),t?t.replace(/\s+$/g,""):0},validate:function(a){var s,i,r,l,o=a.values,d=a.direction,m=[],h=!0,f=!0;return Le(b).each(function(a,p){if(void 0!==x[p]){if(r=x[p]-1,m[r]=[],l={},p!=w){if(h)for(i=u[p]+1;i<=v[p].until;i++)l[i]=!0;if(f)for(i=0;i<c[p];i++)l[i]=!0}o[r]=e.getValidValue(r,o[r],d,l),s=t(n(o)),h=h&&s[p]==u[p],f=f&&s[p]==c[p],Le.each(l,function(e){m[r].push(e)})}}),{disabled:m}}}};var Pt={invalid:[],showInput:!0,inputClass:""};ne.presets.scroller.list=function(e){function t(e,t,s){for(var n=0,i=[];n<e;)i[n]=a(s,n,t),n++;return i}function a(e,t,a){for(var s,n=0,i=a,r=[];n<t;){var l=e[n];for(s in i)if(i[s].key==l){i=i[s].children;break}n++}for(n=0;n<i.length;)i[n].invalid&&r.push(i[n].key),n++;return r}function s(e,t){for(var a=[];e;)a[--e]=!0;return a[t]=!1,a}function n(e,t,a){var s,n,l,o=0,c=[[]],d=T;if(t)for(s=0;s<t;s++)v?c[0][s]={}:c[s]=[{}];for(;o<e.length;){for(v?c[0][o]=r(d,M[o]):c[o]=[r(d,M[o])],s=0,l=void 0;s<d.length&&void 0===l;)d[s].key==e[o]&&(void 0!==a&&o<=a||void 0===a)&&(l=s),s++;if(void 0!==l&&d[l].children)o++,d=d[l].children;else{if(!(n=i(d))||!n.children)return c;o++,d=n.children}}return c}function i(e,t){if(!e)return!1;for(var a,s=0;s<e.length;)if(!(a=e[s++]).invalid)return t?s-1:a;return!1}function r(e,t){for(var a={data:[],label:t},s=0;s<e.length;)a.data.push({value:e[s].key,display:e[s].value}),s++;return a}function l(t){e._isVisible&&Le(".mbsc-sc-whl-w",e._markup).css("display","").slice(t).hide()}function o(e,t){var a,s,n,r=[],l=T,o=0,c=!1;if(void 0!==e[o]&&o<=t)for(a=0,s=e[o],n=void 0;a<l.length&&void 0===n;)l[a].key!=e[o]||l[a].invalid||(n=a),a++;else n=i(l,!0),s=l[n].key;for(c=void 0!==n&&l[n].children,r[o]=s;c;){if(l=l[n].children,o++,c=!1,n=void 0,void 0!==e[o]&&o<=t)for(a=0,s=e[o],n=void 0;a<l.length&&void 0===n;)l[a].key!=e[o]||l[a].invalid||(n=a),a++;else n=i(l,!0),n=!1===n?void 0:n,s=l[n].key;c=!(void 0===n||!i(l[n].children))&&l[n].children,r[o]=s}return{lvl:o+1,nVector:r}}function c(t){var a=[];return w=w>_++?w:_,t.children("li").each(function(t){var s=Le(this),n=s.clone();n.children("ul,ol").remove();var i=e._processMarkup?e._processMarkup(n):n.html().replace(/^\s\s*/,"").replace(/\s\s*$/,""),r=!!s.attr("data-invalid"),l={key:void 0===s.attr("data-val")||null===s.attr("data-val")?t:s.attr("data-val"),value:i,invalid:r,children:null},o=s.children("ul,ol");o.length&&(l.children=c(o)),a.push(l)}),_--,a}function d(t,a,s){var i,r=(a||0)+1,o=[],c={},d={};for(c=n(t,null,a),i=0;i<t.length;i++)e._tempWheelArray[i]=t[i]=s.nVector[i]||0;for(;r<s.lvl;)d[r]=v?c[0][r]:c[r][0],o.push(r++);l(s.lvl),C=t.slice(0),o.length&&(m=!0,e.changeWheel(d))}var u,m,h,f=Oe({},e.settings),p=Oe(e.settings,Pt,f),b=p.layout||(/top|bottom/.test(p.display)?"liquid":""),v="liquid"==b,g=p.readonly,y=Le(this),x=this.id+"_dummy",w=0,_=0,C=[],T=p.wheelArray||c(y),M=function(e){var t,a=[];for(t=0;t<e;t++)a[t]=p.labels&&p.labels[t]?p.labels[t]:t;return a}(w),k=function(e){for(var t,a=[],s=e,n=!0,r=0;n;)t=i(s),a[r++]=t.key,(n=t.children)&&(s=n);return a}(T),D=n(k,w);return Le("#"+x).remove(),p.input?u=Le(p.input):p.showInput&&(u=Le('<input type="text" id="'+x+'" value="" class="'+p.inputClass+'" placeholder="'+(p.placeholder||"")+'" readonly />').insertBefore(y)),u&&e.attachShow(u),p.wheelArray||y.hide(),{wheels:D,anchor:u,layout:b,headerText:!1,setOnTap:1==w,formatValue:function(e){return void 0===h&&(h=o(e,e.length).lvl),e.slice(0,h).join(" ")},parseValue:function(e){return e?(e+"").split(" "):(p.defaultValue||k).slice(0)},onBeforeShow:function(){var t=e.getArrayVal(!0);C=t.slice(0),p.wheels=n(t,w,w),m=!0},onWheelGestureStart:function(e){p.readonly=s(w,e.index)},onWheelAnimationEnd:function(t){var a=t.index,s=e.getArrayVal(!0),n=o(s,a);h=n.lvl,p.readonly=g,s[a]!=C[a]&&d(s,a,n)},onFill:function(e){h=void 0,u&&u.val(e.valueText)},validate:function(e){var a=e.values,s=e.index,n=o(a,a.length);return h=n.lvl,void 0===s&&(l(n.lvl),m||d(a,s,n)),m=!1,{disabled:t(h,T,a)}},onDestroy:function(){u&&Le("#"+x).remove(),y.show()}}},ne.presets.scroller.treelist=ne.presets.scroller.list,ne.presetShort("list"),ne.presetShort("treelist");var Wt=function(e,t,a){function s(e){!Le(".mbsc-fr-c",e).hasClass("mbsc-wdg-c")&&ne.dtdDV&&(Le(".mbsc-fr-c",e).addClass("mbsc-wdg-c").append(l.show()),Le(".mbsc-w-p",e).length||Le(".mbsc-fr-c",e).addClass("mbsc-w-p"))}var n,i,r,l=Le(e),o=this;Xe.call(this,e,t,!0),o._generateContent=function(){return""},o._markupReady=function(e){"inline"!=n.display&&s(e)},o._markupInserted=function(e){"inline"==n.display&&s(e),e.trigger("mbsc-enhance",[{theme:n.theme,lang:n.lang}])},o._markupRemove=function(){l.hide(),i?i.prepend(l):r.after(l)},o.__processSettings=function(){n=o.settings,o.buttons.ok={text:n.okText,icon:n.okIcon,handler:"set"},n.buttons=n.buttons||("inline"==n.display?[]:["ok"]),i||r||(r=l.prev(),r.length||(i=l.parent())),l.hide()},o.__init=function(){n.cssClass=(n.cssClass||"")+" mbsc-wdg"},a||o.init(t)};Wt.prototype={_hasDef:!0,_hasTheme:!0,_hasContent:!0,_hasLang:!0,_class:"widget",_defaults:Oe({},Xe.prototype._defaults,{okText:"OK",headerText:!1})},ne.classes.Widget=Wt,ne.themes.widget=ne.themes.frame,ne.presetShort("widget","Widget",!1);var $t=ne.classes,jt=1,Rt=function(e,t){function a(e){clearTimeout(_),_=setTimeout(function(){c("load"!==e.type)},200)}function s(e,t){if(e.length){var a=e.offset().left,s=e[0].offsetLeft,r=e[0].offsetWidth,l=m.offset().left;u=e,void 0===t&&(t=!x),T&&t&&(x?"true"==e.attr("data-selected")?i(e):n(e):(i(Le(".mbsc-ms-item-sel",Y)),n(e))),C&&(s=V-s-r),"a"==D?a<l?k.scroll(C?s+r-v:-s,L,!0):a+r>l+v&&k.scroll(C?s:v-s-r,L,!0):k.scroll(v/2-s-r/2,L,!0),t&&E("onItemTap",{target:e[0]})}}function n(e){e.addClass(M).attr("data-selected","true").attr("aria-selected","true")}function i(e){e.removeClass(M).removeAttr("data-selected").removeAttr("aria-selected")}function r(e){return"object"!==(void 0===e?"undefined":ie(e))&&(e=Y.children('[data-id="'+e+'"]')),Le(e)}function l(){g&&"inline"!=g&&h.find(".mbsc-page").css("padding-"+g,"")}function o(){var e,t;Y.find(".mbsc-ripple").remove(),Y.children().each(function(a){var s,n=Le(this),i=T&&"true"==n.attr("data-selected"),r="true"==n.attr("data-disabled"),l=n.attr("data-icon"),o=n.attr("data-ref");o||(o=jt++),0===a&&(f=n),T&&!x&&i&&(u=n),l&&(e=!0),n.text()&&(t=!0),s="mbsc-ms-item "+(S.itemClass||"")+(S.tapHighlight?" mbsc-btn-e":"")+(i?M:"")+(r?" mbsc-btn-d "+(S.disabledClass||""):"")+(l?" mbsc-ms-ic mbsc-ic mbsc-ic-"+l:""),n.attr("data-ref",o).attr("data-role","button").attr("aria-selected",i?"true":"false").attr("aria-disabled",r?"true":"false").removeClass(I[o]).addClass(s),I[o]=s}),e?m.addClass("mbsc-ms-icons"):m.removeClass("mbsc-ms-icons"),t?m.addClass("mbsc-ms-txt"):m.removeClass("mbsc-ms-txt")}function c(t,a){var s=S.itemWidth,n=S.layout;O.contWidth=v=m.width(),t&&w===v||!v||(w=v,d(n)&&(y=v?v/n:s)<s&&(n="liquid"),s&&("liquid"==n?y=v?v/Math.min(Math.floor(v/s),Y.children().length):s:"fixed"==n&&(y=s)),y&&Y.children().css("width",y+"px"),"inline"!=g&&h.find(".mbsc-page").css("padding-"+g,e.offsetHeight+"px"),O.totalWidth=V=e.offsetWidth,Oe(k.settings,{contSize:v,maxSnapScroll:!!S.paging&&1,maxScroll:0,minScroll:V>v?v-V:0,snap:S.paging?v:!!S.snap&&(y||".mbsc-ms-item"),elastic:V>v&&(y||v)}),k.refresh(a))}var u,m,h,f,p,b,v,g,y,x,w,_,C,T,M,k,D,S,V,A,E,I={},L=1e3,O=this,Y=Le(e);Se.call(this,e,t,!0),O.navigate=function(e,t){s(r(e),t)},O.next=function(e){var t=u?u.next():f;t.length&&(u=t,s(u,e))},O.prev=function(e){var t=u?u.prev():f;t.length&&(u=t,s(u,e))},O.select=function(e){x||i(Le(".mbsc-ms-item-sel",Y)),n(r(e))},O.deselect=function(e){i(r(e))},O.enable=function(e){r(e).removeClass("mbsc-btn-d").removeAttr("data-disabled").removeAttr("aria-disabled")},O.disable=function(e){r(e).addClass("mbsc-btn-d").attr("data-disabled","true").attr("aria-disabled","true")},O.refresh=O.position=function(e){o(),c(!1,e)},O._init=function(){h=Le(S.context),p=Le("body"==S.context?window:S.context),l(),g=S.display,C=S.rtl,"tabs"==S.type?(S.select=S.select||"single",S.variant=S.variant||"b"):"options"==S.type?(S.select=S.select||"multiple",S.variant=S.variant||"a"):"menu"==S.type&&(S.select=S.select||"off",S.variant=S.variant||"a"),S.itemWidth&&S.snap===b&&(S.snap=!0),D=S.variant,T="off"!=G.select,x="multiple"==S.select,M=" mbsc-ms-item-sel "+(S.activeClass||""),b="mbsc-ms-c mbsc-ms-"+D+" mbsc-ms-"+S.display+" mbsc-"+S.theme+" "+(S.baseTheme?" mbsc-"+S.baseTheme:"")+" "+(S.cssClass||"")+" "+(S.wrapperClass||"")+(S.rtl?" mbsc-ms-rtl":" mbsc-ms-ltr")+(S.itemWidth?" mbsc-ms-hasw":"")+("body"==S.context?"":" mbsc-ms-ctx")+(T?"":" mbsc-ms-nosel"),m?(m.attr("class",b),Y.off(".mbsc-ripple")):(m=Le('<div class="'+b+'"><div class="mbsc-ms-sc"></div></div>').insertAfter(Y),m.find(".mbsc-ms-sc").append(Y),k=new ze(m[0],{axis:"X",contSize:0,maxScroll:0,maxSnapScroll:1,minScroll:0,snap:1,elastic:1,rtl:C,mousewheel:S.mousewheel,thresholdX:S.threshold,onStart:function(e){A||"touchstart"!=e.domEvent.type||(A=!0,h.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},onBtnTap:function(e){s(Le(e.target),!0)},onGestureStart:function(e){E("onGestureStart",e)},onGestureEnd:function(e){E("onGestureEnd",e)},onMove:function(e){E("onMove",e)},onAnimationStart:function(e){E("onAnimationStart",e)},onAnimationEnd:function(e){E("onAnimationEnd",e)}})),Y.css("display","").addClass("mbsc-ms "+(S.groupClass||"")),o(),E("onMarkupReady",{target:m[0]}),c(),m.find("img").on("load",a),p.on("orientationchange resize",a)},O._destroy=function(){l(),p.off("orientationchange resize",a),Y.removeClass("mbsc-ms mbsc-ms-a mbsc-ms-b").insertAfter(m).find(".mbsc-ms-item").each(function(){var e=Le(this);e.width("").removeClass(I[e.attr("data-ref")])}),m.remove(),k.destroy()},S=O.settings,E=O.trigger,O.init(t)};Rt.prototype={_class:"menustrip",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_defaults:{context:"body",type:"options",display:"inline",layout:"liquid",tapHighlight:!0}},$t.MenuStrip=Rt,ne.presetShort("menustrip","MenuStrip");var qt={batch:50,min:0,max:100,defaultUnit:"",units:null,unitNames:null,invalid:[],sign:!1,step:.05,scale:2,convert:function(e){return e},signText:"&nbsp;",wholeText:"Whole",fractionText:"Fraction",unitText:"Unit"};ne.presets.scroller.measurement=function(e){function t(e){return Math.max(g,Math.min(y,H?e<0?Math.ceil(e):Math.floor(e):i(Math.round(e-$),W)+$))}function a(e){return H?i((Math.abs(e)-Math.abs(t(e)))*P-j,W)+j:0}function s(e){var s=t(e),n=a(e),i=e<0?"-":"+";return n>=P&&(e<0?s--:s++,n=0),[i,s,n]}function n(e){var t=+e[f],a=H?e[h]/P*(t<0?-1:1):0;return(I&&"-"==e[0]?-1:1)*(t+a)}function i(e,t){return Math.round(e/t)*t}function r(e,t,a){return t!==a&&M.convert?M.convert.call(this,e,t,a):e}function l(e){var t,s;b=r(M.min,O,e),v=r(M.max,O,e),H?(g=b<0?Math.ceil(b):Math.floor(b),y=v<0?Math.ceil(v):Math.floor(v),x=a(b),w=a(v)):(g=Math.round(b),y=Math.round(v),y=g+Math.floor((y-g)/W)*W,$=g%W),t=g,s=y,I&&(s=Math.abs(t)>Math.abs(s)?Math.abs(t):Math.abs(s),t=t<0?0:t),V.min=t<0?Math.ceil(t/N):Math.floor(t/N),V.max=s<0?Math.ceil(s/N):Math.floor(s/N)}function o(e){return n(e).toFixed(H?F:0)+(L?" "+Y[e[p]]:"")}var c,d,u,h,f,p,b,v,g,y,x,w,_,C,T=Oe({},e.settings),M=Oe(e.settings,qt,T),k={},D=[[]],S={},V={},A={},E=[],I=M.sign,L=M.units&&M.units.length,O=L?M.defaultUnit||M.units[0]:"",Y=[],H=M.step<1,N=M.step>1?M.step:1,F=H?Math.max(M.scale,(M.step+"").split(".")[1].length):1,P=Math.pow(10,F),W=Math.round(H?M.step*P:M.step),$=0,j=0,R=0;if(e.setVal=function(t,a,s,n,i){e._setVal(Le.isArray(t)?o(t):t,a,s,n,i)},M.units)for(C=0;C<M.units.length;++C)_=M.units[C],Y.push(M.unitNames?M.unitNames[_]||_:_);if(I)if(I=!1,L)for(C=0;C<M.units.length;C++)r(M.min,O,M.units[C])<0&&(I=!0);else I=M.min<0;if(I&&D[0].push({data:["-","+"],label:M.signText}),V={label:M.wholeText,data:function(e){return g%N+e*N},getIndex:function(e){return Math.round((e-g%N)/N)}},D[0].push(V),f=R++,l(O),H){for(D[0].push(A),A.data=[],A.label=M.fractionText,C=j;C<P;C+=W)E.push(C),A.data.push({value:C,display:"."+function(e,t){for(e+="";e.length<t;)e="0"+e;return e}(C,F)});h=R++,c=Math.ceil(100/W),M.invalid&&M.invalid.length&&(Le.each(M.invalid,function(e,t){var a=t>0?Math.floor(t):Math.ceil(t);0===a&&(a=t<=0?-.001:.001),S[a]=(S[a]||0)+1,0===t&&(a=.001,S[a]=(S[a]||0)+1)}),Le.each(S,function(e,t){t<c?delete S[e]:S[e]=e}))}if(L){for(k={data:[],label:M.unitText,cssClass:"mbsc-msr-whl-unit",circular:!1},C=0;C<M.units.length;C++)k.data.push({value:C,display:Y[C]});D[0].push(k)}return p=R,{wheels:D,minWidth:I&&H?70:80,showLabel:!1,formatValue:o,compClass:"mbsc-msr",parseValue:function(e){var t,a=("number"==typeof e?e+"":e)||M.defaultValue,n=(a+"").split(" "),i=+n[0],r=[],o="";return L&&(o=Le.inArray(n[1],Y),o=-1==o?Le.inArray(O,M.units):o,o=-1==o?0:o),u=L?M.units[o]:"",l(u),i=isNaN(i)?0:i,i=m(i,b,v),t=s(i),t[1]=m(t[1],g,y),d=i,I&&(r[0]=t[0],t[1]=Math.abs(t[1])),r[f]=t[1],H&&(r[h]=t[2]),L&&(r[p]=o),r},onCancel:function(){d=void 0},validate:function(t){var a,o,c,_,C,T=t.values,k=t.index,D=t.direction,A={},Y=[],F={},P=L?M.units[T[p]]:"";if(I&&0===k&&(d=Math.abs(d)*("-"==T[0]?-1:1)),(k===f||k===h&&H||void 0===d||void 0===k)&&(d=n(T),u=P),(L&&k===p&&u!==P||void 0===k)&&(l(P),d=r(d,u,P),u=P,o=s(d),void 0!==k&&(F[f]=V,e.changeWheel(F)),I&&(T[0]=o[0])),Y[f]=[],I)for(Y[0]=[],b>0&&(Y[0].push("-"),T[0]="+"),v<0&&(Y[0].push("+"),T[0]="-"),C=Math.abs("-"==T[0]?g:y),R=C+N;R<C+20*N;R+=N)Y[f].push(R),A[R]=!0;if(d=m(d,b,v),o=s(d),c=I?Math.abs(o[1]):o[1],a=I?"-"==T[0]:d<0,T[f]=c,a&&(o[0]="-"),H&&(T[h]=o[2]),Le.each(H?S:M.invalid,function(e,t){if(I&&a){if(!(t<=0))return;t=Math.abs(t)}t=i(r(t,O,P),H?1:W),A[t]=!0,Y[f].push(t)}),T[f]=e.getValidValue(f,c,D,A),o[1]=T[f]*(I&&a?-1:1),H){Y[h]=[];var $=I?T[0]+T[1]:(d<0?"-":"+")+Math.abs(o[1]),j=(b<0?"-":"+")+Math.abs(g),q=(v<0?"-":"+")+Math.abs(y);$===j&&Le(E).each(function(e,t){(a?t>x:t<x)&&Y[h].push(t)}),$===q&&Le(E).each(function(e,t){(a?t<w:t>w)&&Y[h].push(t)}),Le.each(M.invalid,function(e,t){_=s(r(t,O,P)),(o[0]===_[0]||0===o[1]&&0===_[1]&&0===_[2])&&o[1]===_[1]&&Y[h].push(_[2])})}return{disabled:Y,valid:T}}}},ne.presetShort("measurement");var Xt=ne.presets.scroller,Ut={min:0,max:100,defaultUnit:"km",units:["m","km","in","ft","yd","mi"]},Bt={mm:.001,cm:.01,dm:.1,m:1,dam:10,hm:100,km:1e3,in:.0254,ft:.3048,yd:.9144,ch:20.1168,fur:201.168,mi:1609.344,lea:4828.032};ne.presetShort("distance"),Xt.distance=function(e){var t=Oe({},Ut,e.settings);return Oe(e.settings,t,{sign:!1,convert:function(e,t,a){return e*Bt[t]/Bt[a]}}),Xt.measurement.call(this,e)};var zt=ne.presets.scroller,Kt={min:0,max:100,defaultUnit:"N",units:["N","kp","lbf","pdl"]},Gt={N:1,kp:9.80665,lbf:4.448222,pdl:.138255};ne.presetShort("force"),zt.force=function(e){var t=Oe({},Kt,e.settings);return Oe(e.settings,t,{sign:!1,convert:function(e,t,a){return e*Gt[t]/Gt[a]}}),zt.measurement.call(this,e)};var Zt=ne.presets.scroller,Jt={min:0,max:1e3,defaultUnit:"kg",units:["g","kg","oz","lb"],unitNames:{tlong:"t (long)",tshort:"t (short)"}},Qt={mg:.001,cg:.01,dg:.1,g:1,dag:10,hg:100,kg:1e3,t:1e6,drc:1.7718452,oz:28.3495,lb:453.59237,st:6350.29318,qtr:12700.58636,cwt:50802.34544,tlong:1016046.9088,tshort:907184.74};ne.presetShort("mass"),Zt.mass=function(e){var t=Oe({},Jt,e.settings);return Oe(e.settings,t,{sign:!1,convert:function(e,t,a){return e*Qt[t]/Qt[a]}}),Zt.measurement.call(this,e)};var ea=ne.presets.scroller,ta={min:0,max:100,defaultUnit:"kph",units:["kph","mph","mps","fps","knot"],unitNames:{kph:"km/h",mph:"mi/h",mps:"m/s",fps:"ft/s",knot:"knot"}},aa={kph:1,mph:1.60934,mps:3.6,fps:1.09728,knot:1.852};ne.presetShort("speed"),ea.speed=function(e){var t=Oe({},ta,e.settings);return Oe(e.settings,t,{sign:!1,convert:function(e,t,a){return e*aa[t]/aa[a]}}),ea.measurement.call(this,e)};var sa=ne.presets.scroller,na={min:-20,max:40,defaultUnit:"c",units:["c","k","f","r"],unitNames:{c:"°C",k:"K",f:"°F",r:"°R"}},ia={c2k:function(e){return e+273.15},c2f:function(e){return 9*e/5+32},c2r:function(e){return 9*(e+273.15)/5},k2c:function(e){return e-273.15},k2f:function(e){return 9*e/5-459.67},k2r:function(e){return 9*e/5},f2c:function(e){return 5*(e-32)/9},f2k:function(e){return 5*(e+459.67)/9},f2r:function(e){return e+459.67},r2c:function(e){return 5*(e-491.67)/9},r2k:function(e){return 5*e/9},r2f:function(e){return e-459.67}};ne.presetShort("temperature"),sa.temperature=function(e){var t=Oe({},na,e.settings);return Oe(e.settings,t,{sign:!0,convert:function(e,t,a){return ia[t+"2"+a](e)}}),sa.measurement.call(this,e)},ne.presets.scroller.number=ne.presets.scroller.measurement,ne.presetShort("number");var ra,la=ne.classes,oa=1,ca="transparent",da=function(e,t){function a(){Tt=!1,bt=!1,ee=0,Lt=0,Ot=new Date,Qe=oe.width(),ue=F(oe),at=ue.index(et),tt=et[0].offsetHeight,sa=et[0].offsetTop,qt=Xt[et.attr("data-type")||"defaults"],It=qt.stages}function s(e){var t;"touchstart"===e.type&&(vt=!0,clearTimeout(gt)),!x(e,this)||Z||ta||ra||da||!ne.dtdDV||(Z=!0,te=!0,Yt=b(e,"X"),Ht=b(e,"Y"),ve=0,ge=0,et=Le(this),t=et,a(),$t=Dt.onItemTap||qt.tap||et.hasClass("mbsc-lv-parent")||et.hasClass("mbsc-lv-back"),it=et.offset().top,$t&&(Q=setTimeout(function(){t.addClass("mbsc-lv-item-active"),Ae("onItemActivate",{target:t[0],domEvent:e})},120)),Jt.sortable&&!et.hasClass("mbsc-lv-back")&&(Jt.sortable.group||(ft=et.nextUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item"),yt=et.prevUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item")),ct=(Jt.sortable.group?oe.children(nt).eq(0):yt.length?yt.eq(-1):et)[0].offsetTop-sa,ot=(Jt.sortable.group?oe.children(nt).eq(-1):ft.length?ft.eq(-1):et)[0].offsetTop-sa,Jt.sortable.handle?Le(e.target).hasClass("mbsc-lv-handle")&&(clearTimeout(Q),"Moz"===Ie?(e.preventDefault(),u()):Rt=setTimeout(function(){u()},100)):Rt=setTimeout(function(){Ye.appendTo(et),Ye[0].style[Ie+"Animation"]="mbsc-lv-fill "+(Dt.sortDelay-100)+"ms linear",clearTimeout(Ce),clearTimeout(Q),te=!1,Rt=setTimeout(function(){Ye[0].style[Ie+"Animation"]="",u()},Dt.sortDelay-80)},80)),"mousedown"==e.type&&Le(document).on("mousemove",n).on("mouseup",i))}function n(e){var t=!1,a=!0;if(Z)if(Te=b(e,"X"),De=b(e,"Y"),ve=Te-Yt,ge=De-Ht,clearTimeout(Ce),we||Ft||St||et.hasClass("mbsc-lv-back")||(Math.abs(ge)>10?(St=!0,i(Oe({},e,{type:"mousemove"==e.type?"mouseup":"touchend"})),clearTimeout(Q)):Math.abs(ve)>7&&r()),Ft)e.preventDefault(),ee=ve/Qe*100,o();else if(we){e.preventDefault();var s,n=zt.scrollTop(),l=Math.max(ct,Math.min(ge+Gt,ot)),c=We?it-Zt+n-Gt:it;Kt+n<c+l+tt?(zt.scrollTop(c+l-Kt+tt),s=!0):c+l<n&&(zt.scrollTop(c+l),s=!0),s&&(Gt+=zt.scrollTop()-n),mt&&(Jt.sortable.multiLevel&&ut.hasClass("mbsc-lv-parent")?sa+tt/4+l>mt?t=!0:sa+tt-tt/4+l>mt&&(ye=ut.addClass("mbsc-lv-item-hl"),a=!1):sa+tt/2+l>mt&&(ut.hasClass("mbsc-lv-back")?Jt.sortable.multiLevel&&(xe=ut.addClass("mbsc-lv-item-hl"),a=!1):t=!0),t&&(xt.insertAfter(ut),wt=ut,ut=$(ut,"next"),_t=mt,mt=ut.length&&ut[0].offsetTop,le++)),!t&&_t&&(Jt.sortable.multiLevel&&wt.hasClass("mbsc-lv-parent")?sa+tt-tt/4+l<_t?t=!0:sa+tt/4+l<_t&&(ye=wt.addClass("mbsc-lv-item-hl"),a=!1):sa+tt/2+l<_t&&(wt.hasClass("mbsc-lv-back")?Jt.sortable.multiLevel&&(xe=wt.addClass("mbsc-lv-item-hl"),a=!1):t=!0),t&&(xt.insertBefore(wt),ut=wt,wt=$(wt,"prev"),mt=_t,_t=wt.length&&wt[0].offsetTop+wt[0].offsetHeight,le--)),a&&(ye&&(ye.removeClass("mbsc-lv-item-hl"),ye=!1),xe&&(xe.removeClass("mbsc-lv-item-hl"),xe=!1)),t&&Ae("onSortChange",[et,le]),V(et,l),Ae("onSort",[et,le])}else(Math.abs(ve)>5||Math.abs(ge)>5)&&A()}function i(e){var t,a,s,r=et;Z&&(Z=!1,A(),"mouseup"==e.type&&Le(document).off("mousemove",n).off("mouseup",i),St||(gt=setTimeout(function(){vt=!1},300)),(Ft||St||we)&&(bt=!0),Ft?c():we?(s=oe,ye?(O(et.detach()),a=la[ye.attr("data-ref")],le=F(a.child).length,ye.removeClass("mbsc-lv-item-hl"),Dt.navigateOnDrop?B(ye,function(){Jt.add(null,et,null,null,ye,!0),X(et),m(et,at,s,!0)}):(Jt.add(null,et,null,null,ye,!0),m(et,at,s,!0))):xe?(O(et.detach()),a=la[xe.attr("data-back")],le=F(a.parent).index(a.item)+1,xe.removeClass("mbsc-lv-item-hl"),Dt.navigateOnDrop?B(xe,function(){Jt.add(null,et,le,null,oe,!0),X(et),m(et,at,s,!0)}):(Jt.add(null,et,le,null,a.parent,!0),m(et,at,s,!0))):(t=xt[0].offsetTop-sa,V(et,t,6*Math.abs(t-Math.max(ct,Math.min(ge+Gt,ot))),function(){O(et),et.insertBefore(xt),m(et,at,s,le!==at)})),we=!1):!St&&Math.abs(ve)<5&&Math.abs(ge)<5&&(qt.tap&&qt.tap.call(Qt,{target:et,index:at,domEvent:e},Jt),$t&&("touchend"===e.type&&p(),et.addClass("mbsc-lv-item-active"),Ae("onItemActivate",{target:et[0],domEvent:e})),!1!==Ae("onItemTap",{target:et[0],index:at,domEvent:e})&&B(et)),clearTimeout(Q),setTimeout(function(){r.removeClass("mbsc-lv-item-active"),Ae("onItemDeactivate",{target:r[0]})},100),St=!1,me=null)}function r(){(Ft=Y(qt.swipe,{target:et[0],index:at,direction:ve>0?"right":"left"}))&&(A(),clearTimeout(Q),qt.actions?(J=q(qt,ve),dt.html(qt.icons).show().children().css("width",J+"%"),Ze.hide(),Le(".mbsc-lv-ic-m",Je).removeClass("mbsc-lv-ic-disabled"),Le(qt.leftMenu).each(C),Le(qt.rightMenu).each(C)):(Ze.show(),dt.hide(),he=qt.start+(ve>0?0:1),Ct=It[he-1],ht=It[he]),et.addClass("mbsc-lv-item-swiping").removeClass("mbsc-lv-item-active"),jt.css("line-height",tt+"px"),Je.css({top:sa,height:tt,backgroundColor:j(ve)}).addClass("mbsc-lv-stage-c-v").appendTo(oe.parent()),Dt.iconSlide&&et.append(Ze),Ae("onSlideStart",{target:et[0],index:at}))}function o(){var e=!1;kt||(qt.actions?Je.attr("class","mbsc-lv-stage-c-v mbsc-lv-stage-c mbsc-lv-"+(ee<0?"right":"left")):(Ct&&ee<=Ct.percent?(he--,ht=Ct,Ct=It[he],e=!0):ht&&ee>=ht.percent&&(he++,Ct=ht,ht=It[he],e=!0),e&&(me=ee>0?Ct:ht)&&(E(me,Dt.iconSlide),Ae("onStageChange",{target:et[0],index:at,stage:me}))),Vt||(kt=!0,Mt=Me(k)))}function c(e){var t,a,s,n=!1;ke(Mt),kt=!1,Vt||k(),qt.actions?Math.abs(ee)>10&&J&&(S(et,ee<0?-J:J,200),n=!0,ra=!0,ae=et,se=at,Le(document).on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(t){t.preventDefault(),D(et,!0,e)})):ee&&(Dt.quickSwipe&&!Vt&&(s=new Date-Ot,t=s<300&&ve<-50,a=s<300&&ve>50,t?(Tt=!0,me=qt.left,E(me,Dt.iconSlide)):a&&(Tt=!0,me=qt.right,E(me,Dt.iconSlide))),me&&me.action&&((be=Y(me.disabled,{target:et[0],index:at}))||(n=!0,ra=Vt||Y(me.confirm,{target:et[0],index:at}),ra?(S(et,(ee<0?-1:1)*Ze[0].offsetWidth*100/Qe,200,!0),M(me,et,at,!1,e)):T(me,et,at,e)))),n||D(et,!0,e),Ft=!1}function u(){we=!0,ye=!1,xe=!1,Gt=0,le=at,Dt.vibrate&&f(),ut=$(et,"next"),mt=ut.length&&ut[0].offsetTop,wt=$(et,"prev"),_t=wt.length&&wt[0].offsetTop+wt[0].offsetHeight,xt.height(tt).insertAfter(et),et.css({top:sa}).addClass("mbsc-lv-item-dragging").removeClass("mbsc-lv-item-active").appendTo(_e),Ae("onSortStart",{target:et[0],index:le})}function m(e,t,a,s){e.removeClass("mbsc-lv-item-dragging"),xt.remove(),Ae("onSortEnd",{target:e[0],index:le}),Dt.vibrate&&f(),s&&(Jt.addUndoAction(function(s){Jt.move(e,t,null,s,a,!0)},!0),Ae("onSortUpdate",{target:e[0],index:le}))}function v(){vt||(clearTimeout(Be),ra&&Le(document).trigger("touchstart"),qe&&(Jt.close(Re,Xe),qe=!1,Re=null))}function g(){clearTimeout(fe),fe=setTimeout(function(){Kt=zt[0].innerHeight||zt.innerHeight(),Zt=We?zt.offset().top:0,Z&&(sa=et[0].offsetTop,tt=et[0].offsetHeight,Je.css({top:sa,height:tt}))},200)}function y(e){bt&&(e.stopPropagation(),e.preventDefault(),bt=!1)}function _(){if(we||!Z){var e,t=zt.scrollTop(),a=ea.offset().top,s=ea[0].offsetHeight,n=We?zt.offset().top:t;Le(".mbsc-lv-gr-title",ea).each(function(t,a){Le(a).offset().top<n&&(e=a)}),a<n&&a+s>n?Ne.show().empty().append(Le(e).clone()):Ne.hide()}}function C(e,t){Y(t.disabled,{target:et[0],index:at})&&Le(".mbsc-ic-"+t.icon,Je).addClass("mbsc-lv-ic-disabled")}function T(e,t,a,s){var n,i={icon:"undo2",text:Dt.undoText,color:"#b1b1b1",action:function(){Jt.undo()}};e.undo&&(Jt.startActionTrack(),Le.isFunction(e.undo)&&Jt.addUndoAction(function(){e.undo.call(Qt,{target:t[0],index:a},Jt)}),Ut=t.attr("data-ref")),n=e.action.call(Qt,{target:t[0],index:a},Jt),e.undo?(Jt.endActionTrack(),!1!==n&&S(t,+t.attr("data-pos")<0?-100:100,200),xt.height(tt).insertAfter(t),t.css("top",sa).addClass("mbsc-lv-item-undo"),dt.hide(),Ze.show(),Je.append(Ze),E(i),M(i,t,a,!0,s)):D(t,n,s)}function M(e,t,a,s,n){var i,r;ra=!0,Le(document).off(".mbsc-lv-conf").on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(e){e.preventDefault(),s&&L(t),D(t,!0,n)}),pe||Ze.off(".mbsc-lv-conf").on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(e){e.stopPropagation(),i=b(e,"X"),r=b(e,"Y")}).on("touchend.mbsc-lv-conf mouseup.mbsc-lv-conf",function(l){l.preventDefault(),"touchend"===l.type&&p(),Math.abs(b(l,"X")-i)<10&&Math.abs(b(l,"Y")-r)<10&&(T(e,t,a,n),s&&(Bt=null,L(t)))})}function k(){S(et,Lt+100*ve/Qe),kt=!1}function D(e,t,a){Le(document).off(".mbsc-lv-conf"),Ze.off(".mbsc-lv-conf"),!1!==t?S(e,0,"0"!==e.attr("data-pos")?200:0,!1,function(){I(e,a),O(e)}):I(e,a),ra=!1}function S(e,t,a,s,n){t=Math.max("right"==Ft?0:-100,Math.min(t,"left"==Ft?0:100)),Nt=e[0].style,e.attr("data-pos",t),Nt[Ie+"Transform"]="translate3d("+(s?Qe*t/100+"px":t+"%")+",0,0)",Nt[Ie+"Transition"]=Ee+"transform "+(a||0)+"ms",n&&(ta++,setTimeout(function(){n(),ta--},a)),ee=t}function V(e,t,a,s){t=Math.max(ct,Math.min(t,ot)),Nt=e[0].style,Nt[Ie+"Transform"]="translate3d(0,"+t+"px,0)",Nt[Ie+"Transition"]=Ee+"transform "+(a||0)+"ms ease-out",s&&(ta++,setTimeout(function(){s(),ta--},a))}function A(){clearTimeout(Rt),!te&&Jt.sortable&&(te=!0,Ye.remove())}function E(e,t){var a=Y(e.text,{target:et[0],index:at})||"";Y(e.disabled,{target:et[0],index:at})?Je.addClass("mbsc-lv-ic-disabled"):Je.removeClass("mbsc-lv-ic-disabled"),Je.css("background-color",e.color||(0===e.percent?j(ee):ca)),Ze.attr("class","mbsc-lv-ic-c mbsc-lv-ic-"+(t?"move-":"")+(ee<0?"right":"left")),Ge.attr("class"," mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-"+(e.icon||"none")),jt.attr("class","mbsc-lv-ic-text"+(e.icon?"":" mbsc-lv-ic-text-only")+(a?"":" mbsc-lv-ic-only")).html(a||"&nbsp;"),Dt.animateIcons&&(Tt?Ge.addClass("mbsc-lv-ic-v"):setTimeout(function(){Ge.addClass("mbsc-lv-ic-a")},10))}function I(e,t){Z||(Ge.attr("class","mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"),Je.attr("style","").removeClass("mbsc-lv-stage-c-v"),jt.html("")),Je.removeClass("mbsc-lv-left mbsc-lv-right"),e&&(Ae("onSlideEnd",{target:e[0],index:at}),t&&t())}function L(e){e.css("top","").removeClass("mbsc-lv-item-undo"),Bt?Jt.animate(xt,"collapse",function(){xt.remove()}):xt.remove(),I(),Ut=null,Bt=null}function O(e){Nt=e[0].style,Nt[Ie+"Transform"]="",
Nt[Ie+"Transition"]="",Nt.top="",e.removeClass("mbsc-lv-item-swiping")}function Y(e,t){return Le.isFunction(e)?e.call(this,t,Jt):e}function H(e){var t,a=e.attr("data-role");if(e.attr("data-ref")||(t=oa++,e.attr("data-ref",t),la[t]={item:e,child:e.children(lt),parent:e.parent(),ref:e.parent()[0]===Qt?null:e.parent().parent().attr("data-ref")}),e.addClass("list-divider"==a?"mbsc-lv-gr-title":"mbsc-lv-item"),Jt.sortable.handle&&"list-divider"!=a&&!e.children(".mbsc-lv-handle-c").length&&e.append($e),Dt.enhance&&!e.hasClass("mbsc-lv-item-enhanced")){var s=e.attr("data-icon"),n=e.find("img").eq(0).addClass("mbsc-lv-img");n.is(":first-child")?e.addClass("mbsc-lv-img-"+(Dt.rtl?"right":"left")):n.length&&e.addClass("mbsc-lv-img-"+(Dt.rtl?"left":"right")),e.addClass("mbsc-lv-item-enhanced").children().each(function(e,t){t=Le(t),t.is("p, h1, h2, h3, h4, h5, h6")&&t.addClass("mbsc-lv-txt")}),s&&e.addClass("mbsc-lv-item-ic-"+(e.attr("data-icon-align")||(Dt.rtl?"right":"left"))).append('<div class="mbsc-lv-item-ic mbsc-ic mbsc-ic-'+s+'"></div>')}}function N(e){Le(nt,e).not(".mbsc-lv-item").each(function(){H(Le(this))}),Le(lt,e).not(".mbsc-lv").addClass("mbsc-lv").prepend(ze).parent().addClass("mbsc-lv-parent").prepend(Ke),Le(".mbsc-lv-back",e).each(function(){Le(this).attr("data-back",Le(this).parent().parent().attr("data-ref"))})}function F(e){return e.children(nt).not(".mbsc-lv-back").not(".mbsc-lv-removed").not(".mbsc-lv-ph")}function P(e){return"object"!==(void 0===e?"undefined":ie(e))&&(e=Le(nt,re).filter('[data-id="'+e+'"]')),Le(e)}function W(e){for(var t=0,a=la[e.attr("data-ref")];a&&a.ref;)t++,a=la[a.ref];return t}function $(e,t){for(e=e[t]();e.length&&(!e.hasClass("mbsc-lv-item")||e.hasClass("mbsc-lv-ph")||e.hasClass("mbsc-lv-item-dragging"));){if(!Jt.sortable.group&&e.hasClass("mbsc-lv-gr-title"))return!1;e=e[t]()}return e}function j(e){return(e>0?qt.right:qt.left).color||ca}function R(e){return d(e)?e+"":0}function q(e,t){return+(t<0?R((e.actionsWidth||0).right)||R(e.actionsWidth)||R(Dt.actionsWidth.right)||R(Dt.actionsWidth):R((e.actionsWidth||0).left)||R(e.actionsWidth)||R(Dt.actionsWidth.left)||R(Dt.actionsWidth))}function X(e,t){if(e){var a=zt.scrollTop(),s=e.is(".mbsc-lv-item")?e[0].offsetHeight:0,n=e.offset().top+(We?a-Zt:0);t?(n<a||n+s>a+Kt)&&zt.scrollTop(n):n<a?zt.scrollTop(n):n+s>a+Kt&&zt.scrollTop(Math.min(n,n+s-Kt/2))}}function U(e,t,a,s,n){var i=t.parent(),r=t.prev();s=s||l,r[0]===Ze[0]&&(r=Ze.prev()),oe[0]!==t[0]?(Ae("onNavStart",{level:aa,direction:e,list:t[0]}),At.prepend(t.addClass("mbsc-lv-v mbsc-lv-sl-new")),X(re),z(At,"mbsc-lv-sl-"+e,function(){oe.removeClass("mbsc-lv-sl-curr"),t.removeClass("mbsc-lv-sl-new").addClass("mbsc-lv-sl-curr"),ce&&ce.length?oe.removeClass("mbsc-lv-v").insertAfter(ce):de.append(oe.removeClass("mbsc-lv-v")),ce=r,de=i,oe=t,X(a,n),s.call(Qt,a),Ae("onNavEnd",{level:aa,direction:e,list:t[0]})})):(X(a,n),s.call(Qt,a))}function B(e,t){ta||(e.hasClass("mbsc-lv-parent")?(aa++,U("r",la[e.attr("data-ref")].child,null,t)):e.hasClass("mbsc-lv-back")&&(aa--,U("l",la[e.attr("data-back")].parent,la[e.attr("data-back")].item,t)))}function z(e,t,a){function s(){clearTimeout(n),ta--,e.off(Ve,s).removeClass(t),a.call(Qt,e)}var n;a=a||l,Dt.animation&&"mbsc-lv-item-none"!==t?(ta++,e.on(Ve,s).addClass(t),n=setTimeout(s,500)):a.call(Qt,e)}function K(e,t){var a,s=e.attr("data-ref");a=ia[s]=ia[s]||[],t&&a.push(t),e.attr("data-action")||(t=a.shift(),e.attr("data-action",1),t(function(){e.removeAttr("data-action"),a.length?K(e):delete ia[s]}))}function G(e,t,a){var s,n;e&&e.length&&(s=100/(e.length+2),Le.each(e,function(i,r){void 0===r.key&&(r.key=Et++),void 0===r.percent&&(r.percent=t*s*(i+1),a&&(n=Oe({},r),n.key=Et++,n.percent=-s*(i+1),e.push(n),na[n.key]=n)),na[r.key]=r}))}var Z,J,Q,ee,te,ae,se,re,le,oe,ce,de,ue,me,he,fe,pe,be,ve,ge,ye,xe,we,_e,Ce,Te,De,Ae,Ye,He,Ne,Fe,Pe,We,$e,je,Re,qe,Xe,Ue,Be,ze,Ke,Ge,Ze,Je,Qe,et,tt,at,st,nt,it,rt,lt,ot,ct,dt,ut,mt,ht,ft,pt,bt,vt,gt,yt,xt,wt,_t,Ct,Tt,Mt,kt,Dt,St,Vt,At,Et,It,Lt,Ot,Yt,Ht,Nt,Ft,Pt,Wt,$t,jt,Rt,qt,Xt,Ut,Bt,zt,Kt,Gt,Zt,Jt=this,Qt=e,ea=Le(Qt),ta=0,aa=0,sa=0,na={},ia={},la={};Se.call(this,e,t,!0),Jt.animate=function(e,t,a){z(e,"mbsc-lv-item-"+t,a)},Jt.add=function(e,t,a,s,n,i){var r,o,c,d,u,m,h="",f=void 0===n?ea:P(n),p=f,b=Le("object"!==(void 0===t?"undefined":ie(t))?"<"+st+' data-ref="'+oa+++'" data-id="'+e+'">'+t+"</"+st+">":t),v=b.attr("data-pos")<0?"left":"right",g=b.attr("data-ref");s=s||l,g||(g=oa++,b.attr("data-ref",g)),H(b),i||Jt.addUndoAction(function(e){d?Jt.navigate(f,function(){p.remove(),f.removeClass("mbsc-lv-parent").children(".mbsc-lv-arr").remove(),u.child=f.children(lt),Jt.remove(b,null,e,!0)}):Jt.remove(b,null,e,!0)},!0),K(b,function(e){O(b.css("top","").removeClass("mbsc-lv-item-undo")),f.is(nt)?(m=f.attr("data-ref"),f.children(lt).length||(d=!0,f.append("<"+rt+"></"+rt+">"))):m=f.children(".mbsc-lv-back").attr("data-back"),u=la[m],u&&(u.child.length?p=u.child:(f.addClass("mbsc-lv-parent").prepend(Ke),p=f.children(lt).prepend(ze).addClass("mbsc-lv"),u.child=p,Le(".mbsc-lv-back",f).attr("data-back",m))),la[g]={item:b,child:b.children(lt),parent:p,ref:m},c=F(p),o=c.length,void 0!==a&&null!==a||(a=o),i&&(h="mbsc-lv-item-new-"+(i?v:"")),N(b.addClass(h)),!1!==a&&(o?a<o?b.insertBefore(c.eq(a)):b.insertAfter(c.eq(o-1)):(r=Le(".mbsc-lv-back",p),r.length?b.insertAfter(r):p.append(b))),p.hasClass("mbsc-lv-v")?Jt.animate(b.height(b[0].offsetHeight),i&&Ut===g?"none":"expand",function(t){Jt.animate(t.height(""),i?"add-"+v:"pop-in",function(t){s.call(Qt,t.removeClass(h)),e()})}):(s.call(Qt,b.removeClass(h)),e()),re.trigger("mbsc-refresh"),Ae("onItemAdd",{target:b[0]})})},Jt.swipe=function(e,t,s,n,i){e=P(e),et=e,pe=n,Vt=!0,Z=!0,s=void 0===s?300:s,ve=t>0?1:-1,a(),r(),S(e,t,s),clearTimeout(Wt),clearInterval(Pt),Pt=setInterval(function(){ee=w(e)/Qe*100,o()},10),Wt=setTimeout(function(){clearInterval(Pt),ee=t,o(),c(i),pe=!1,Vt=!1,Z=!1},s)},Jt.openStage=function(e,t,a,s){na[t]&&Jt.swipe(e,na[t].percent,a,s)},Jt.openActions=function(e,t,a,s){e=P(e);var n=q(Xt[e.attr("data-type")||"defaults"],"left"==t?-1:1);Jt.swipe(e,"left"==t?-n:n,a,s)},Jt.close=function(e,t){Jt.swipe(e,0,t)},Jt.remove=function(e,t,a,s){var n,i,r;a=a||l,e=P(e),e.length&&(i=e.parent(),n=F(i).index(e),r=e[0].style,s||(e.attr("data-ref")===Ut&&(Bt=!0),Jt.addUndoAction(function(t){Jt.add(null,e,n,t,i,!0)},!0)),K(e,function(n){t=t||(e.attr("data-pos")<0?"left":"right"),i.hasClass("mbsc-lv-v")?Jt.animate(e.addClass("mbsc-lv-removed"),s?"pop-out":"remove-"+t,function(e){r.height=e[0].offsetHeight+"px",Jt.animate(e,"collapse",function(e){r.height="",O(e.removeClass("mbsc-lv-removed")),!1!==a.call(Qt,e)&&e.remove(),n()})}):(!1!==a.call(Qt,e)&&e.remove(),n()),Ae("onItemRemove",{target:e[0]})}))},Jt.move=function(e,t,a,s,n,i){e=P(e),i||Jt.startActionTrack(),Je.append(Ze),Jt.remove(e,a,null,i),Jt.add(null,e,t,s,n,i),i||Jt.endActionTrack()},Jt.navigate=function(e,t){var a,s;e=P(e),a=la[e.attr("data-ref")],s=W(e),a&&(U(s>=aa?"r":"l",a.parent,e,t,!0),aa=s)},Jt._processSettings=function(){ea.is("[mbsc-enhance]")&&(Fe=!0,ea.removeAttr("mbsc-enhance"))},Jt._init=function(){var e,t,a,r=0,l="",o="",c="";rt=Dt.listNode,lt=Dt.listSelector,st=Dt.itemNode,nt=Dt.itemSelector,a=Dt.sort||Dt.sortable,"group"===a&&(a={group:!1,multiLevel:!0,handle:""}),!0===a&&(a={group:!0,multiLevel:!0,handle:Dt.sortHandle}),Pe=void 0==a?"":a.handle,$e=Pe?'<div class="mbsc-lv-handle-c mbsc-lv-item-h-'+Pe+' mbsc-lv-handle"><div class="'+Dt.handleClass+' mbsc-lv-handle-bar-c mbsc-lv-handle">'+Dt.handleMarkup+"</div></div>":"",ze='<li class="mbsc-lv-item mbsc-lv-back">'+Dt.backText+'<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic '+Dt.leftArrowClass+'"></div></li>',Ke='<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic '+Dt.rightArrowClass+'"></div>',e="mbsc-lv-cont mbsc-lv-"+Dt.theme+(Dt.rtl?" mbsc-lv-rtl":"")+(Dt.baseTheme?" mbsc-lv-"+Dt.baseTheme:"")+(Dt.animateIcons?" mbsc-lv-ic-anim":"")+(Dt.striped?" mbsc-lv-alt-row ":"")+(Dt.fixedHeader?" mbsc-lv-has-fixed-header ":""),Jt.sortable=a||!1,re?(re.attr("class",e),a.handle&&Le(".mbsc-lv-handle-c",re).remove(),Le(nt,re).not(".mbsc-lv-back").removeClass("mbsc-lv-item")):(l+='<div class="mbsc-lv-multi-c"></div>',l+='<div class="mbsc-lv-ic-c"><div class="mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"></div><div class="mbsc-lv-ic-text"></div></div>',ea.addClass("mbsc-lv mbsc-lv-v mbsc-lv-root").show(),Je=Le('<div class="mbsc-lv-stage-c">'+l+"</div>"),Ze=Le(".mbsc-lv-ic-c",Je),dt=Le(".mbsc-lv-multi-c",Je),Ge=Le(".mbsc-lv-ic-s",Je),jt=Le(".mbsc-lv-ic-text",Je),xt=Le("<"+st+' class="mbsc-lv-item mbsc-lv-ph"></'+st+">"),Ye=Le('<div class="mbsc-lv-fill-item"></div>'),re=Le('<div class="'+e+'"><'+rt+' class="mbsc-lv mbsc-lv-dummy"></'+rt+'><div class="mbsc-lv-sl-c"></div></div>'),We="body"!==Dt.context,zt=Le(We?Dt.context:window),_e=Le(".mbsc-lv-dummy",re),re.insertAfter(ea),zt.on("orientationchange resize",g),g(),re.on("touchstart mousedown",".mbsc-lv-item",s).on("touchmove",".mbsc-lv-item",n).on("touchend touchcancel",".mbsc-lv-item",i),Qt.addEventListener("click",y,!0),re.on("touchstart mousedown",".mbsc-lv-ic-m",function(e){pe||(e.stopPropagation(),e.preventDefault()),Yt=b(e,"X"),Ht=b(e,"Y")}).on("touchend mouseup",".mbsc-lv-ic-m",function(e){pe||("touchend"===e.type&&p(),ra&&!Le(this).hasClass("mbsc-lv-ic-disabled")&&Math.abs(b(e,"X")-Yt)<10&&Math.abs(b(e,"Y")-Ht)<10&&T((ee<0?qt.rightMenu:qt.leftMenu)[Le(this).index()],ae,se))}),At=Le(".mbsc-lv-sl-c",re).append(ea.addClass("mbsc-lv-sl-curr")).attr("data-ref",oa++),oe=ea,de=re),N(ea),Et=0,Xt=Dt.itemGroups||{},Xt.defaults={swipeleft:Dt.swipeleft,swiperight:Dt.swiperight,stages:Dt.stages,actions:Dt.actions,actionsWidth:Dt.actionsWidth},Le.each(Xt,function(e,t){if(t.swipe=void 0!==t.swipe?t.swipe:Dt.swipe,t.stages=t.stages||[],G(t.stages,1,!0),G(t.stages.left,1),G(t.stages.right,-1),(t.stages.left||t.stages.right)&&(t.stages=[].concat(t.stages.left||[],t.stages.right||[])),He=!1,t.stages.length||(t.swipeleft&&t.stages.push({percent:-30,action:t.swipeleft}),t.swiperight&&t.stages.push({percent:30,action:t.swiperight})),Le.each(t.stages,function(e,t){if(0===t.percent)return He=!0,!1}),He||t.stages.push({percent:0}),t.stages.sort(function(e,t){return e.percent-t.percent}),Le.each(t.stages,function(e,a){if(0===a.percent)return t.start=e,!1}),He?t.left=t.right=t.stages[t.start]:(t.left=t.stages[t.start-1]||{},t.right=t.stages[t.start+1]||{}),t.actions){for(t.leftMenu=t.actions.left||t.actions,t.rightMenu=t.actions.right||t.leftMenu,o="",c="",r=0;r<t.leftMenu.length;r++)o+="<div "+(t.leftMenu[r].color?'style="background-color: '+t.leftMenu[r].color+'"':"")+' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-'+t.leftMenu[r].icon+'">'+(t.leftMenu[r].text||"")+"</div>";for(r=0;r<t.rightMenu.length;++r)c+="<div "+(t.rightMenu[r].color?'style="background-color: '+t.rightMenu[r].color+'"':"")+' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-'+t.rightMenu[r].icon+'">'+(t.rightMenu[r].text||"")+"</div>";t.actions.left&&(t.swipe=t.actions.right?t.swipe:"right"),t.actions.right&&(t.swipe=t.actions.left?t.swipe:"left"),t.icons='<div class="mbsc-lv-multi mbsc-lv-multi-ic-left">'+o+'</div><div class="mbsc-lv-multi mbsc-lv-multi-ic-right">'+c+"</div>"}}),Dt.fixedHeader&&(t="mbsc-lv-fixed-header"+(We?" mbsc-lv-fixed-header-ctx mbsc-lv-"+Dt.theme+(Dt.baseTheme?" mbsc-lv-"+Dt.baseTheme:""):""),Ne?Ne.attr("class",t):(Ne=Le('<div class="'+t+'"></div>'),We?zt.before(Ne):re.prepend(Ne),pt=h(_,200),zt.on("scroll touchmove",pt))),Dt.hover&&(Xe||re.on("mouseover.mbsc-lv",".mbsc-lv-item",function(){Re&&Re[0]==this||(v(),Re=Le(this),Xt[Re.attr("data-type")||"defaults"].actions&&(Be=setTimeout(function(){vt?Re=null:(qe=!0,Jt.openActions(Re,je,Xe,!1))},Ue)))}).on("mouseleave.mbsc-lv",v),Xe=Dt.hover.time||200,Ue=Dt.hover.timeout||200,je=Dt.hover.direction||Dt.hover||"right"),Fe&&re.attr("mbsc-enhance",""),re.trigger("mbsc-enhance",[{theme:Dt.theme,lang:Dt.lang}])},Jt._destroy=function(){var e;de.append(oe),We&&Ne&&Ne.remove(),Fe&&(ea.attr("mbsc-enhance",""),(e=ne.instances[re[0].id])&&e.destroy()),Qt.removeEventListener("click",y,!0),re.find(".mbsc-lv-txt,.mbsc-lv-img").removeClass("mbsc-lv-txt mbsc-lv-img"),re.find(lt).removeClass("mbsc-lv mbsc-lv-v mbsc-lv-root mbsc-lv-sl-curr").find(nt).removeClass("mbsc-lv-gr-title mbsc-lv-item mbsc-lv-item-enhanced mbsc-lv-parent mbsc-lv-img-left mbsc-lv-img-right mbsc-lv-item-ic-left mbsc-lv-item-ic-right").removeAttr("data-ref"),Le(".mbsc-lv-back,.mbsc-lv-handle-c,.mbsc-lv-arr,.mbsc-lv-item-ic",re).remove(),ea.insertAfter(re),re.remove(),Je.remove(),zt.off("orientationchange resize",g),pt&&zt.off("scroll touchmove",pt)};var da,ua=[],ma=[],ha=[],fa=0;Jt.startActionTrack=function(){fa||(ha=[]),fa++},Jt.endActionTrack=function(){--fa||ma.push(ha)},Jt.addUndoAction=function(e,t){var a={action:e,async:t};fa?ha.push(a):(ma.push([a]),ma.length>Dt.undoLimit&&ma.shift())},Jt.undo=function(){function e(){s<0?(da=!1,t()):(a=n[s],s--,a.async?a.action(e):(a.action(),e()))}function t(){(n=ua.shift())&&(da=!0,s=n.length-1,e())}var a,s,n;ma.length&&ua.push(ma.pop()),da||t()},Dt=Jt.settings,Ae=Jt.trigger,Jt.init(t)};da.prototype={_class:"listview",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_defaults:{context:"body",actionsWidth:90,sortDelay:250,undoLimit:10,swipe:!0,quickSwipe:!0,animateIcons:!0,animation:!0,revert:!0,vibrate:!0,handleClass:"",handleMarkup:'<div class="mbsc-lv-handle-bar mbsc-lv-handle"></div><div class="mbsc-lv-handle-bar mbsc-lv-handle"></div><div class="mbsc-lv-handle-bar mbsc-lv-handle"></div>',listNode:"ul",listSelector:"ul,ol",itemNode:"li",itemSelector:"li",leftArrowClass:"mbsc-ic-arrow-left4",rightArrowClass:"mbsc-ic-arrow-right4",backText:"Back",undoText:"Undo",stages:[]}},la.ListView=da,ne.themes.listview.mobiscroll={leftArrowClass:"mbsc-ic-arrow-left5",rightArrowClass:"mbsc-ic-arrow-right5"},ne.presetShort("listview","ListView");var ua=function(e,t,a){var s,n,i,r,o=this;Se.call(this,e,t,!0),o.__init=l,o.__destroy=l,o._init=function(t){var a;r=o.settings,s=Le(e),a=!!n,n=s.parent(),n=n.hasClass("mbsc-input-wrap")?n.parent():n,o._$parent=n,i&&n.removeClass(i),i=o._css+" mbsc-progress-w mbsc-control-w mbsc-"+r.theme+(r.baseTheme?" mbsc-"+r.baseTheme:"")+(r.rtl?" mbsc-rtl":" mbsc-ltr"),n.addClass(i),s.addClass("mbsc-control"),o.__init(t),a||o._attachChange(),o.refresh()},o._destroy=function(){o.__destroy(),n.removeClass(i),s.removeClass("mbsc-control")},a||o.init(t)};ua.prototype={_class:"progressbase"};var ma="mbsc-input-wrap",ha=function(e,t,a){function s(){var e=n("value",m);e!==b&&i(e)}function n(e,t){var a=l.attr(e);return void 0===a||""===a?t:+a}function i(e,t,a,s){e=Math.min(h,Math.max(e,m)),c.css("width",100*(e-m)/(h-m)+"%"),void 0===a&&(a=!0),void 0===s&&(s=a),(e!==b||t)&&g._display(e),e!==b&&(b=e,a&&l.attr("value",b),s&&l.trigger("change"))}var r,l,o,c,d,u,m,h,f,p,b,v,g=this;ua.call(this,e,t,!0),g._display=function(e){v=p&&f.returnAffix?p.replace(/\{value\}/,e).replace(/\{max\}/,h):e,d&&d.html(v),r&&r.html(v)},g._attachChange=function(){l.on("change",s)},g.__init=function(t){var a,s,i,v;if(f=g.settings,l=Le(e),v=!!o,o=g._$parent,m=g._min=void 0===t.min?n("min",f.min):t.min,h=g._max=void 0===t.max?n("max",f.max):t.max,b=n("value",m),a=l.attr("data-val")||f.val,i=l.attr("data-step-labels"),i=i?JSON.parse(i):f.stepLabels,p=l.attr("data-template")||(100!=h||f.template?f.template:"{value}%"),v?(a&&(r.remove(),o.removeClass("mbsc-progress-value-"+("right"==a?"right":"left"))),i&&Le(".mbsc-progress-step-label",u).remove()):(M(o),C(l),o.find(".mbsc-input-wrap").append('<span class="mbsc-progress-cont"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-progress-bar"></span></span></span>'),c=g._$progress=o.find(".mbsc-progress-bar"),u=g._$track=o.find(".mbsc-progress-track")),l.attr("min",m).attr("max",h),a&&(r=Le('<span class="mbsc-progress-value"></span>'),o.addClass("mbsc-progress-value-"+("right"==a?"right":"left")).find(".mbsc-input-wrap").append(r)),i)for(s=0;s<i.length;++s)u.append('<span class="mbsc-progress-step-label" style="'+(f.rtl?"right":"left")+": "+100*(i[s]-m)/(h-m)+'%" >'+i[s]+"</span>");d=Le(l.attr("data-target")||f.target)},g.__destroy=function(){o.removeClass("mbsc-ic-left mbsc-ic-right").find(".mbsc-progress-cont").remove(),o.find(".mbsc-input-ic").remove(),l.off("change",s)},g.refresh=function(){i(n("value",m),!0,!1)},g.getVal=function(){return b},g.setVal=function(e,t,a){i(e,!0,t,a)},a||g.init(t)};ha.prototype={_class:"progress",_css:"mbsc-progress",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{min:0,max:100,returnAffix:!0}},ne.classes.Progress=ha,ne.presetShort("progress","Progress");var fa=function(e,t,a){function s(t){!x(t,this)||D||e.disabled||(R.stopProp&&t.stopPropagation(),D=!0,P=!1,S=!1,X=b(t,"X"),U=b(t,"Y"),I=X,k.removeClass("mbsc-progress-anim"),w=W?Le(".mbsc-slider-handle",this):C,_&&_.removeClass("mbsc-handle-curr"),_=w.parent().addClass("mbsc-active mbsc-handle-curr"),O=+w.attr("data-index"),K=k[0].offsetWidth,E=k[0].getBoundingClientRect().left,"mousedown"===t.type&&(t.preventDefault(),Le(document).on("mousemove",n).on("mouseup",i)))}function n(e){D&&(I=b(e,"X"),L=b(e,"Y"),V=I-X,A=L-U,(Math.abs(V)>5||P)&&(P=!0,Math.abs(J-new Date)>50&&(J=new Date,f(I,R.round,H))),P?e.preventDefault():Math.abs(A)>7&&h())}function i(e){D&&(e.preventDefault(),W||k.addClass("mbsc-progress-anim"),f(I,!0,!0),P||S||("touchend"==e.type&&p(),Z._onTap(G[O])),h())}function r(){D&&h()}function o(){var e=Z._readValue(Le(this)),t=+Le(this).attr("data-index");e!==G[t]&&(G[t]=e,$[t]=e,g(e,t))}function c(e){e.stopPropagation()}function d(e){e.preventDefault()}function u(t){var a;if(!e.disabled){switch(t.keyCode){case 38:case 39:a=1;break;case 40:case 37:a=-1}a&&(t.preventDefault(),z||(O=+Le(this).attr("data-index"),g(G[O]+j*a,O,!0),z=setInterval(function(){g(G[O]+j*a,O,!0)},200)))}}function m(e){e.preventDefault(),clearInterval(z),z=null}function h(){D=!1,_.removeClass("mbsc-active"),Le(document).off("mousemove",n).off("mouseup",i)}function f(e,t,a){var s=t?Math.min(Math.round(Math.max(100*(e-E)/K,0)/q/j)*j*100/(N-F),100):Math.max(0,Math.min(100*(e-E)/K,100));Y&&(s=100-s),g(Math.round((F+s/q)*B)/B,O,a,s)}function v(e){return 100*(e-F)/(N-F)}function g(e,t,a,s,n,i){var r=C.eq(t),l=r.parent();e=Math.min(N,Math.max(e,F)),void 0===i&&(i=a),Z._update?e=Z._update(e,G,t,s,W,n,l):l.css({left:Y?"auto":(s||v(e))+"%",right:Y?(s||v(e))+"%":"auto"}),e>F?l.removeClass("mbsc-slider-start"):(G[t]>F||n)&&l.addClass("mbsc-slider-start"),a&&$[t]!=e&&(S=!0,$[t]=e,G[t]=e,Z._fillValue(e,t,i)),r.attr("aria-valuenow",e)}var y,w,_,C,T,M,k,D,S,V,A,E,I,L,O,Y,H,N,F,P,W,$,j,R,q,X,U,B,z,K,G,Z=this,J=new Date;ua.call(this,e,t,!0),Z._onTap=l,Z.___init=l,Z.___destroy=l,Z._attachChange=function(){y.on(R.changeEvent,o)},Z.__init=function(e){var t;C&&(t=!0,C.parent().remove()),Z.___init(e),M=Z._$parent,k=Z._$track,y=M.find("input"),R=Z.settings,F=Z._min,N=Z._max,j=Z._step,H=Z._live,B=j%1!=0?100/(100*+(j%1).toFixed(2)):1,q=100/(N-F)||100,W=y.length>1,Y=R.rtl,G=[],$=[],y.each(function(e){G[e]=Z._readValue(Le(this)),Le(this).attr("data-index",e)}),C=M.find(".mbsc-slider-handle"),T=M.find(W?".mbsc-slider-handle-cont":".mbsc-progress-cont"),C.on("keydown",u).on("keyup",m).on("blur",m),T.on("touchstart mousedown",s).on("touchmove",n).on("touchend touchcancel",i).on("pointercancel",r),t||(y.on("click",c),M.on("click",d))},Z.__destroy=function(){M.off("click",d),y.off(R.changeEvent,o).off("click",c),C.off("keydown",u).off("keyup",m).off("blur",m),T.off("touchstart mousedown",s).off("touchmove",n).off("touchend touchcancel",i).off("pointercancel",r),Z.___destroy()},Z.refresh=function(){y.each(function(e){g(Z._readValue(Le(this)),e,!0,!1,!0,!1)})},Z.getVal=function(){return W?G.slice(0):G[0]},Z.setVal=Z._setVal=function(e,t,a){Le.isArray(e)||(e=[e]),Le.each(e,function(e,t){G[e]=t}),Le.each(e,function(e,t){g(t,e,!0,!1,!0,a)})},a||Z.init(t)};fa.prototype={_class:"sliderbase"};var pa=function(e,t,a){function s(e){return 100*(e-p)/(f-p)}function n(e,t){var a=i.attr(e);return void 0===a||""===a?t:"true"===a}var i,r,l,o,c,d,u,m,h,f,p,b,v,g=this;ha.call(this,e,t,!0);var y=g.__init,x=g.__destroy;fa.call(this,e,t,!0);var w=g.__init,_=g.__destroy;g.__init=function(e){y(e),w(e)},g.__destroy=function(){x(),_()},g._update=function(e,t,a,n,i,r,c){return m?0===a?(e=Math.min(e,t[1]),l.css({width:s(t[1])-s(e)+"%",left:h?"auto":s(e)+"%",right:h?s(e)+"%":"auto"})):(e=Math.max(e,t[0]),l.css({width:s(e)-s(t[0])+"%"})):i||!d?c.css({left:h?"auto":(n||s(e))+"%",right:h?(n||s(e))+"%":"auto"}):l.css("width",(n||s(e))+"%"),u&&o.eq(a).html(e),i||t[a]==e&&!r||g._display(e),e},g._readValue=function(e){return+e.val()},g._fillValue=function(e,t,a){i.eq(t).val(e),a&&i.eq(t).trigger("change")},g.___init=function(e){var t,a;if(r&&(r.removeClass("mbsc-slider-has-tooltip"),1!=b&&Le(".mbsc-slider-step",c).remove()),r=g._$parent,c=g._$track,l=g._$progress,i=r.find("input"),v=g.settings,p=g._min,f=g._max,g._step=b=void 0===e.step?+i.attr("step")||v.step:e.step,g._live=n("data-live",v.live),u=n("data-tooltip",v.tooltip),d=n("data-highlight",v.highlight)&&i.length<3,m=d&&2==i.length,h=v.rtl,u&&r.addClass("mbsc-slider-has-tooltip"),1!=b)for(a=(f-p)/b,t=0;t<=a;++t)c.append('<span class="mbsc-slider-step" style="'+(h?"right":"left")+":"+100/a*t+'%"></span>');i.each(function(e){"range"==this.type&&Le(this).attr("min",p).attr("max",f).attr("step",b),(d?l:c).append('<span class="mbsc-slider-handle-cont'+(m&&!e?" mbsc-slider-handle-left":"")+'"><span tabindex="0" class="mbsc-slider-handle" aria-valuemin="'+p+'" aria-valuemax="'+f+'" data-index="'+e+'"></span>'+(u?'<span class="mbsc-slider-tooltip"></span>':"")+"</span>")}),o=r.find(".mbsc-slider-tooltip")},a||g.init(t)};pa.prototype={_class:"progress",_css:"mbsc-progress mbsc-slider",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{changeEvent:"change",stopProp:!0,min:0,max:100,step:1,live:!0,highlight:!0,round:!0,returnAffix:!0}},ne.classes.Slider=pa,ne.presetShort("slider","Slider");var ba=ne.classes,va=function(e,t){var a="",s=Le(e),n=this,i=n.settings;Se.call(this,e,t,!0),n._init=function(){var e=i.context,t=Le(e),n=t.find(".mbsc-ms-top .mbsc-ms"),r=t.find(".mbsc-ms-bottom .mbsc-ms"),l={};"body"==e?Le("body,html").addClass("mbsc-page-ctx"):t.addClass("mbsc-page-ctx"),a&&s.removeClass(a),n.length&&(l.paddingTop=n[0].offsetHeight),r.length&&(l.paddingBottom=r[0].offsetHeight),a="mbsc-page mbsc-"+i.theme+(i.baseTheme?" mbsc-"+i.baseTheme:"")+(i.rtl?" mbsc-rtl":" mbsc-ltr"),s.addClass(a).css(l)},n._destroy=function(){s.removeClass(a)},i=n.settings,n.init(t)};va.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"page",_defaults:{context:"body"}},ba.Page=va,ne.themes.page.mobiscroll={},ne.presetShort("page","Page"),_e&&Le(function(){Le("[mbsc-page]").each(function(){new ba.Page(this)}),Le(document).on("mbsc-enhance",function(e,t){Le(e.target).is("[mbsc-page]")?new ba.Page(e.target,t):Le("[mbsc-page]",e.target).each(function(){new ba.Page(this,t)})})});var ga=_e&&!!window.Promise,ya=[],xa=[];ne.alert=function(e){var t=document.createElement("div");return t.innerHTML=P(e),X(W,t,e)},ne.confirm=function(e){var t=document.createElement("div");return t.innerHTML=P(e),X($,t,e)},ne.prompt=function(e){var t=document.createElement("div");return t.innerHTML=P(e)+'<label class="mbsc-input">'+(e.label?'<span class="mbsc-label">'+e.label+"</span>":"")+'<input tabindex="0" type="'+(e.inputType||"text")+'" placeholder="'+(e.placeholder||"")+'" value="'+(e.value||"")+'"></label>',X(j,t,e)},ne.snackbar=function(e){var t=document.createElement("div");return t.innerHTML='<div class="mbsc-snackbar-cont"><div class="mbsc-snackbar-msg">'+(e.message||"")+"</div>"+(e.button?'<button class="mbsc-snackbar-btn mbsc-btn mbsc-btn-flat">'+(e.button.text||"")+"</button>":"")+"</div>",X(R,t,e)},ne.toast=function(e){var t=document.createElement("div");return t.innerHTML='<div class="mbsc-toast-msg">'+(e.message||"")+"</div>",X(q,t,e)};var wa=["touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseup","mouseleave"],_a={tap:!0},Ca=void 0,Ta=function(){function e(t,a){var s=this;re(this,e);var n=Oe({},_a,ne.settings,a),i=Le(t),r=i.parent(),l=r.hasClass("mbsc-input-wrap")?r.parent():r,o=i.next().hasClass("mbsc-fr")?i.next():null,c=U(i);o&&o.insertAfter(l),M(l,c),i.addClass("mbsc-control"),wa.forEach(function(e){t.addEventListener(e,s)}),this.settings=n,this._type=c,this._elm=t,this._$elm=i,this._$parent=l,this._$frame=o,this._ripple=B(n.theme)}return le(e,[{key:"destroy",value:function(){var e=this;this._$elm.removeClass("mbsc-control"),wa.forEach(function(t){e._elm.removeEventListener(t,e)})}},{key:"option",value:function(e){Oe(this.settings,e),this._ripple=B(this.settings.theme)}},{key:"handleEvent",value:function(e){switch(e.type){case"touchstart":case"mousedown":this._onStart(e);break;case"touchmove":case"mousemove":this._onMove(e);break;case"touchend":case"touchcancel":case"mouseup":case"mouseleave":this._onEnd(e)}}},{key:"_addRipple",value:function(e){this._ripple&&this._$rippleElm&&this._ripple.addRipple(this._$rippleElm,e)}},{key:"_removeRipple",value:function(){this._ripple&&this._$rippleElm&&this._ripple.removeRipple()}},{key:"_onStart",value:function(e){var t=this._elm;x(e,t)&&(this._startX=b(e,"X"),this._startY=b(e,"Y"),Ca&&Ca.removeClass("mbsc-active"),t.disabled||(this._isActive=!0,Ca=this._$elm,Ca.addClass("mbsc-active"),this._addRipple(e)))}},{key:"_onMove",value:function(e){(this._isActive&&Math.abs(b(e,"X")-this._startX)>9||Math.abs(b(e,"Y")-this._startY)>9)&&(this._$elm.removeClass("mbsc-active"),this._removeRipple(),this._isActive=!1)}},{key:"_onEnd",value:function(e){var t=this,a=this._elm,s=this._type;if(this._isActive&&this.settings.tap&&"touchend"==e.type&&!a.readOnly&&(a.focus(),/(button|submit|checkbox|switch|radio)/.test(s)&&e.preventDefault(),!/select/.test(s))){var n=(e.originalEvent||e).changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.tap=!0,a.mbscChange=!0,a.dispatchEvent(i),p()}this._isActive&&setTimeout(function(){t._$elm.removeClass("mbsc-active"),t._removeRipple()},100),this._isActive=!1,Ca=null}}]),e}(),Ma=function(e){function t(e,a){re(this,t);var s=de(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return T(s,s._$parent,s._$elm),s._$parent.addClass("mbsc-input"),s}return ce(t,e),le(t,[{key:"destroy",value:function(){oe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._$parent.removeClass("mbsc-ic-left mbsc-ic-right").find(".mbsc-input-ic").remove()}}]),t}(Ta),ka=function(e){function t(e,a){re(this,t);var s=de(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a)),n=s._$elm,i=n.attr("data-icon");return n.addClass("mbsc-btn").find(".mbsc-btn-ic").remove(),i&&(n.prepend('<span class="mbsc-btn-ic mbsc-ic mbsc-ic-'+i+'"></span>'),""===n.text()&&n.addClass("mbsc-btn-icon-only")),s._$rippleElm=n,s}return ce(t,e),t}(Ta),Da=function(e){function t(e,a){re(this,t);var s=de(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return s._$parent.prepend(s._$elm).addClass("mbsc-checkbox mbsc-control-w").find(".mbsc-checkbox-box").remove(),s._$elm.after('<span class="mbsc-checkbox-box"></span>'),s}return ce(t,e),t}(Ta),Sa=function(e){function t(e,a){re(this,t);var s=de(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return s._$parent.addClass("mbsc-radio mbsc-control-w").find(".mbsc-radio-box").remove(),s._$elm.after('<span class="mbsc-radio-box"><span></span></span>'),s}return ce(t,e),t}(Ta),Va=function(e){function t(e,a){re(this,t);var s=de(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a)),n=s._$elm,i=s._$parent,r=i.find("input.mbsc-control"),l=r.length?r:Le('<input tabindex="-1" class="mbsc-control" readonly>');return s._$input=l,i.addClass("mbsc-select"+(s._$frame?" mbsc-select-inline":"")),n.after(l),l.after('<span class="mbsc-select-ic mbsc-ic mbsc-ic-arrow-down5"></span>'),n.hasClass("mbsc-comp")||(e.addEventListener("change",s),s._setText()),s}return ce(t,e),le(t,[{key:"destroy",value:function(){oe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._$elm.after(this._$input),this._elm.removeEventListener("change",this)}},{key:"handleEvent",value:function(e){oe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleEvent",this).call(this,e),"change"==e.type&&this._setText()}},{key:"_setText",value:function(){var e=this._elm;this._$elm.hasClass("mbsc-comp")||this._$input.val(-1!=e.selectedIndex?e.options[e.selectedIndex].text:"")}}]),t}(Ma),Aa=["keydown","input","scroll"],Ea=void 0;_e&&Le(window).on("resize orientationchange",z);var Ia=function(e){function t(e,a){re(this,t);var s=de(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return s._$parent.addClass("mbsc-textarea"),Aa.forEach(function(e){s._elm.addEventListener(e,s)}),K(e),s}return ce(t,e),le(t,[{key:"destroy",value:function(){var e=this;oe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),Aa.forEach(function(t){e._elm.removeEventListener(t,e)})}},{key:"handleEvent",value:function(e){switch(oe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleEvent",this).call(this,e),e.type){case"keydown":case"input":this._onInput(e);break;case"scroll":G(this._elm)}}},{key:"_onInput",value:function(){var e=this;clearTimeout(this._debounce),this._debounce=setTimeout(function(){K(e._elm)},100)}}]),t}(Ma),La=function(e){function t(e,a){re(this,t);var s=de(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a)),n=void 0,i=void 0,r=s._$elm,l=s._$parent;return l.hasClass("mbsc-segmented-item-ready")||(n=Le('<div class="mbsc-segmented"></div>'),l.after(n),l.parent().find('input[name="'+r.attr("name")+'"]').each(function(){var e=Le(this);i=e.parent().addClass("mbsc-segmented-item mbsc-segmented-item-ready"),Le('<span class="mbsc-segmented-content">'+(e.attr("data-icon")?'<span class="mbsc-ic mbsc-ic-'+e.attr("data-icon")+'"></span>':"")+"</span>").append(i.contents()).appendTo(i),i.prepend(e),n.append(i)})),s._$rippleElm=r.next(),s}return ce(t,e),t}(Ta),Oa=function(e,t){function a(t){32==t.keyCode&&(t.preventDefault(),v||e.disabled||(m=Le(this).addClass("mbsc-active"),c(t)))}function s(e){v&&(e.preventDefault(),d(!0))}function n(t){x(t,this)&&!e.disabled&&(m=Le(this).addClass("mbsc-active").trigger("focus"),S&&!m.hasClass("mbsc-step-disabled")&&S.addRipple(m.find(".mbsc-segmented-content"),t),c(t),"mousedown"===t.type&&Le(document).on("mousemove",r).on("mouseup",i))}function i(e){v&&(e.preventDefault(),d(!0),"mouseup"===e.type&&Le(document).off("mousemove",r).off("mouseup",i))}function r(e){v&&(C=b(e,"X"),T=b(e,"Y"),y=C-E,w=T-I,(Math.abs(y)>7||Math.abs(w)>7)&&d())}function l(){var t;e.disabled||(t=parseFloat(Le(this).val()),o(isNaN(t)?O:t))}function o(e,t,a){P=O,void 0===t&&(t=!0),void 0===a&&(a=t),O=void 0!==e?Math.min(k,Math.max(Math.round(e/V)*V,D)):Math.min(k,Math.max(O+(m.hasClass("mbsc-stepper-minus")?-V:V),D)),g=!0,p.removeClass("mbsc-step-disabled"),t&&F.val(O),O==D?f.addClass("mbsc-step-disabled"):O==k&&h.addClass("mbsc-step-disabled"),O!==P&&a&&F.trigger("change")}function c(e){v||(v=!0,g=!1,E=b(e,"X"),I=b(e,"Y"),clearInterval(M),clearTimeout(M),M=setTimeout(function(){o(),M=setInterval(function(){o()},150)},300))}function d(e){clearInterval(M),clearTimeout(M),!g&&e&&o(),v=!1,g=!1,m.removeClass("mbsc-active"),S&&setTimeout(function(){S.removeRipple()},100)}function u(e,t){var a=F.attr(e);return void 0===a||""===a?t:+a}var m,h,f,p,v,g,y,w,_,C,T,M,k,D,S,V,A,E,I,L,O,Y,H,N=this,F=Le(e),P=O;Se.call(this,e,t,!0),N.getVal=function(){var e=parseFloat(F.val());return e=isNaN(e)?O:e,Math.min(k,Math.max(Math.round(e/V)*V,D))},N.setVal=function(e,t,a){e=parseFloat(e),o(isNaN(e)?O:e,t,a)},N._init=function(t){Y=F.parent().hasClass("mbsc-stepper"),H=Y?F.closest(".mbsc-stepper-cont"):F.parent(),A=N.settings,D=void 0===t.min?u("min",A.min):t.min,
k=void 0===t.max?u("max",A.max):t.max,V=void 0===t.step?u("step",A.step):t.step,_=F.attr("data-val")||A.val,O=Math.min(k,Math.max(Math.round(+e.value/V)*V||0,D)),L=ne.themes.form[A.theme],S=L&&L.addRipple?L:null,Y||H.addClass("mbsc-stepper-cont mbsc-control-w").append('<span class="mbsc-segmented mbsc-stepper"></span>').find(".mbsc-stepper").append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-minus '+(O==D?"mbsc-step-disabled":"")+'"  tabindex="0"><span class="mbsc-segmented-content"><span class="mbsc-ic mbsc-ic-minus"></span></span></span>').append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-plus '+(O==k?"mbsc-step-disabled":"")+'"  tabindex="0"><span class="mbsc-segmented-content"> <span class="mbsc-ic mbsc-ic-plus"></span> </span></span>').prepend(F),f=Le(".mbsc-stepper-minus",H),h=Le(".mbsc-stepper-plus",H),Y||("left"==_?(H.addClass("mbsc-stepper-val-left"),F.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"></span></span>')):"right"==_?(H.addClass("mbsc-stepper-val-right"),h.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"></span></span>')):f.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content mbsc-stepper-val"></span></span>')),F.val(O).attr("data-role","stepper").attr("min",D).attr("max",k).attr("step",V).on("change",l),p=Le(".mbsc-stepper-control",H).on("keydown",a).on("keyup",s).on("mousedown touchstart",n).on("touchmove",r).on("touchend touchcancel",i),F.addClass("mbsc-stepper-ready mbsc-control")},N._destroy=function(){F.removeClass("mbsc-control").off("change",l),p.off("keydown",a).off("keyup",s).off("mousedown touchstart",n).off("touchmove",r).off("touchend touchcancel",i)},N.init(t)};Oa.prototype={_class:"stepper",_hasDef:!0,_defaults:{min:0,max:100,step:1}},ne.classes.Stepper=Oa,ne.presetShort("stepper","Stepper");var Ya=function(e,t){var a,s,n,i,r=this;t=t||{},Oe(t,{changeEvent:"click",round:!1}),fa.call(this,e,t,!0),r._readValue=function(){return e.checked?1:0},r._fillValue=function(e,t,s){a.prop("checked",!!e),s&&a.trigger("change")},r._onTap=function(e){r._setVal(e?0:1)},r.___init=function(){n=r.settings,a=Le(e),s=a.parent(),s.find(".mbsc-switch-track").remove(),s.prepend(a),a.attr("data-role","switch").after('<span class="mbsc-progress-cont mbsc-switch-track"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-slider-handle-cont"><span class="mbsc-slider-handle mbsc-switch-handle" data-index="0"><span class="mbsc-switch-txt-off">'+n.offText+'</span><span class="mbsc-switch-txt-on">'+n.onText+"</span></span></span></span></span>"),i&&i.destroy(),i=new Ta(e,n),r._$track=s.find(".mbsc-progress-track"),r._min=0,r._max=1,r._step=1},r.___destroy=function(){i.destroy()},r.getVal=function(){return e.checked},r.setVal=function(e,t,a){r._setVal(e?1:0,t,a)},r.init(t)};Ya.prototype={_class:"switch",_css:"mbsc-switch",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{stopProp:!0,offText:"Off",onText:"On"}},ne.classes.Switch=Ya,ne.presetShort("switch","Switch");var Ha=0,Na="ios"==ve&&ye>7,Fa=ne.instances,Pa=function(e,t){function a(){i.removeClass("mbsc-no-touch")}var s,n="",i=Le(e),r={},l=this;Se.call(this,e,t,!0),l.refresh=function(e){Le("input,select,textarea,progress,button",i).each(function(){var e,t=this,a=Le(t),n=U(a);if("false"!=a.attr("data-enhance")&&ne.dtdDV)if(a.hasClass("mbsc-control"))(e=Fa[t.id]||r[t.id])&&e.option&&e.option({theme:s.theme,lang:s.lang,rtl:s.rtl,onText:s.onText,offText:s.offText,stopProp:s.stopProp});else switch(t.id||(t.id="mbsc-form-control-"+ ++Ha),n){case"button":case"submit":r[t.id]=new ka(t,{theme:s.theme,tap:s.tap});break;case"switch":r[t.id]=new Ya(t,{theme:s.theme,lang:s.lang,rtl:s.rtl,tap:s.tap,onText:s.onText,offText:s.offText,stopProp:s.stopProp});break;case"checkbox":r[t.id]=new Da(t,{tap:s.tap});break;case"range":Le(t).parent().hasClass("mbsc-slider")||(r[t.id]=new pa(t,{theme:s.theme,lang:s.lang,rtl:s.rtl,stopProp:s.stopProp}));break;case"progress":r[t.id]=new ha(t,{theme:s.theme,lang:s.lang,rtl:s.rtl});break;case"radio":r[t.id]=new Sa(t,{tap:s.tap});break;case"select":case"select-one":case"select-multiple":r[t.id]=new Va(t,{tap:s.tap});break;case"textarea":r[t.id]=new Ia(t,{tap:s.tap});break;case"segmented":r[t.id]=new La(t,{theme:s.theme,tap:s.tap});break;case"stepper":r[t.id]=new Oa(t,{theme:s.theme});break;case"hidden":return;default:r[t.id]=new Ma(t,{tap:s.tap})}}),e||z()},l._init=function(){ne.themes.form[s.theme]||(s.theme="mobiscroll"),i.hasClass("mbsc-form")||i.on("touchstart",a).show(),n&&i.removeClass(n),n="mbsc-form mbsc-no-touch mbsc-"+s.theme+(Na?" mbsc-form-hb":"")+(s.baseTheme?" mbsc-"+s.baseTheme:"")+(s.rtl?" mbsc-rtl":" mbsc-ltr"),i.addClass(n),l.refresh()},l._destroy=function(){i.removeClass(n).off("touchstart",a);for(var e in r)r[e].destroy()},s=l.settings,l.init(t)};Pa.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"form",_defaults:{tap:!0,stopProp:!0,lang:"en"}},ne.themes.form.mobiscroll={},ne.classes.Form=Pa,ne.presetShort("form","Form"),_e&&Le(function(){var e="[mbsc-enhance],[mbsc-form]";Le(e).each(function(){new Pa(this)}),Le(document).on("mbsc-enhance",function(t,a){Le(t.target).is(e)?new Pa(t.target,a):Le(e,t.target).each(function(){new Pa(this,a)})}),Le(document).on("mbsc-refresh",function(t){var a;Le(t.target).is(e)?(a=Fa[t.target.id])&&a.refresh():Le(e,t.target).each(function(){(a=Fa[this.id])&&a.refresh()})})}),ne.i18n["en-GB"]=ne.i18n["en-UK"]={dateFormat:"dd/mm/yy",timeFormat:"HH:ii"},ne.i18n.zh={setText:"确定",cancelText:"取消",clearText:"明确",selectedText:"{count} 选",dateFormat:"yy/mm/dd",dayNames:["周日","周一","周二","周三","周四","周五","周六"],dayNamesShort:["日","一","二","三","四","五","六"],dayNamesMin:["日","一","二","三","四","五","六"],dayText:"日",hourText:"时",minuteText:"分",monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["一","二","三","四","五","六","七","八","九","十","十一","十二"],monthText:"月",secText:"秒",timeFormat:"HH:ii",yearText:"年",nowText:"当前",pmText:"下午",amText:"上午",todayText:"今天",dateText:"日",timeText:"时间",calendarText:"日历",closeText:"关闭",fromText:"开始时间",toText:"结束时间",wholeText:"合计",fractionText:"分数",unitText:"单位",labels:["年","月","日","小时","分钟","秒",""],labelsShort:["年","月","日","点","分","秒",""],startText:"开始",stopText:"停止",resetText:"重置",lapText:"圈",hideText:"隐藏",backText:"返回",undoText:"复原",offText:"关闭",onText:"开启",decimalSeparator:",",thousandsSeparator:" "},ne.customTheme("android-holo-light","android-holo"),ne.customTheme("ios-dark","ios"),ne.customTheme("material-dark","material"),ne.customTheme("mobiscroll-dark","mobiscroll"),ne.customTheme("wp-light","wp");var Wa=ne.themes,$a=void 0;return"android"==ve?$a=ye>=5?"material":"android-holo":"ios"==ve?$a="ios":"wp"==ve&&($a="wp"),ne.setAutoTheme=function(){Le.each(Wa.frame,function(e,t){if($a&&t.baseTheme==$a&&"android-holo-light"!=e&&"material-dark"!=e&&"wp-light"!=e&&"ios-dark"!=e)return ne.autoTheme=e,!1;e==$a&&(ne.autoTheme=e)})},ne.setAutoTheme(),ne});